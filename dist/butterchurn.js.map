{"version":3,"file":"butterchurn.js","mappings":"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,CAAC;IAChEJ,cAAc,GAAGA,cAAc,CAACI,OAAO,CAAC,YAAY,EAAE,SAAS,CAAC;IAEhE,IAAI,CAACC,YAAY,GAAG3W,oDAAW,CAAC4W,eAAe,CAACL,oBAAoB,CAAC;IAErE,IAAI,CAAC7V,aAAa,GAAG,IAAI,CAACpM,EAAE,CAACqM,aAAa,CAAC,CAAC;IAE5C,MAAMC,UAAU,GAAG,IAAI,CAACtM,EAAE,CAACmM,YAAY,CAAC,IAAI,CAACnM,EAAE,CAACuM,aAAa,CAAC;IAC9D,IAAI,CAACvM,EAAE,CAACwM,YAAY,CAClBF,UAAU,EACT;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAACG,IAAI,CAAC,CACT,CAAC;IACD,IAAI,CAACzM,EAAE,CAAC0M,aAAa,CAACJ,UAAU,CAAC;IAEjC,MAAMK,UAAU,GAAG,IAAI,CAAC3M,EAAE,CAACmM,YAAY,CAAC,IAAI,CAACnM,EAAE,CAAC4M,eAAe,CAAC;IAChE,IAAI,CAAC5M,EAAE,CAACwM,YAAY,CAClBG,UAAU,EACT;AACP;AACA,kBAAkB,IAAI,CAACV,cAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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ChEJ,cAAc,GAAGA,cAAc,CAACI,OAAO,CAAC,YAAY,EAAE,SAAS,CAAC;IAEhE,IAAI,CAACC,YAAY,GAAG3W,oDAAW,CAAC4W,eAAe,CAACL,oBAAoB,CAAC;IAErE,IAAI,CAAC7V,aAAa,GAAG,IAAI,CAACpM,EAAE,CAACqM,aAAa,CAAC,CAAC;IAE5C,MAAMC,UAAU,GAAG,IAAI,CAACtM,EAAE,CAACmM,YAAY,CAAC,IAAI,CAACnM,EAAE,CAACuM,aAAa,CAAC;IAC9D,IAAI,CAACvM,EAAE,CAACwM,YAAY,CAClBF,UAAU,EACT;AACP;AACA,kBAAkB,IAAI,CAACL,cAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAACQ,IAAI,CAAC,CACT,CAAC;IACD,IAAI,CAACzM,EAAE,CAAC0M,aAAa,CAACJ,UAAU,CAAC;IAEjC,MAAMK,UAAU,GAAG,IAAI,CAAC3M,EAAE,CAACmM,YAAY,CAAC,IAAI,CAACnM,EAAE,CAAC4M,eAAe,CAAC;IAChE,IAAI,CAAC5M,EAAE,CAACwM,YAAY,CAClBG,UAAU,EACT;AACP;AACA,kBAAkB,IAAI,CAACV,cAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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,qBAAqB,IAAI;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oJAAoJ;AACpJ,SAAS;;AAET;AACA;AACA,qBAAqB,+BAA+B;AACpD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gBAAgB,gBAAgB,KAAK;AACzE,UAAU,WAAW;AACrB,mBAAmB,2BAA2B;AAC9C,cAAc;AACd,oBAAoB,4GAA4G,0gBAA0gB;AAC1oB,sBAAsB,2BAA2B,2PAA2P;AAC5S;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,kBAAkB,+JAA+J,IAAI,QAAQ,IAAI,qHAAqH,IAAI,YAAY,IAAI,WAAW,sCAAsC,wJAAwJ,sDAAsD,aAAa,qBAAqB,0BAA0B,qCAAqC,kIAAkI,KAAK,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,iHAAiH,aAAa,qBAAqB,aAAa,KAAK,WAAW,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,IAAI,kIAAkI,mBAAmB,QAAQ,qBAAqB,WAAW,IAAI,sHAAsH,IAAI,aAAa,qBAAqB,kIAAkI,IAAI,kIAAkI,IAAI,qLAAqL,mBAAmB,yGAAyG,qBAAqB,+DAA+D,qBAAqB,+DAA+D,qBAAqB,+DAA+D,qBAAqB,aAAa,sCAAsC,+DAA+D,qBAAqB,+DAA+D,qBAAqB,6CAA6C,qBAAqB,6CAA6C,qBAAqB,2BAA2B,qBAAqB,SAAS,qBAAqB,SAAS,qBAAqB,2BAA2B,qBAAqB,0FAA0F,wFAAwF,0FAA0F,qBAAqB,0FAA0F,sBAAsB,0BAA0B,qCAAqC,yGAAyG,qCAAqC,QAAQ,uCAAuC,gKAAgK;AAC5/J,0BAA0B,mCAAmC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,0BAA0B,aAAa;AACvC,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,IAAgE;AACpE,IAAI,cAAc;AAClB,IAAI,cAAc;AAClB,IAAI,aAAa,iBAAiB;AAClC,IAAI,YAAY;AAChB,QAAQ,KAA6B,IAAI,4CAAY;AACrD;AACA;AACA;AACA;;;;;;;;;;;ACpqBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA,UAAU,4BAA4B;AACtC;AACA,eAAe,4BAA4B;AAC3C,yBAAyB,4BAA4B;AACrD,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA,UAAU,iCAAiC;AAC3C,UAAU,6BAA6B;AACvC;AACA;AACA,UAAU,2BAA2B;AACrC,UAAU,4BAA4B;AACtC;AACA;AACA,UAAU,2BAA2B;AACrC,UAAU,4BAA4B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,SAAS;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,aAAa,uBAAuB;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,aAAa,0BAA0B;AAC9F;AACA;AACA,KAAK;AACL;AACA;AACA,cAAc;AACd;;;;;;;;;;;AClDa;AACb;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,4DAAU;AACnC,kBAAkB,mBAAO,CAAC,8DAAW;AACrC,mBAAmB,mBAAO,CAAC,gEAAY;AACvC,gCAAgC,mBAAO,CAAC,0DAAS;AACjD,2BAA2B,mBAAO,CAAC,0DAAS;AAC5C,wBAAwB,mBAAO,CAAC,0EAAiB;AACjD,oBAAoB,mBAAO,CAAC,kEAAa;AACzC,yBAAyB,6DAA6D;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA,iDAAiD,KAAK;AACtD,mCAAmC,KAAK;AACxC;AACA,6CAA6C,KAAK;AAClD,+BAA+B,KAAK;AACpC;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,yDAAyD,KAAK;AAC9D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kEAAkE,IAAI;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;;;;;;;;;;ACrPa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,mBAAmB;AACnB,wBAAwB;AACxB;;;;;;;;;;;ACZa;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,gEAAY;AACvC,gCAAgC,mBAAO,CAAC,0DAAS;AACjD,qBAAqB,mBAAO,CAAC,oEAAc;AAC3C,wBAAwB,mBAAO,CAAC,0EAAiB;AACjD,gBAAgB,mBAAO,CAAC,0DAAS;AACjC,oBAAoB,mBAAO,CAAC,kEAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA6F,aAAa;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,aAAa,iBAAiB,OAAO,eAAe,eAAe;AAC3J;AACA;AACA,yFAAyF,aAAa,iBAAiB,OAAO,UAAU,eAAe;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,aAAa;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG,aAAa;AACpH;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,UAAU;AAC5E;AACA;AACA;AACA;AACA,6GAA6G,sBAAsB;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,8FAA8F,aAAa;AAC3G;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,aAAa;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,aAAa;AAC5F;AACA;AACA;AACA;;;;;;;;;;;AC3aa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,mBAAO,CAAC,8DAAW;AAChD,gBAAgB,mBAAO,CAAC,0DAAS;AACjC,aAAa;AACb,oBAAoB;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,kBAAkB;AAClB,mBAAmB;AACnB,gBAAgB;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,wBAAwB;AACxB,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;;;;;;;;;AClQA;AACA;AACA,iBAAiB,mBAAO,CAAC,qEAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,mBAAmB;AACnB;;;;;;;;;;;ACba;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,0DAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ,EAAE,YAAY,IAAI,KAAK;AACjD,KAAK;AACL;AACA;AACA;AACA;AACA,uDAAuD,QAAQ,EAAE,UAAU;AAC3E;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,2BAA2B;AAC3B;;;;;;;;;;;ACjDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA,aAAa;AACb;;;;;;;;;;;AC1Da;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,4DAAU;AACnC,aAAa;AACb,mBAAmB,mBAAO,CAAC,gEAAY;AACvC,qBAAqB;AACrB,gCAAgC,mBAAO,CAAC,0DAAS;AACjD,aAAa;AACb,iBAAiB,mBAAO,CAAC,4DAAU;AACnC,kBAAkB;AAClB;;;;;;;;;;;ACba;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC,mBAAO,CAAC,0DAAS;AACjD,mBAAmB,mBAAO,CAAC,gEAAY;AACvC,4BAA4B,mCAAmC;AAC/D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qDAAqD,YAAY,wBAAwB;AACzF;AACA;AACA,kBAAkB;AAClB;;;;;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,mBAAO,CAAC,wEAAgB;AAC/C,oBAAoB,mBAAO,CAAC,kEAAa;AACzC,mBAAmB,mBAAO,CAAC,gEAAY;AACvC,qBAAqB,mBAAO,CAAC,oEAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,WAAW,+BAA+B;AAC3F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D,yBAAyB;AACpF;AACA;AACA,aAAa;AACb;;;;;;;;;;;ACnCa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA,0BAA0B,0BAA0B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;;;;;;;;;;ACxEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kBAAe;AACf;;;;;;;;;;;ACvBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,UAAU,IAAI,IAAI;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,KAAK;AAC7C;AACA,uCAAuC,KAAK;AAC5C;AACA,kBAAkB;AAClB;;;;;;;;;;;AChEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,gEAAY;AACvC,oBAAoB,mBAAO,CAAC,kEAAa;AACzC,oBAAoB;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;;;ACpKA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C;AACA,yDAAyD;AACzD,0BAA0B,wBAAwB,KAAK,wBAAwB,GAAG,KAAK,GAAG,KAAK;AAC/F;AACA;AACA;AACA,0BAA0B,uBAAuB,EAAE,aAAa,EAAE,4BAA4B;AAC9F;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;;AAEpD;AACA;AACA;AACA;AACA,yDAAyD,GAAG;AAC5D;AACA;;AAEA;AACA;AACA;AACA,wFAAwF,GAAG,UAAU,KAAK;AAC1G;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAyD,GAAG;AAC5D;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,iEAAiE;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY;AAC/C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uDAAuD,IAAI;AAC3D;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,UAAU;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,KAAK;AACjC,4BAA4B,KAAK;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACO,+CAA+C;AACtD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACO,6CAA6C;AACpD;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACO,wDAAwD;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACO,+CAA+C;AACtD;AACA,kBAAkB;AAClB,0EAA0E,WAAW;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,iDAAiD,UAAU,qCAAqC;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD,yBAAyB,4BAA4B;AACrD;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,WAAW;AACX,UAAU,OAAO;AACjB,4CAA4C;AAC5C;AACA;AACA,WAAW;AACX;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;AACf;AACA;AACA;AACA;AACA,CAAC,EAAC;;;;;;;UCpaF;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;UEJA;UACA;UACA;UACA","sources":["webpack://butterchurn/webpack/universalModuleDefinition","webpack://butterchurn/./src/assemblyscript/presetFunctions.ts","webpack://butterchurn/./src/audio/audioLevels.js","webpack://butterchurn/./src/audio/audioProcessor.js","webpack://butterchurn/./src/audio/fft.js","webpack://butterchurn/./src/blankPreset.js","webpack://butterchurn/./src/equations/presetEquationRunner.js","webpack://butterchurn/./src/equations/presetEquationRunnerWASM.js","webpack://butterchurn/./src/image/imageTextures.js","webpack://butterchurn/./src/index.js","webpack://butterchurn/./src/noise/noise.js","webpack://butterchurn/./src/presetBase.js","webpack://butterchurn/./src/rendering/blendPattern.js","webpack://butterchurn/./src/rendering/motionVectors/motionVectors.js","webpack://butterchurn/./src/rendering/renderer.js","webpack://butterchurn/./src/rendering/shaders/blur/blur.js","webpack://butterchurn/./src/rendering/shaders/blur/blurHorizontal.js","webpack://butterchurn/./src/rendering/shaders/blur/blurVertical.js","webpack://butterchurn/./src/rendering/shaders/comp.js","webpack://butterchurn/./src/rendering/shaders/output.js","webpack://butterchurn/./src/rendering/shaders/resample.js","webpack://butterchurn/./src/rendering/shaders/shaderUtils.js","webpack://butterchurn/./src/rendering/shaders/warp.js","webpack://butterchurn/./src/rendering/shapes/customShape.js","webpack://butterchurn/./src/rendering/sprites/border.js","webpack://butterchurn/./src/rendering/sprites/darkenCenter.js","webpack://butterchurn/./src/rendering/text/titleText.js","webpack://butterchurn/./src/rendering/waves/basicWaveform.js","webpack://butterchurn/./src/rendering/waves/customWaveform.js","webpack://butterchurn/./src/rendering/waves/waveUtils.js","webpack://butterchurn/./src/utils.js","webpack://butterchurn/./src/visualizer.js","webpack://butterchurn/./node_modules/ecma-proposal-math-extensions/reference-implementation/index.js","webpack://butterchurn/./node_modules/eel-wasm/dist/build/parser.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/astUtils.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/compiler.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/constants.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/emitter.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/encoding.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/envParser.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/errorUtils.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/ieee754.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/index.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/loader.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/parser.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/preProcessor.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/shims.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/utils.js","webpack://butterchurn/./node_modules/eel-wasm/dist/src/wasmFunctions.js","webpack://butterchurn/./node_modules/@assemblyscript/loader/index.js","webpack://butterchurn/webpack/bootstrap","webpack://butterchurn/webpack/runtime/compat get default export","webpack://butterchurn/webpack/runtime/define property getters","webpack://butterchurn/webpack/runtime/hasOwnProperty shorthand","webpack://butterchurn/webpack/runtime/make namespace object","webpack://butterchurn/webpack/runtime/node module decorator","webpack://butterchurn/webpack/before-startup","webpack://butterchurn/webpack/startup","webpack://butterchurn/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"butterchurn\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"butterchurn\"] = factory();\n\telse\n\t\troot[\"butterchurn\"] = factory();\n})(self, () => {\nreturn ","\nvar data = \"AGFzbQEAAAABPQpgAABgAXwBfGACfHwBfGACf38AYAR/f39/AGAJf39/f3x8fHx8AGADf399AGABfwF/YAJ/fwF/YAF+AX8CuBWMAQNlbnYFYWJvcnQABAhwaXhlbEVxcwtwZXJQaXhlbEVxcwAADHBpeGVsVmFyUG9vbAR3YXJwA3wBDHBpeGVsVmFyUG9vbAR6b29tA3wBDHBpeGVsVmFyUG9vbAd6b29tZXhwA3wBDHBpeGVsVmFyUG9vbAJjeAN8AQxwaXhlbFZhclBvb2wCY3kDfAEMcGl4ZWxWYXJQb29sAnN4A3wBDHBpeGVsVmFyUG9vbAJzeQN8AQxwaXhlbFZhclBvb2wCZHgDfAEMcGl4ZWxWYXJQb29sAmR5A3wBDHBpeGVsVmFyUG9vbANyb3QDfAEMcGl4ZWxWYXJQb29sA3JhZAN8AQxwaXhlbFZhclBvb2wDYW5nA3wBDHBpeGVsVmFyUG9vbAF4A3wBDHBpeGVsVmFyUG9vbAF5A3wBCHFWYXJQb29sAnExA3wBCHFWYXJQb29sAnEyA3wBCHFWYXJQb29sAnEzA3wBCHFWYXJQb29sAnE0A3wBCHFWYXJQb29sAnE1A3wBCHFWYXJQb29sAnE2A3wBCHFWYXJQb29sAnE3A3wBCHFWYXJQb29sAnE4A3wBCHFWYXJQb29sAnE5A3wBCHFWYXJQb29sA3ExMAN8AQhxVmFyUG9vbANxMTEDfAEIcVZhclBvb2wDcTEyA3wBCHFWYXJQb29sA3ExMwN8AQhxVmFyUG9vbANxMTQDfAEIcVZhclBvb2wDcTE1A3wBCHFWYXJQb29sA3ExNgN8AQhxVmFyUG9vbANxMTcDfAEIcVZhclBvb2wDcTE4A3wBCHFWYXJQb29sA3ExOQN8AQhxVmFyUG9vbANxMjADfAEIcVZhclBvb2wDcTIxA3wBCHFWYXJQb29sA3EyMgN8AQhxVmFyUG9vbANxMjMDfAEIcVZhclBvb2wDcTI0A3wBCHFWYXJQb29sA3EyNQN8AQhxVmFyUG9vbANxMjYDfAEIcVZhclBvb2wDcTI3A3wBCHFWYXJQb29sA3EyOAN8AQhxVmFyUG9vbANxMjkDfAEIcVZhclBvb2wDcTMwA3wBCHFWYXJQb29sA3EzMQN8AQhxVmFyUG9vbANxMzIDfAEIdFZhclBvb2wCdDEDfAEIdFZhclBvb2wCdDIDfAEIdFZhclBvb2wCdDMDfAEIdFZhclBvb2wCdDQDfAEIdFZhclBvb2wCdDUDfAEIdFZhclBvb2wCdDYDfAEIdFZhclBvb2wCdDcDfAEIdFZhclBvb2wCdDgDfAEKc2hhcGVQb29sMAN4XzADfAEKc2hhcGVQb29sMAN5XzADfAEKc2hhcGVQb29sMAVyYWRfMAN8AQpzaGFwZVBvb2wwBWFuZ18wA3wBCnNoYXBlUG9vbDADcl8wA3wBCnNoYXBlUG9vbDADZ18wA3wBCnNoYXBlUG9vbDADYl8wA3wBCnNoYXBlUG9vbDADYV8wA3wBCnNoYXBlUG9vbDAEcjJfMAN8AQpzaGFwZVBvb2wwBGcyXzADfAEKc2hhcGVQb29sMARiMl8wA3wBCnNoYXBlUG9vbDAEYTJfMAN8AQpzaGFwZVBvb2wwCmJvcmRlcl9yXzADfAEKc2hhcGVQb29sMApib3JkZXJfZ18wA3wBCnNoYXBlUG9vbDAKYm9yZGVyX2JfMAN8AQpzaGFwZVBvb2wwCmJvcmRlcl9hXzADfAEKc2hhcGVQb29sMA50aGlja291dGxpbmVfMAN8AQpzaGFwZVBvb2wwCnRleHR1cmVkXzADfAEKc2hhcGVQb29sMAp0ZXhfem9vbV8wA3wBCnNoYXBlUG9vbDAJdGV4X2FuZ18wA3wBCnNoYXBlUG9vbDAKYWRkaXRpdmVfMAN8AQpzaGFwZVBvb2wxA3hfMQN8AQpzaGFwZVBvb2wxA3lfMQN8AQpzaGFwZVBvb2wxBXJhZF8xA3wBCnNoYXBlUG9vbDEFYW5nXzEDfAEKc2hhcGVQb29sMQNyXzEDfAEKc2hhcGVQb29sMQNnXzEDfAEKc2hhcGVQb29sMQNiXzEDfAEKc2hhcGVQb29sMQNhXzEDfAEKc2hhcGVQb29sMQRyMl8xA3wBCnNoYXBlUG9vbDEEZzJfMQN8AQpzaGFwZVBvb2wxBGIyXzEDfAEKc2hhcGVQb29sMQRhMl8xA3wBCnNoYXBlUG9vbDEKYm9yZGVyX3JfMQN8AQpzaGFwZVBvb2wxCmJvcmRlcl9nXzEDfAEKc2hhcGVQb29sMQpib3JkZXJfYl8xA3wBCnNoYXBlUG9vbDEKYm9yZGVyX2FfMQN8AQpzaGFwZVBvb2wxDnRoaWNrb3V0bGluZV8xA3wBCnNoYXBlUG9vbDEKdGV4dHVyZWRfMQN8AQpzaGFwZVBvb2wxCnRleF96b29tXzEDfAEKc2hhcGVQb29sMQl0ZXhfYW5nXzEDfAEKc2hhcGVQb29sMQphZGRpdGl2ZV8xA3wBCnNoYXBlUG9vbDIDeF8yA3wBCnNoYXBlUG9vbDIDeV8yA3wBCnNoYXBlUG9vbDIFcmFkXzIDfAEKc2hhcGVQb29sMgVhbmdfMgN8AQpzaGFwZVBvb2wyA3JfMgN8AQpzaGFwZVBvb2wyA2dfMgN8AQpzaGFwZVBvb2wyA2JfMgN8AQpzaGFwZVBvb2wyA2FfMgN8AQpzaGFwZVBvb2wyBHIyXzIDfAEKc2hhcGVQb29sMgRnMl8yA3wBCnNoYXBlUG9vbDIEYjJfMgN8AQpzaGFwZVBvb2wyBGEyXzIDfAEKc2hhcGVQb29sMgpib3JkZXJfcl8yA3wBCnNoYXBlUG9vbDIKYm9yZGVyX2dfMgN8AQpzaGFwZVBvb2wyCmJvcmRlcl9iXzIDfAEKc2hhcGVQb29sMgpib3JkZXJfYV8yA3wBCnNoYXBlUG9vbDIOdGhpY2tvdXRsaW5lXzIDfAEKc2hhcGVQb29sMgp0ZXh0dXJlZF8yA3wBCnNoYXBlUG9vbDIKdGV4X3pvb21fMgN8AQpzaGFwZVBvb2wyCXRleF9hbmdfMgN8AQpzaGFwZVBvb2wyCmFkZGl0aXZlXzIDfAEKc2hhcGVQb29sMwN4XzMDfAEKc2hhcGVQb29sMwN5XzMDfAEKc2hhcGVQb29sMwVyYWRfMwN8AQpzaGFwZVBvb2wzBWFuZ18zA3wBCnNoYXBlUG9vbDMDcl8zA3wBCnNoYXBlUG9vbDMDZ18zA3wBCnNoYXBlUG9vbDMDYl8zA3wBCnNoYXBlUG9vbDMDYV8zA3wBCnNoYXBlUG9vbDMEcjJfMwN8AQpzaGFwZVBvb2wzBGcyXzMDfAEKc2hhcGVQb29sMwRiMl8zA3wBCnNoYXBlUG9vbDMEYTJfMwN8AQpzaGFwZVBvb2wzCmJvcmRlcl9yXzMDfAEKc2hhcGVQb29sMwpib3JkZXJfZ18zA3wBCnNoYXBlUG9vbDMKYm9yZGVyX2JfMwN8AQpzaGFwZVBvb2wzCmJvcmRlcl9hXzMDfAEKc2hhcGVQb29sMw50aGlja291dGxpbmVfMwN8AQpzaGFwZVBvb2wzCnRleHR1cmVkXzMDfAEKc2hhcGVQb29sMwp0ZXhfem9vbV8zA3wBCnNoYXBlUG9vbDMJdGV4X2FuZ18zA3wBCnNoYXBlUG9vbDMKYWRkaXRpdmVfMwN8AQMZGAgDBwkBAQICAQYFAAAAAAAAAAAAAAAAAAUDAQABBuwMigF8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt/AUEAC3wBRAAAAAAAAAAAC3wBRAAAAAAAAAAAC34BQgALB9kB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\";\n\nmodule.exports = () => data;\n","export default class AudioLevels {\n  constructor(audio) {\n    this.audio = audio;\n\n    let sampleRate;\n    if (this.audio.audioContext) {\n      sampleRate = this.audio.audioContext.sampleRate;\n    } else {\n      sampleRate = 44100;\n    }\n\n    const bucketHz = sampleRate / this.audio.fftSize;\n\n    const bassLow = Math.clamp(\n      Math.round(20 / bucketHz) - 1,\n      0,\n      this.audio.numSamps - 1\n    );\n    const bassHigh = Math.clamp(\n      Math.round(320 / bucketHz) - 1,\n      0,\n      this.audio.numSamps - 1\n    );\n    const midHigh = Math.clamp(\n      Math.round(2800 / bucketHz) - 1,\n      0,\n      this.audio.numSamps - 1\n    );\n    const trebHigh = Math.clamp(\n      Math.round(11025 / bucketHz) - 1,\n      0,\n      this.audio.numSamps - 1\n    );\n\n    this.starts = [bassLow, bassHigh, midHigh];\n    this.stops = [bassHigh, midHigh, trebHigh];\n\n    this.val = new Float32Array(3);\n    this.imm = new Float32Array(3);\n    this.att = new Float32Array(3);\n    this.avg = new Float32Array(3);\n    this.longAvg = new Float32Array(3);\n\n    this.att.fill(1);\n    this.avg.fill(1);\n    this.longAvg.fill(1);\n  }\n\n  /* eslint-disable camelcase */\n  get bass() {\n    return this.val[0];\n  }\n\n  get bass_att() {\n    return this.att[0];\n  }\n\n  get mid() {\n    return this.val[1];\n  }\n\n  get mid_att() {\n    return this.att[1];\n  }\n\n  get treb() {\n    return this.val[2];\n  }\n\n  get treb_att() {\n    return this.att[2];\n  }\n  /* eslint-enable camelcase */\n\n  static isFiniteNumber(num) {\n    return Number.isFinite(num) && !Number.isNaN(num);\n  }\n\n  static adjustRateToFPS(rate, baseFPS, FPS) {\n    return rate ** (baseFPS / FPS);\n  }\n\n  updateAudioLevels(fps, frame) {\n    if (this.audio.freqArray.length > 0) {\n      let effectiveFPS = fps;\n      if (!AudioLevels.isFiniteNumber(effectiveFPS) || effectiveFPS < 15) {\n        effectiveFPS = 15;\n      } else if (effectiveFPS > 144) {\n        effectiveFPS = 144;\n      }\n\n      // Clear for next loop\n      this.imm.fill(0);\n      for (let i = 0; i < 3; i++) {\n        for (let j = this.starts[i]; j < this.stops[i]; j++) {\n          this.imm[i] += this.audio.freqArray[j];\n        }\n      }\n\n      for (let i = 0; i < 3; i++) {\n        let rate;\n        if (this.imm[i] > this.avg[i]) {\n          rate = 0.2;\n        } else {\n          rate = 0.5;\n        }\n        rate = AudioLevels.adjustRateToFPS(rate, 30.0, effectiveFPS);\n        this.avg[i] = this.avg[i] * rate + this.imm[i] * (1 - rate);\n\n        if (frame < 50) {\n          rate = 0.9;\n        } else {\n          rate = 0.992;\n        }\n        rate = AudioLevels.adjustRateToFPS(rate, 30.0, effectiveFPS);\n        this.longAvg[i] = this.longAvg[i] * rate + this.imm[i] * (1 - rate);\n\n        if (this.longAvg[i] < 0.001) {\n          this.val[i] = 1.0;\n          this.att[i] = 1.0;\n        } else {\n          this.val[i] = this.imm[i] / this.longAvg[i];\n          this.att[i] = this.avg[i] / this.longAvg[i];\n        }\n      }\n    }\n  }\n}\n","import FFT from \"./fft\";\n\nexport default class AudioProcessor {\n  constructor(context) {\n    this.numSamps = 512;\n    this.fftSize = this.numSamps * 2;\n\n    this.fft = new FFT(this.fftSize, 512, true);\n\n    if (context) {\n      this.audioContext = context;\n      this.audible = context.createDelay();\n\n      this.analyser = context.createAnalyser();\n      this.analyser.smoothingTimeConstant = 0.0;\n      this.analyser.fftSize = this.fftSize;\n\n      this.audible.connect(this.analyser);\n\n      // Split channels\n      this.analyserL = context.createAnalyser();\n      this.analyserL.smoothingTimeConstant = 0.0;\n      this.analyserL.fftSize = this.fftSize;\n\n      this.analyserR = context.createAnalyser();\n      this.analyserR.smoothingTimeConstant = 0.0;\n      this.analyserR.fftSize = this.fftSize;\n\n      this.splitter = context.createChannelSplitter(2);\n\n      this.audible.connect(this.splitter);\n      this.splitter.connect(this.analyserL, 0);\n      this.splitter.connect(this.analyserR, 1);\n    }\n\n    // Initialised once as typed arrays\n    // Used for webaudio API raw (time domain) samples. 0 -> 255\n    this.timeByteArray = new Uint8Array(this.fftSize);\n    this.timeByteArrayL = new Uint8Array(this.fftSize);\n    this.timeByteArrayR = new Uint8Array(this.fftSize);\n\n    // Signed raw samples shifted to -128 -> 127\n    this.timeArray = new Int8Array(this.fftSize);\n    this.timeByteArraySignedL = new Int8Array(this.fftSize);\n    this.timeByteArraySignedR = new Int8Array(this.fftSize);\n\n    // Temporary array for smoothing\n    this.tempTimeArrayL = new Int8Array(this.fftSize);\n    this.tempTimeArrayR = new Int8Array(this.fftSize);\n\n    // Undersampled from this.fftSize to this.numSamps\n    this.timeArrayL = new Int8Array(this.numSamps);\n    this.timeArrayR = new Int8Array(this.numSamps);\n  }\n\n  sampleAudio() {\n    this.analyser.getByteTimeDomainData(this.timeByteArray);\n    this.analyserL.getByteTimeDomainData(this.timeByteArrayL);\n    this.analyserR.getByteTimeDomainData(this.timeByteArrayR);\n    this.processAudio();\n  }\n  updateAudio(timeByteArray, timeByteArrayL, timeByteArrayR) {\n    this.timeByteArray.set(timeByteArray);\n    this.timeByteArrayL.set(timeByteArrayL);\n    this.timeByteArrayR.set(timeByteArrayR);\n    this.processAudio();\n  }\n  /* eslint-disable no-bitwise */\n  processAudio() {\n    for (let i = 0, j = 0, lastIdx = 0; i < this.fftSize; i++) {\n      // Shift Unsigned to Signed about 0\n      this.timeArray[i] = this.timeByteArray[i] - 128;\n      this.timeByteArraySignedL[i] = this.timeByteArrayL[i] - 128;\n      this.timeByteArraySignedR[i] = this.timeByteArrayR[i] - 128;\n\n      this.tempTimeArrayL[i] =\n        0.5 *\n        (this.timeByteArraySignedL[i] + this.timeByteArraySignedL[lastIdx]);\n      this.tempTimeArrayR[i] =\n        0.5 *\n        (this.timeByteArraySignedR[i] + this.timeByteArraySignedR[lastIdx]);\n\n      // Undersampled\n      if (i % 2 === 0) {\n        this.timeArrayL[j] = this.tempTimeArrayL[i];\n        this.timeArrayR[j] = this.tempTimeArrayR[i];\n        j += 1;\n      }\n\n      lastIdx = i;\n    }\n\n    // Use full width samples for the FFT\n    this.freqArray = this.fft.timeToFrequencyDomain(this.timeArray);\n    this.freqArrayL = this.fft.timeToFrequencyDomain(this.timeByteArraySignedL);\n    this.freqArrayR = this.fft.timeToFrequencyDomain(this.timeByteArraySignedR);\n  }\n\n  connectAudio(audionode) {\n    audionode.connect(this.audible);\n  }\n\n  disconnectAudio(audionode) {\n    audionode.disconnect(this.audible);\n  }\n  /* eslint-enable no-bitwise */\n}\n","export default class FFT {\n  constructor(samplesIn, samplesOut, equalize = false) {\n    this.samplesIn = samplesIn;\n    this.samplesOut = samplesOut;\n    this.equalize = equalize;\n    this.NFREQ = samplesOut * 2;\n\n    if (this.equalize) {\n      this.initEqualizeTable();\n    }\n    this.initBitRevTable();\n    this.initCosSinTable();\n  }\n\n  initEqualizeTable() {\n    this.equalizeArr = new Float32Array(this.samplesOut);\n    const invHalfNFREQ = 1.0 / this.samplesOut;\n    for (let i = 0; i < this.samplesOut; i++) {\n      this.equalizeArr[i] =\n        -0.02 * Math.log((this.samplesOut - i) * invHalfNFREQ);\n    }\n  }\n\n  /* eslint-disable no-bitwise */\n  initBitRevTable() {\n    this.bitrevtable = new Uint16Array(this.NFREQ);\n\n    for (let i = 0; i < this.NFREQ; i++) {\n      this.bitrevtable[i] = i;\n    }\n\n    let j = 0;\n    for (let i = 0; i < this.NFREQ; i++) {\n      if (j > i) {\n        const temp = this.bitrevtable[i];\n        this.bitrevtable[i] = this.bitrevtable[j];\n        this.bitrevtable[j] = temp;\n      }\n\n      let m = this.NFREQ >> 1;\n\n      while (m >= 1 && j >= m) {\n        j -= m;\n        m >>= 1;\n      }\n\n      j += m;\n    }\n  }\n\n  initCosSinTable() {\n    let dftsize = 2;\n    let tabsize = 0;\n    while (dftsize <= this.NFREQ) {\n      tabsize += 1;\n      dftsize <<= 1;\n    }\n\n    this.cossintable = [new Float32Array(tabsize), new Float32Array(tabsize)];\n\n    dftsize = 2;\n    let i = 0;\n    while (dftsize <= this.NFREQ) {\n      const theta = (-2.0 * Math.PI) / dftsize;\n      this.cossintable[0][i] = Math.cos(theta);\n      this.cossintable[1][i] = Math.sin(theta);\n      i += 1;\n      dftsize <<= 1;\n    }\n  }\n\n  timeToFrequencyDomain(waveDataIn) {\n    const real = new Float32Array(this.NFREQ);\n    const imag = new Float32Array(this.NFREQ);\n\n    for (let i = 0; i < this.NFREQ; i++) {\n      const idx = this.bitrevtable[i];\n      if (idx < this.samplesIn) {\n        real[i] = waveDataIn[idx];\n      } else {\n        real[i] = 0;\n      }\n      imag[i] = 0;\n    }\n\n    let dftsize = 2;\n    let t = 0;\n    while (dftsize <= this.NFREQ) {\n      const wpr = this.cossintable[0][t];\n      const wpi = this.cossintable[1][t];\n      let wr = 1.0;\n      let wi = 0.0;\n      const hdftsize = dftsize >> 1;\n\n      for (let m = 0; m < hdftsize; m++) {\n        for (let i = m; i < this.NFREQ; i += dftsize) {\n          const j = i + hdftsize;\n          const tempr = wr * real[j] - wi * imag[j];\n          const tempi = wr * imag[j] + wi * real[j];\n          real[j] = real[i] - tempr;\n          imag[j] = imag[i] - tempi;\n          real[i] += tempr;\n          imag[i] += tempi;\n        }\n\n        const wtemp = wr;\n        wr = wtemp * wpr - wi * wpi;\n        wi = wi * wpr + wtemp * wpi;\n      }\n\n      dftsize <<= 1;\n      t += 1;\n    }\n\n    const spectralDataOut = new Float32Array(this.samplesOut);\n    if (this.equalize) {\n      for (let i = 0; i < this.samplesOut; i++) {\n        spectralDataOut[i] =\n          this.equalizeArr[i] *\n          Math.sqrt(real[i] * real[i] + imag[i] * imag[i]);\n      }\n    } else {\n      for (let i = 0; i < this.samplesOut; i++) {\n        spectralDataOut[i] = Math.sqrt(real[i] * real[i] + imag[i] * imag[i]);\n      }\n    }\n\n    return spectralDataOut;\n  }\n  /* eslint-enable no-bitwise */\n}\n","/* eslint-disable */\ndefine([], function () {\n  \"use strict;\";\n\n  var pmap = {\n    baseVals: {\n      gammaadj: 1.25,\n      wave_g: 0.5,\n      mv_x: 12.0,\n      warpscale: 1.0,\n      brighten: 0.0,\n      mv_y: 9.0,\n      wave_scale: 1.0,\n      echo_alpha: 0.0,\n      additivewave: 0.0,\n      sx: 1.0,\n      sy: 1.0,\n      warp: 0.01,\n      red_blue: 0.0,\n      wave_mode: 0.0,\n      wave_brighten: 0.0,\n      wrap: 0.0,\n      zoomexp: 1.0,\n      fshader: 0.0,\n      wave_r: 0.5,\n      echo_zoom: 1.0,\n      wave_smoothing: 0.75,\n      warpanimspeed: 1.0,\n      wave_dots: 0.0,\n      wave_x: 0.5,\n      wave_y: 0.5,\n      zoom: 1.0,\n      solarize: 0.0,\n      modwavealphabyvolume: 0.0,\n      dx: 0.0,\n      cx: 0.5,\n      dy: 0.0,\n      darken_center: 0.0,\n      cy: 0.5,\n      invert: 0.0,\n      bmotionvectorson: 0.0,\n      rot: 0.0,\n      modwavealphaend: 0.95,\n      wave_mystery: -0.2,\n      decay: 0.9,\n      wave_a: 1.0,\n      wave_b: 0.5,\n      rating: 5.0,\n      modwavealphastart: 0.75,\n      darken: 0.0,\n      echo_orient: 0.0,\n      ib_r: 0.5,\n      ib_g: 0.5,\n      ib_b: 0.5,\n      ib_a: 0.0,\n      ib_size: 0.0,\n      ob_r: 0.5,\n      ob_g: 0.5,\n      ob_b: 0.5,\n      ob_a: 0.0,\n      ob_size: 0.0,\n      mv_dx: 0.0,\n      mv_dy: 0.0,\n      mv_a: 0.0,\n      mv_r: 0.5,\n      mv_g: 0.5,\n      mv_b: 0.5,\n      mv_l: 0.0,\n    },\n    init_eqs: function () {\n      var m = {};\n      return m;\n    },\n    frame_eqs: function (m) {\n      m.rkeys = [\"warp\"];\n      m.zoom = 1.01 + 0.02 * m.treb_att;\n      m.warp = 0.15 + 0.25 * m.bass_att;\n      return m;\n    },\n    pixel_eqs: function (m) {\n      m.warp = m.warp + m.rad * 0.15;\n      return m;\n    },\n    waves: [\n      {\n        baseVals: {\n          a: 1.0,\n          enabled: 0.0,\n          b: 1.0,\n          g: 1.0,\n          scaling: 1.0,\n          samples: 512.0,\n          additive: 0.0,\n          usedots: 0.0,\n          spectrum: 0.0,\n          r: 1.0,\n          smoothing: 0.5,\n          thick: 0.0,\n          sep: 0.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n        point_eqs: \"\",\n      },\n      {\n        baseVals: {\n          a: 1.0,\n          enabled: 0.0,\n          b: 1.0,\n          g: 1.0,\n          scaling: 1.0,\n          samples: 512.0,\n          additive: 0.0,\n          usedots: 0.0,\n          spectrum: 0.0,\n          r: 1.0,\n          smoothing: 0.5,\n          thick: 0.0,\n          sep: 0.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n        point_eqs: \"\",\n      },\n      {\n        baseVals: {\n          a: 1.0,\n          enabled: 0.0,\n          b: 1.0,\n          g: 1.0,\n          scaling: 1.0,\n          samples: 512.0,\n          additive: 0.0,\n          usedots: 0.0,\n          spectrum: 0.0,\n          r: 1.0,\n          smoothing: 0.5,\n          thick: 0.0,\n          sep: 0.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n        point_eqs: \"\",\n      },\n      {\n        baseVals: {\n          a: 1.0,\n          enabled: 0.0,\n          b: 1.0,\n          g: 1.0,\n          scaling: 1.0,\n          samples: 512.0,\n          additive: 0.0,\n          usedots: 0.0,\n          spectrum: 0.0,\n          r: 1.0,\n          smoothing: 0.5,\n          thick: 0.0,\n          sep: 0.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n        point_eqs: \"\",\n      },\n    ],\n    shapes: [\n      {\n        baseVals: {\n          r2: 0.0,\n          a: 1.0,\n          enabled: 0.0,\n          b: 0.0,\n          tex_ang: 0.0,\n          thickoutline: 0.0,\n          g: 0.0,\n          textured: 0.0,\n          g2: 1.0,\n          tex_zoom: 1.0,\n          additive: 0.0,\n          border_a: 0.1,\n          border_b: 1.0,\n          b2: 0.0,\n          a2: 0.0,\n          r: 1.0,\n          border_g: 1.0,\n          rad: 0.1,\n          x: 0.5,\n          y: 0.5,\n          ang: 0.0,\n          sides: 4.0,\n          border_r: 1.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n      },\n      {\n        baseVals: {\n          r2: 0.0,\n          a: 1.0,\n          enabled: 0.0,\n          b: 0.0,\n          tex_ang: 0.0,\n          thickoutline: 0.0,\n          g: 0.0,\n          textured: 0.0,\n          g2: 1.0,\n          tex_zoom: 1.0,\n          additive: 0.0,\n          border_a: 0.1,\n          border_b: 1.0,\n          b2: 0.0,\n          a2: 0.0,\n          r: 1.0,\n          border_g: 1.0,\n          rad: 0.1,\n          x: 0.5,\n          y: 0.5,\n          ang: 0.0,\n          sides: 4.0,\n          border_r: 1.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n      },\n      {\n        baseVals: {\n          r2: 0.0,\n          a: 1.0,\n          enabled: 0.0,\n          b: 0.0,\n          tex_ang: 0.0,\n          thickoutline: 0.0,\n          g: 0.0,\n          textured: 0.0,\n          g2: 1.0,\n          tex_zoom: 1.0,\n          additive: 0.0,\n          border_a: 0.1,\n          border_b: 1.0,\n          b2: 0.0,\n          a2: 0.0,\n          r: 1.0,\n          border_g: 1.0,\n          rad: 0.1,\n          x: 0.5,\n          y: 0.5,\n          ang: 0.0,\n          sides: 4.0,\n          border_r: 1.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n      },\n      {\n        baseVals: {\n          r2: 0.0,\n          a: 1.0,\n          enabled: 0.0,\n          b: 0.0,\n          tex_ang: 0.0,\n          thickoutline: 0.0,\n          g: 0.0,\n          textured: 0.0,\n          g2: 1.0,\n          tex_zoom: 1.0,\n          additive: 0.0,\n          border_a: 0.1,\n          border_b: 1.0,\n          b2: 0.0,\n          a2: 0.0,\n          r: 1.0,\n          border_g: 1.0,\n          rad: 0.1,\n          x: 0.5,\n          y: 0.5,\n          ang: 0.0,\n          sides: 4.0,\n          border_r: 1.0,\n        },\n        init_eqs: function (m) {\n          m.rkeys = [];\n          return m;\n        },\n        frame_eqs: function (m) {\n          return m;\n        },\n      },\n    ],\n    warp:\n      \"shader_body {\\nret = texture2D(sampler_main, uv).rgb;\\nret -= 0.004;\\n}\\n\",\n    comp:\n      \"shader_body {\\nret = texture2D(sampler_main, uv).rgb;\\nret *= hue_shader;\\n}\\n\",\n  };\n\n  return pmap;\n});\n/* eslint-enable */\n","import Utils from \"../utils\";\n\nexport default class PresetEquationRunner {\n  constructor(preset, globalVars, opts) {\n    this.preset = preset;\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.qs = Utils.range(1, 33).map((x) => `q${x}`);\n    this.ts = Utils.range(1, 9).map((x) => `t${x}`);\n    this.regs = Utils.range(100).map((x) => {\n      if (x < 10) {\n        return `reg0${x}`;\n      }\n      return `reg${x}`;\n    });\n\n    this.initializeEquations(globalVars);\n  }\n\n  initializeEquations(globalVars) {\n    this.runVertEQs = this.preset.pixel_eqs !== \"\";\n\n    this.mdVSQInit = null;\n    this.mdVSRegs = null;\n    this.mdVSFrame = null;\n    this.mdVSUserKeys = null;\n    this.mdVSFrameMap = null;\n\n    this.mdVSShapes = null;\n    this.mdVSUserKeysShapes = null;\n    this.mdVSFrameMapShapes = null;\n\n    this.mdVSWaves = null;\n    this.mdVSUserKeysWaves = null;\n    this.mdVSFrameMapWaves = null;\n\n    this.mdVSQAfterFrame = null;\n\n    this.gmegabuf = new Array(1048576).fill(0);\n\n    const mdVSBase = {\n      frame: globalVars.frame,\n      time: globalVars.time,\n      fps: globalVars.fps,\n      bass: globalVars.bass,\n      bass_att: globalVars.bass_att,\n      mid: globalVars.mid,\n      mid_att: globalVars.mid_att,\n      treb: globalVars.treb,\n      treb_att: globalVars.treb_att,\n      meshx: this.mesh_width,\n      meshy: this.mesh_height,\n      aspectx: this.invAspectx,\n      aspecty: this.invAspecty,\n      pixelsx: this.texsizeX,\n      pixelsy: this.texsizeY,\n      gmegabuf: this.gmegabuf,\n    };\n\n    this.mdVS = Object.assign({}, this.preset.baseVals, mdVSBase);\n\n    this.mdVS.megabuf = new Array(1048576).fill(0);\n    this.mdVS.rand_start = new Float32Array([\n      Math.random(),\n      Math.random(),\n      Math.random(),\n      Math.random(),\n    ]);\n    this.mdVS.rand_preset = new Float32Array([\n      Math.random(),\n      Math.random(),\n      Math.random(),\n      Math.random(),\n    ]);\n\n    const nonUserKeys = this.qs.concat(this.regs, Object.keys(this.mdVS));\n\n    const mdVSAfterInit = this.preset.init_eqs(Utils.cloneVars(this.mdVS));\n\n    // qs need to be initialized to there init values every frame\n    this.mdVSQInit = Utils.pick(mdVSAfterInit, this.qs);\n    this.mdVSRegs = Utils.pick(mdVSAfterInit, this.regs);\n    const initUserVars = Utils.pick(\n      mdVSAfterInit,\n      Object.keys(Utils.omit(mdVSAfterInit, nonUserKeys))\n    );\n    initUserVars.megabuf = mdVSAfterInit.megabuf;\n    initUserVars.gmegabuf = mdVSAfterInit.gmegabuf;\n\n    this.mdVSFrame = this.preset.frame_eqs(\n      Object.assign({}, this.mdVS, this.mdVSQInit, this.mdVSRegs, initUserVars)\n    );\n\n    // user vars need to be copied between frames\n    this.mdVSUserKeys = Object.keys(Utils.omit(this.mdVSFrame, nonUserKeys));\n\n    // Determine vars to carry over between frames\n    this.mdVSFrameMap = Utils.pick(this.mdVSFrame, this.mdVSUserKeys);\n\n    // qs for shapes\n    this.mdVSQAfterFrame = Utils.pick(this.mdVSFrame, this.qs);\n    this.mdVSRegs = Utils.pick(this.mdVSFrame, this.regs);\n\n    this.mdVSWaves = [];\n    this.mdVSTWaveInits = [];\n    this.mdVSUserKeysWaves = [];\n    this.mdVSFrameMapWaves = [];\n    if (this.preset.waves && this.preset.waves.length > 0) {\n      for (let i = 0; i < this.preset.waves.length; i++) {\n        const wave = this.preset.waves[i];\n        const baseVals = wave.baseVals;\n        if (baseVals.enabled !== 0) {\n          let mdVSWave = Object.assign({}, baseVals, mdVSBase);\n\n          const nonUserWaveKeys = this.qs.concat(\n            this.ts,\n            this.regs,\n            Object.keys(mdVSWave)\n          );\n\n          Object.assign(mdVSWave, this.mdVSQAfterFrame, this.mdVSRegs);\n          mdVSWave.megabuf = new Array(1048576).fill(0);\n\n          if (wave.init_eqs) {\n            mdVSWave = wave.init_eqs(mdVSWave);\n\n            this.mdVSRegs = Utils.pick(mdVSWave, this.regs);\n\n            // base vals need to be reset\n            Object.assign(mdVSWave, baseVals);\n          }\n          this.mdVSWaves.push(mdVSWave);\n          this.mdVSTWaveInits.push(Utils.pick(mdVSWave, this.ts));\n\n          this.mdVSUserKeysWaves.push(\n            Object.keys(Utils.omit(mdVSWave, nonUserWaveKeys))\n          );\n          this.mdVSFrameMapWaves.push(\n            Utils.pick(mdVSWave, this.mdVSUserKeysWaves[i])\n          );\n        } else {\n          this.mdVSWaves.push({});\n          this.mdVSTWaveInits.push({});\n\n          this.mdVSUserKeysWaves.push([]);\n          this.mdVSFrameMapWaves.push({});\n        }\n      }\n    }\n\n    this.mdVSShapes = [];\n    this.mdVSTShapeInits = [];\n    this.mdVSUserKeysShapes = [];\n    this.mdVSFrameMapShapes = [];\n    if (this.preset.shapes && this.preset.shapes.length > 0) {\n      for (let i = 0; i < this.preset.shapes.length; i++) {\n        const shape = this.preset.shapes[i];\n        const baseVals = shape.baseVals;\n        if (baseVals.enabled !== 0) {\n          let mdVSShape = Object.assign({}, baseVals, mdVSBase);\n\n          const nonUserShapeKeys = this.qs.concat(\n            this.ts,\n            this.regs,\n            Object.keys(mdVSShape)\n          );\n\n          Object.assign(mdVSShape, this.mdVSQAfterFrame, this.mdVSRegs);\n          mdVSShape.megabuf = new Array(1048576).fill(0);\n\n          if (shape.init_eqs) {\n            mdVSShape = shape.init_eqs(mdVSShape);\n\n            this.mdVSRegs = Utils.pick(mdVSShape, this.regs);\n\n            // base vals need to be reset\n            Object.assign(mdVSShape, baseVals);\n          }\n          this.mdVSShapes.push(mdVSShape);\n          this.mdVSTShapeInits.push(Utils.pick(mdVSShape, this.ts));\n\n          this.mdVSUserKeysShapes.push(\n            Object.keys(Utils.omit(mdVSShape, nonUserShapeKeys))\n          );\n          this.mdVSFrameMapShapes.push(\n            Utils.pick(mdVSShape, this.mdVSUserKeysShapes[i])\n          );\n        } else {\n          this.mdVSShapes.push({});\n          this.mdVSTShapeInits.push({});\n\n          this.mdVSUserKeysShapes.push([]);\n          this.mdVSFrameMapShapes.push({});\n        }\n      }\n    }\n  }\n\n  updatePreset(preset, globalVars) {\n    this.preset = preset;\n    this.initializeEquations(globalVars);\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n  }\n\n  runFrameEquations(globalVars) {\n    this.mdVSFrame = Object.assign(\n      {},\n      this.mdVS,\n      this.mdVSQInit,\n      this.mdVSFrameMap,\n      globalVars\n    );\n\n    this.mdVSFrame = this.preset.frame_eqs(this.mdVSFrame);\n\n    this.mdVSFrameMap = Utils.pick(this.mdVSFrame, this.mdVSUserKeys);\n    this.mdVSQAfterFrame = Utils.pick(this.mdVSFrame, this.qs);\n\n    return this.mdVSFrame;\n  }\n\n  runPixelEquations(mdVSVertex) {\n    return this.preset.pixel_eqs(mdVSVertex);\n  }\n\n  runShapeFrameEquations(shapeIdx, mdVSShape) {\n    return this.preset.shapes[shapeIdx].frame_eqs(mdVSShape);\n  }\n\n  runWaveFrameEquations(waveIdx, mdVSWave) {\n    return this.preset.waves[waveIdx].frame_eqs(mdVSWave);\n  }\n\n  runWavePointEquations(waveIdx, mdVSWaveFrame) {\n    return this.preset.waves[waveIdx].point_eqs(mdVSWaveFrame);\n  }\n}\n","import Utils from \"../utils\";\n\nexport default class PresetEquationRunnerWASM {\n  constructor(preset, globalVars, opts) {\n    this.preset = preset;\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.qs = Utils.range(1, 33).map((x) => `q${x}`);\n    this.ts = Utils.range(1, 9).map((x) => `t${x}`);\n    this.regs = Utils.range(100).map((x) => {\n      if (x < 10) {\n        return `reg0${x}`;\n      }\n      return `reg${x}`;\n    });\n\n    this.globalKeys = [\n      \"frame\",\n      \"time\",\n      \"fps\",\n      \"bass\",\n      \"bass_att\",\n      \"mid\",\n      \"mid_att\",\n      \"treb\",\n      \"treb_att\",\n      \"meshx\",\n      \"meshy\",\n      \"aspectx\",\n      \"aspecty\",\n      \"pixelsx\",\n      \"pixelsy\",\n    ];\n\n    this.frameKeys = [\n      \"decay\",\n      \"wave_a\",\n      \"wave_r\",\n      \"wave_g\",\n      \"wave_b\",\n      \"wave_x\",\n      \"wave_y\",\n      \"wave_scale\",\n      \"wave_smoothing\",\n      \"wave_mode\",\n      \"old_wave_mode\",\n      \"wave_mystery\",\n      \"ob_size\",\n      \"ob_r\",\n      \"ob_g\",\n      \"ob_b\",\n      \"ob_a\",\n      \"ib_size\",\n      \"ib_r\",\n      \"ib_g\",\n      \"ib_b\",\n      \"ib_a\",\n      \"mv_x\",\n      \"mv_y\",\n      \"mv_dx\",\n      \"mv_dy\",\n      \"mv_l\",\n      \"mv_r\",\n      \"mv_g\",\n      \"mv_b\",\n      \"mv_a\",\n      \"echo_zoom\",\n      \"echo_alpha\",\n      \"echo_orient\",\n      \"wave_dots\",\n      \"wave_thick\",\n      \"additivewave\",\n      \"wave_brighten\",\n      \"modwavealphabyvolume\",\n      \"modwavealphastart\",\n      \"modwavealphaend\",\n      \"darken_center\",\n      \"gammaadj\",\n      \"warp\",\n      \"warpanimspeed\",\n      \"warpscale\",\n      \"zoom\",\n      \"zoomexp\",\n      \"rot\",\n      \"cx\",\n      \"cy\",\n      \"dx\",\n      \"dy\",\n      \"sx\",\n      \"sy\",\n      \"fshader\",\n      \"wrap\",\n      \"invert\",\n      \"brighten\",\n      \"darken\",\n      \"solarize\",\n      \"bmotionvectorson\",\n      \"b1n\",\n      \"b2n\",\n      \"b3n\",\n      \"b1x\",\n      \"b2x\",\n      \"b3x\",\n      \"b1ed\",\n    ];\n\n    this.waveFrameKeys = [\n      \"samples\",\n      \"sep\",\n      \"scaling\",\n      \"spectrum\",\n      \"smoothing\",\n      \"r\",\n      \"g\",\n      \"b\",\n      \"a\",\n    ];\n\n    this.waveFrameInputKeys = [\"samples\", \"r\", \"g\", \"b\", \"a\"];\n\n    this.initializeEquations(globalVars);\n  }\n\n  getQVars(pool) {\n    return Utils.pickWasm(this.preset.globalPools[pool], this.qs);\n  }\n\n  getTVars(pool) {\n    return Utils.pickWasm(this.preset.globalPools[pool], this.ts);\n  }\n\n  initializeEquations(globalVars) {\n    this.runVertEQs = !!this.preset.pixel_eqs;\n\n    this.mdVSQInit = null;\n    this.mdVSQAfterFrame = null;\n\n    const mdVSBase = {\n      frame: globalVars.frame,\n      time: globalVars.time,\n      fps: globalVars.fps,\n      bass: globalVars.bass,\n      bass_att: globalVars.bass_att,\n      mid: globalVars.mid,\n      mid_att: globalVars.mid_att,\n      treb: globalVars.treb,\n      treb_att: globalVars.treb_att,\n      meshx: this.mesh_width,\n      meshy: this.mesh_height,\n      aspectx: this.invAspectx,\n      aspecty: this.invAspecty,\n      pixelsx: this.texsizeX,\n      pixelsy: this.texsizeY,\n    };\n\n    this.mdVS = Object.assign({}, this.preset.baseVals, mdVSBase);\n\n    // eslint-disable-next-line max-len\n    Utils.setWasm(\n      this.preset.globalPools.perFrame,\n      this.mdVS,\n      Object.keys(this.mdVS)\n    );\n\n    this.rand_start = new Float32Array([\n      Math.random(),\n      Math.random(),\n      Math.random(),\n      Math.random(),\n    ]);\n    this.rand_preset = new Float32Array([\n      Math.random(),\n      Math.random(),\n      Math.random(),\n      Math.random(),\n    ]);\n\n    this.preset.init_eqs();\n\n    // qs need to be initialized to there init values every frame\n    this.mdVSQInit = this.getQVars(\"perFrame\");\n\n    this.preset.frame_eqs();\n\n    this.mdVSQAfterFrame = this.getQVars(\"perFrame\");\n\n    this.mdVSTWaveInits = [];\n    if (this.preset.waves && this.preset.waves.length > 0) {\n      for (let i = 0; i < this.preset.waves.length; i++) {\n        const wave = this.preset.waves[i];\n        const baseVals = wave.baseVals;\n        if (baseVals.enabled !== 0) {\n          // eslint-disable-next-line max-len\n          Utils.setWasm(\n            this.preset.globalPools[`wavePerFrame${i}`],\n            baseVals,\n            Object.keys(baseVals)\n          );\n          if (wave.init_eqs) {\n            wave.init_eqs();\n\n            // base vals need to be reset\n            // eslint-disable-next-line max-len\n            Utils.setWasm(\n              this.preset.globalPools[`wavePerFrame${i}`],\n              baseVals,\n              Object.keys(baseVals)\n            );\n          }\n          this.mdVSTWaveInits.push(this.getTVars(`wavePerFrame${i}`));\n        } else {\n          this.mdVSTWaveInits.push({});\n        }\n      }\n    }\n\n    this.mdVSTShapeInits = [];\n    if (this.preset.shapes && this.preset.shapes.length > 0) {\n      for (let i = 0; i < this.preset.shapes.length; i++) {\n        const shape = this.preset.shapes[i];\n        const baseVals = shape.baseVals;\n        if (baseVals.enabled !== 0) {\n          // eslint-disable-next-line max-len\n          Utils.setWasm(\n            this.preset.globalPools[`shapePerFrame${i}`],\n            baseVals,\n            Object.keys(baseVals)\n          );\n          if (shape.init_eqs) {\n            shape.init_eqs();\n\n            // base vals need to be reset\n            // eslint-disable-next-line max-len\n            Utils.setWasm(\n              this.preset.globalPools[`shapePerFrame${i}`],\n              baseVals,\n              Object.keys(baseVals)\n            );\n          }\n          this.mdVSTShapeInits.push(this.getTVars(`shapePerFrame${i}`));\n        } else {\n          this.mdVSTShapeInits.push({});\n        }\n      }\n    }\n  }\n\n  updatePreset(preset, globalVars) {\n    this.preset = preset;\n    this.initializeEquations(globalVars);\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n  }\n\n  runFrameEquations(globalVars) {\n    Utils.setWasm(this.preset.globalPools.perFrame, this.mdVS, this.frameKeys);\n    Utils.setWasm(this.preset.globalPools.perFrame, this.mdVSQInit, this.qs);\n    Utils.setWasm(\n      this.preset.globalPools.perFrame,\n      globalVars,\n      this.globalKeys\n    );\n\n    this.preset.frame_eqs();\n    this.preset.save_qs();\n\n    this.mdVSQAfterFrame = this.getQVars(\"perFrame\");\n\n    // eslint-disable-next-line max-len\n    const mdVSFrame = Utils.pickWasm(this.preset.globalPools.perFrame, [\n      ...this.frameKeys,\n      ...this.globalKeys,\n    ]);\n    mdVSFrame.rand_preset = this.rand_preset;\n    mdVSFrame.rand_start = this.rand_start;\n\n    return mdVSFrame;\n  }\n\n  /* eslint-disable max-len */\n  runWaveFrameEquations(waveIdx, globalVars) {\n    const baseVals = this.preset.waves[waveIdx].baseVals;\n    Utils.setWasm(\n      this.preset.globalPools[`wavePerFrame${waveIdx}`],\n      baseVals,\n      this.waveFrameInputKeys\n    );\n    Utils.setWasm(\n      this.preset.globalPools[`wavePerFrame${waveIdx}`],\n      this.mdVSQAfterFrame,\n      this.qs\n    );\n    Utils.setWasm(\n      this.preset.globalPools[`wavePerFrame${waveIdx}`],\n      this.mdVSTWaveInits[waveIdx],\n      this.ts\n    );\n    Utils.setWasm(\n      this.preset.globalPools[`wavePerFrame${waveIdx}`],\n      globalVars,\n      this.globalKeys\n    );\n    this.preset.waves[waveIdx].frame_eqs();\n    return Utils.pickWasm(\n      this.preset.globalPools[`wavePerFrame${waveIdx}`],\n      this.waveFrameKeys\n    );\n  }\n  /* eslint-enable max-len */\n}\n","export default class ImageTextures {\n  constructor(gl) {\n    this.gl = gl;\n\n    this.anisoExt =\n      this.gl.getExtension(\"EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\n\n    this.samplers = {};\n\n    const this_ = this;\n\n    /* eslint-disable max-len */\n    createImageBitmap(\n        this.dataURItoBlob(\"data:image/jpeg;base64,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\")\n    ).then(function(image) {\n      this_.clouds2Image = image;\n      this_.samplers.clouds2 = this_.gl.createTexture();\n      this_.bindTexture(this_.samplers.clouds2, this_.clouds2Image, 128, 128);\n    });\n    createImageBitmap(\n        this.dataURItoBlob(\"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\")\n    ).then(function(image) {\n      this_.emptyImage = image;\n      this_.samplers.empty = this_.gl.createTexture();\n      this_.bindTexture(this_.samplers.empty, this_.emptyImage, 1, 1);\n    });\n  }\n\n  dataURItoBlob(dataURI) {\n    // convert base64 to raw binary data held in a string\n    // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n    let byteString = atob(dataURI.split(',')[1]);\n\n    // separate out the mime component\n    let mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n    // write the bytes of the string to an ArrayBuffer\n    let ab = new ArrayBuffer(byteString.length);\n\n    // create a view into the buffer\n    let ia = new Uint8Array(ab);\n\n    // set the bytes of the buffer to the correct values\n    for (let i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    // write the ArrayBuffer to a blob, and you're done\n    let blob = new Blob([ab], {type: mimeString});\n    return blob;\n  }\n\n  bindTexture(texture, data, width, height) {\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texImage2D(\n      this.gl.TEXTURE_2D,\n      0,\n      this.gl.RGBA,\n      width,\n      height,\n      0,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      data\n    );\n\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MIN_FILTER,\n      this.gl.LINEAR_MIPMAP_LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MAG_FILTER,\n      this.gl.LINEAR\n    );\n    if (this.anisoExt) {\n      const max = this.gl.getParameter(\n        this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT\n      );\n      this.gl.texParameterf(\n        this.gl.TEXTURE_2D,\n        this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,\n        max\n      );\n    }\n  }\n\n  loadExtraImages(imageData) {\n    const this_ = this;\n    Object.keys(imageData).forEach((imageName) => {\n      const { data, width, height } = imageData[imageName];\n      if (!this.samplers[imageName]) {\n        createImageBitmap(this.dataURItoBlob(data)).then(function(image) {\n          this_.samplers[imageName] = this_.gl.createTexture();\n          this_.bindTexture(this_.samplers[imageName], image, width, height);\n        });\n      }\n    });\n  }\n\n  getTexture(sampler) {\n    const tex = this.samplers[sampler];\n    if (tex) {\n      return tex;\n    }\n\n    return this.samplers.clouds2;\n  }\n}\n","import \"ecma-proposal-math-extensions\";\nimport \"./presetBase\";\nimport Visualizer from \"./visualizer\";\n\nexport default class Butterchurn {\n  static createVisualizer(context, canvas, opts) {\n    return new Visualizer(context, canvas, opts);\n  }\n}\n","export default class Noise {\n  constructor(gl) {\n    this.gl = gl;\n\n    this.anisoExt =\n      this.gl.getExtension(\"EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\n\n    this.noiseTexLQ = this.gl.createTexture();\n    this.noiseTexLQLite = this.gl.createTexture();\n    this.noiseTexMQ = this.gl.createTexture();\n    this.noiseTexHQ = this.gl.createTexture();\n\n    this.noiseTexVolLQ = this.gl.createTexture();\n    this.noiseTexVolHQ = this.gl.createTexture();\n\n    this.nTexArrLQ = Noise.createNoiseTex(256, 1);\n    this.nTexArrLQLite = Noise.createNoiseTex(32, 1);\n    this.nTexArrMQ = Noise.createNoiseTex(256, 4);\n    this.nTexArrHQ = Noise.createNoiseTex(256, 8);\n\n    this.nTexArrVolLQ = Noise.createNoiseVolTex(32, 1);\n    this.nTexArrVolHQ = Noise.createNoiseVolTex(32, 4);\n\n    this.bindTexture(this.noiseTexLQ, this.nTexArrLQ, 256, 256);\n    this.bindTexture(this.noiseTexLQLite, this.nTexArrLQLite, 32, 32);\n    this.bindTexture(this.noiseTexMQ, this.nTexArrMQ, 256, 256);\n    this.bindTexture(this.noiseTexHQ, this.nTexArrHQ, 256, 256);\n\n    this.bindTexture3D(this.noiseTexVolLQ, this.nTexArrVolLQ, 32, 32, 32);\n    this.bindTexture3D(this.noiseTexVolHQ, this.nTexArrVolHQ, 32, 32, 32);\n\n    this.noiseTexPointLQ = this.gl.createSampler();\n    gl.samplerParameteri(\n      this.noiseTexPointLQ,\n      gl.TEXTURE_MIN_FILTER,\n      gl.NEAREST_MIPMAP_NEAREST\n    );\n    gl.samplerParameteri(\n      this.noiseTexPointLQ,\n      gl.TEXTURE_MAG_FILTER,\n      gl.NEAREST\n    );\n    gl.samplerParameteri(this.noiseTexPointLQ, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.noiseTexPointLQ, gl.TEXTURE_WRAP_T, gl.REPEAT);\n  }\n\n  bindTexture(texture, data, width, height) {\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texImage2D(\n      this.gl.TEXTURE_2D,\n      0,\n      this.gl.RGBA,\n      width,\n      height,\n      0,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      data\n    );\n\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MIN_FILTER,\n      this.gl.LINEAR_MIPMAP_LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MAG_FILTER,\n      this.gl.LINEAR\n    );\n    if (this.anisoExt) {\n      const max = this.gl.getParameter(\n        this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT\n      );\n      this.gl.texParameterf(\n        this.gl.TEXTURE_2D,\n        this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,\n        max\n      );\n    }\n  }\n\n  bindTexture3D(texture, data, width, height, depth) {\n    this.gl.bindTexture(this.gl.TEXTURE_3D, texture);\n\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texImage3D(\n      this.gl.TEXTURE_3D,\n      0,\n      this.gl.RGBA,\n      width,\n      height,\n      depth,\n      0,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      data\n    );\n\n    this.gl.generateMipmap(this.gl.TEXTURE_3D);\n\n    this.gl.texParameteri(\n      this.gl.TEXTURE_3D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_3D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_3D,\n      this.gl.TEXTURE_WRAP_R,\n      this.gl.REPEAT\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_3D,\n      this.gl.TEXTURE_MIN_FILTER,\n      this.gl.LINEAR_MIPMAP_LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_3D,\n      this.gl.TEXTURE_MAG_FILTER,\n      this.gl.LINEAR\n    );\n    if (this.anisoExt) {\n      const max = this.gl.getParameter(\n        this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT\n      );\n      this.gl.texParameterf(\n        this.gl.TEXTURE_3D,\n        this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,\n        max\n      );\n    }\n  }\n\n  static fCubicInterpolate(y0, y1, y2, y3, t) {\n    const t2 = t * t;\n    const t3 = t * t2;\n    const a0 = y3 - y2 - y0 + y1;\n    const a1 = y0 - y1 - a0;\n    const a2 = y2 - y0;\n    const a3 = y1;\n\n    return a0 * t3 + a1 * t2 + a2 * t + a3;\n  }\n\n  static dwCubicInterpolate(y0, y1, y2, y3, t) {\n    const ret = [];\n    for (let i = 0; i < 4; i++) {\n      let f = Noise.fCubicInterpolate(\n        y0[i] / 255.0,\n        y1[i] / 255.0,\n        y2[i] / 255.0,\n        y3[i] / 255.0,\n        t\n      );\n      f = Math.clamp(f, 0, 1);\n      ret[i] = f * 255;\n    }\n\n    return ret;\n  }\n\n  static createNoiseVolTex(noiseSize, zoom) {\n    const nsize = noiseSize * noiseSize * noiseSize;\n    const texArr = new Uint8Array(nsize * 4);\n    const texRange = zoom > 1 ? 216 : 256;\n    const halfTexRange = texRange * 0.5;\n    for (let i = 0; i < nsize; i++) {\n      texArr[i * 4 + 0] = Math.floor(Math.random() * texRange + halfTexRange);\n      texArr[i * 4 + 1] = Math.floor(Math.random() * texRange + halfTexRange);\n      texArr[i * 4 + 2] = Math.floor(Math.random() * texRange + halfTexRange);\n      texArr[i * 4 + 3] = Math.floor(Math.random() * texRange + halfTexRange);\n    }\n\n    const wordsPerSlice = noiseSize * noiseSize;\n    const wordsPerLine = noiseSize;\n    if (zoom > 1) {\n      for (let z = 0; z < noiseSize; z += zoom) {\n        for (let y = 0; y < noiseSize; y += zoom) {\n          for (let x = 0; x < noiseSize; x++) {\n            if (x % zoom !== 0) {\n              const baseX = Math.floor(x / zoom) * zoom + noiseSize;\n              const baseY = z * wordsPerSlice + y * wordsPerLine;\n\n              const y0 = [];\n              const y1 = [];\n              const y2 = [];\n              const y3 = [];\n              for (let i = 0; i < 4; i++) {\n                y0[i] =\n                  texArr[baseY * 4 + ((baseX - zoom) % noiseSize) * 4 + i];\n                y1[i] = texArr[baseY * 4 + (baseX % noiseSize) * 4 + i];\n                y2[i] =\n                  texArr[baseY * 4 + ((baseX + zoom) % noiseSize) * 4 + i];\n                y3[i] =\n                  texArr[baseY * 4 + ((baseX + zoom * 2) % noiseSize) * 4 + i];\n              }\n\n              const t = (x % zoom) / zoom;\n              const result = Noise.dwCubicInterpolate(y0, y1, y2, y3, t);\n\n              for (let i = 0; i < 4; i++) {\n                const offset = x * 4 + i;\n                texArr[z * wordsPerSlice * 4 + y * wordsPerLine * 4 + offset] =\n                  result[i];\n              }\n            }\n          }\n        }\n      }\n\n      for (let z = 0; z < noiseSize; z += zoom) {\n        for (let x = 0; x < noiseSize; x++) {\n          for (let y = 0; y < noiseSize; y++) {\n            if (y % zoom !== 0) {\n              const baseY = Math.floor(y / zoom) * zoom + noiseSize;\n              const baseZ = z * wordsPerSlice;\n\n              const y0 = [];\n              const y1 = [];\n              const y2 = [];\n              const y3 = [];\n              for (let i = 0; i < 4; i++) {\n                const offset = x * 4 + baseZ * 4 + i;\n                y0[i] =\n                  texArr[\n                    ((baseY - zoom) % noiseSize) * wordsPerLine * 4 + offset\n                  ];\n                y1[i] = texArr[(baseY % noiseSize) * wordsPerLine * 4 + offset];\n                y2[i] =\n                  texArr[\n                    ((baseY + zoom) % noiseSize) * wordsPerLine * 4 + offset\n                  ];\n                y3[i] =\n                  texArr[\n                    ((baseY + zoom * 2) % noiseSize) * wordsPerLine * 4 + offset\n                  ];\n              }\n\n              const t = (y % zoom) / zoom;\n              const result = Noise.dwCubicInterpolate(y0, y1, y2, y3, t);\n\n              for (let i = 0; i < 4; i++) {\n                const offset = x * 4 + baseZ * 4 + i;\n                texArr[y * wordsPerLine * 4 + offset] = result[i];\n              }\n            }\n          }\n        }\n      }\n\n      for (let x = 0; x < noiseSize; x++) {\n        for (let y = 0; y < noiseSize; y++) {\n          for (let z = 0; z < noiseSize; z++) {\n            if (z % zoom !== 0) {\n              const baseY = y * wordsPerLine;\n              const baseZ = Math.floor(z / zoom) * zoom + noiseSize;\n\n              const y0 = [];\n              const y1 = [];\n              const y2 = [];\n              const y3 = [];\n              for (let i = 0; i < 4; i++) {\n                const offset = x * 4 + baseY * 4 + i;\n                y0[i] =\n                  texArr[\n                    ((baseZ - zoom) % noiseSize) * wordsPerSlice * 4 + offset\n                  ];\n                y1[i] =\n                  texArr[(baseZ % noiseSize) * wordsPerSlice * 4 + offset];\n                y2[i] =\n                  texArr[\n                    ((baseZ + zoom) % noiseSize) * wordsPerSlice * 4 + offset\n                  ];\n                y3[i] =\n                  texArr[\n                    ((baseZ + zoom * 2) % noiseSize) * wordsPerSlice * 4 +\n                      offset\n                  ];\n              }\n\n              const t = (y % zoom) / zoom;\n              const result = Noise.dwCubicInterpolate(y0, y1, y2, y3, t);\n\n              for (let i = 0; i < 4; i++) {\n                const offset = x * 4 + baseY * 4 + i;\n                texArr[z * wordsPerSlice * 4 + offset] = result[i];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return texArr;\n  }\n\n  static createNoiseTex(noiseSize, zoom) {\n    const nsize = noiseSize * noiseSize;\n    const texArr = new Uint8Array(nsize * 4);\n    const texRange = zoom > 1 ? 216 : 256;\n    const halfTexRange = texRange * 0.5;\n    for (let i = 0; i < nsize; i++) {\n      texArr[i * 4 + 0] = Math.floor(Math.random() * texRange + halfTexRange);\n      texArr[i * 4 + 1] = Math.floor(Math.random() * texRange + halfTexRange);\n      texArr[i * 4 + 2] = Math.floor(Math.random() * texRange + halfTexRange);\n      texArr[i * 4 + 3] = Math.floor(Math.random() * texRange + halfTexRange);\n    }\n\n    if (zoom > 1) {\n      for (let y = 0; y < noiseSize; y += zoom) {\n        for (let x = 0; x < noiseSize; x++) {\n          if (x % zoom !== 0) {\n            const baseX = Math.floor(x / zoom) * zoom + noiseSize;\n            const baseY = y * noiseSize;\n\n            const y0 = [];\n            const y1 = [];\n            const y2 = [];\n            const y3 = [];\n            for (let z = 0; z < 4; z++) {\n              y0[z] = texArr[baseY * 4 + ((baseX - zoom) % noiseSize) * 4 + z];\n              y1[z] = texArr[baseY * 4 + (baseX % noiseSize) * 4 + z];\n              y2[z] = texArr[baseY * 4 + ((baseX + zoom) % noiseSize) * 4 + z];\n              y3[z] =\n                texArr[baseY * 4 + ((baseX + zoom * 2) % noiseSize) * 4 + z];\n            }\n\n            const t = (x % zoom) / zoom;\n            const result = Noise.dwCubicInterpolate(y0, y1, y2, y3, t);\n\n            for (let z = 0; z < 4; z++) {\n              texArr[y * noiseSize * 4 + x * 4 + z] = result[z];\n            }\n          }\n        }\n      }\n\n      for (let x = 0; x < noiseSize; x++) {\n        for (let y = 0; y < noiseSize; y++) {\n          if (y % zoom !== 0) {\n            const baseY = Math.floor(y / zoom) * zoom + noiseSize;\n\n            const y0 = [];\n            const y1 = [];\n            const y2 = [];\n            const y3 = [];\n            for (let z = 0; z < 4; z++) {\n              y0[z] =\n                texArr[\n                  ((baseY - zoom) % noiseSize) * noiseSize * 4 + x * 4 + z\n                ];\n              y1[z] = texArr[(baseY % noiseSize) * noiseSize * 4 + x * 4 + z];\n              y2[z] =\n                texArr[\n                  ((baseY + zoom) % noiseSize) * noiseSize * 4 + x * 4 + z\n                ];\n              y3[z] =\n                texArr[\n                  ((baseY + zoom * 2) % noiseSize) * noiseSize * 4 + x * 4 + z\n                ];\n            }\n\n            const t = (y % zoom) / zoom;\n            const result = Noise.dwCubicInterpolate(y0, y1, y2, y3, t);\n\n            for (let z = 0; z < 4; z++) {\n              texArr[y * noiseSize * 4 + x * 4 + z] = result[z];\n            }\n          }\n        }\n      }\n    }\n\n    return texArr;\n  }\n}\n","/* eslint-disable */\nvar EPSILON = 0.00001;\n\nself.sqr = function sqr(x) {\n  return x * x;\n};\n\nself.sqrt = function sqrt(x) {\n  return Math.sqrt(Math.abs(x));\n};\n\nself.log10 = function log10(val) {\n  return Math.log(val) * Math.LOG10E;\n};\n\nself.sign = function sign(x) {\n  return x > 0 ? 1 : x < 0 ? -1 : 0;\n};\n\nself.rand = function rand(x) {\n  var xf = Math.floor(x);\n  if (xf < 1) {\n    return Math.random();\n  }\n  return Math.random() * xf;\n};\n\nself.randint = function randint(x) {\n  return Math.floor(rand(x));\n};\n\nself.bnot = function bnot(x) {\n  return Math.abs(x) < EPSILON ? 1 : 0;\n};\n\nfunction isFiniteNumber(num) {\n  return isFinite(num) && !isNaN(num);\n}\n\nself.pow = function pow(x, y) {\n  var z = Math.pow(x, y);\n  if (!isFiniteNumber(z)) {\n    // mostly from complex results\n    return 0;\n  }\n  return z;\n};\n\nself.div = function div(x, y) {\n  if (y === 0) {\n    return 0;\n  }\n  return x / y;\n};\n\nself.mod = function mod(x, y) {\n  if (y === 0) {\n    return 0;\n  }\n  var z = Math.floor(x) % Math.floor(y);\n  return z;\n};\n\nself.bitor = function bitor(x, y) {\n  var z = Math.floor(x) | Math.floor(y);\n  return z;\n};\n\nself.bitand = function bitand(x, y) {\n  var z = Math.floor(x) & Math.floor(y);\n  return z;\n};\n\nself.sigmoid = function sigmoid(x, y) {\n  var t = 1 + Math.exp(-x * y);\n  return Math.abs(t) > EPSILON ? 1.0 / t : 0;\n};\n\nself.bor = function bor(x, y) {\n  return Math.abs(x) > EPSILON || Math.abs(y) > EPSILON ? 1 : 0;\n};\n\nself.band = function band(x, y) {\n  return Math.abs(x) > EPSILON && Math.abs(y) > EPSILON ? 1 : 0;\n};\n\nself.equal = function equal(x, y) {\n  return Math.abs(x - y) < EPSILON ? 1 : 0;\n};\n\nself.above = function above(x, y) {\n  return x > y ? 1 : 0;\n};\n\nself.below = function below(x, y) {\n  return x < y ? 1 : 0;\n};\n\nself.ifcond = function ifcond(x, y, z) {\n  return Math.abs(x) > EPSILON ? y : z;\n};\n\nself.memcpy = function memcpy(megabuf, dst, src, len) {\n  let destOffset = dst;\n  let srcOffset = src;\n  let copyLen = len;\n\n  if (srcOffset < 0) {\n    copyLen += srcOffset;\n    destOffset -= srcOffset;\n    srcOffset = 0;\n  }\n\n  if (destOffset < 0) {\n    copyLen += destOffset;\n    srcOffset -= destOffset;\n    destOffset = 0;\n  }\n\n  if (copyLen > 0) {\n    megabuf.copyWithin(destOffset, srcOffset, copyLen);\n  }\n\n  return dst;\n};\n/* eslint-enable */\n","export default class BlendPattern {\n  constructor(opts) {\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n\n    this.vertInfoA = new Float32Array(\n      (this.mesh_width + 1) * (this.mesh_height + 1)\n    );\n    this.vertInfoC = new Float32Array(\n      (this.mesh_width + 1) * (this.mesh_height + 1)\n    );\n\n    this.createBlendPattern();\n  }\n\n  static resizeMatrixValues(oldMat, oldWidth, oldHeight, newWidth, newHeight) {\n    const newMat = new Float32Array((newWidth + 1) * (newHeight + 1));\n    let nVert = 0;\n    for (let j = 0; j < newHeight + 1; j++) {\n      for (let i = 0; i < newWidth + 1; i++) {\n        let x = i / newHeight;\n        let y = j / newWidth;\n\n        x *= oldWidth + 1;\n        y *= oldHeight + 1;\n        x = Math.clamp(x, 0, oldWidth - 1);\n        y = Math.clamp(y, 0, oldHeight - 1);\n        const nx = Math.floor(x);\n        const ny = Math.floor(y);\n        const dx = x - nx;\n        const dy = y - ny;\n        const val00 = oldMat[ny * (oldWidth + 1) + nx];\n        const val01 = oldMat[ny * (oldWidth + 1) + (nx + 1)];\n        const val10 = oldMat[(ny + 1) * (oldWidth + 1) + nx];\n        const val11 = oldMat[(ny + 1) * (oldWidth + 1) + (nx + 1)];\n        newMat[nVert] =\n          val00 * (1 - dx) * (1 - dy) +\n          val01 * dx * (1 - dy) +\n          val10 * (1 - dx) * dy +\n          val11 * dx * dy;\n\n        nVert += 1;\n      }\n    }\n\n    return newMat;\n  }\n\n  updateGlobals(opts) {\n    const oldMeshWidth = this.mesh_width;\n    const oldMeshHeight = this.mesh_height;\n\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n\n    if (\n      this.mesh_width !== oldMeshWidth ||\n      this.mesh_height !== oldMeshHeight\n    ) {\n      this.vertInfoA = BlendPattern.resizeMatrixValues(\n        this.vertInfoA,\n        oldMeshWidth,\n        oldMeshHeight,\n        this.mesh_width,\n        this.mesh_height\n      );\n      this.vertInfoC = BlendPattern.resizeMatrixValues(\n        this.vertInfoC,\n        oldMeshWidth,\n        oldMeshHeight,\n        this.mesh_width,\n        this.mesh_height\n      );\n    }\n  }\n\n  genPlasma(x0, x1, y0, y1, dt) {\n    const midx = Math.floor((x0 + x1) / 2);\n    const midy = Math.floor((y0 + y1) / 2);\n    let t00 = this.vertInfoC[y0 * (this.mesh_width + 1) + x0];\n    let t01 = this.vertInfoC[y0 * (this.mesh_width + 1) + x1];\n    let t10 = this.vertInfoC[y1 * (this.mesh_width + 1) + x0];\n    let t11 = this.vertInfoC[y1 * (this.mesh_width + 1) + x1];\n\n    if (y1 - y0 >= 2) {\n      if (x0 === 0) {\n        this.vertInfoC[midy * (this.mesh_width + 1) + x0] =\n          0.5 * (t00 + t10) + (Math.random() * 2 - 1) * dt * this.aspecty;\n      }\n      this.vertInfoC[midy * (this.mesh_width + 1) + x1] =\n        0.5 * (t01 + t11) + (Math.random() * 2 - 1) * dt * this.aspecty;\n    }\n    if (x1 - x0 >= 2) {\n      if (y0 === 0) {\n        this.vertInfoC[y0 * (this.mesh_width + 1) + midx] =\n          0.5 * (t00 + t01) + (Math.random() * 2 - 1) * dt * this.aspectx;\n      }\n      this.vertInfoC[y1 * (this.mesh_width + 1) + midx] =\n        0.5 * (t10 + t11) + (Math.random() * 2 - 1) * dt * this.aspectx;\n    }\n\n    if (y1 - y0 >= 2 && x1 - x0 >= 2) {\n      t00 = this.vertInfoC[midy * (this.mesh_width + 1) + x0];\n      t01 = this.vertInfoC[midy * (this.mesh_width + 1) + x1];\n      t10 = this.vertInfoC[y0 * (this.mesh_width + 1) + midx];\n      t11 = this.vertInfoC[y1 * (this.mesh_width + 1) + midx];\n      this.vertInfoC[midy * (this.mesh_width + 1) + midx] =\n        0.25 * (t10 + t11 + t00 + t01) + (Math.random() * 2 - 1) * dt;\n\n      this.genPlasma(x0, midx, y0, midy, dt * 0.5);\n      this.genPlasma(midx, x1, y0, midy, dt * 0.5);\n      this.genPlasma(x0, midx, midy, y1, dt * 0.5);\n      this.genPlasma(midx, x1, midy, y1, dt * 0.5);\n    }\n  }\n\n  createBlendPattern() {\n    const mixType = 1 + Math.floor(Math.random() * 3);\n    if (mixType === 0) {\n      // not currently used\n      let nVert = 0;\n      for (let y = 0; y <= this.mesh_height; y++) {\n        for (let x = 0; x <= this.mesh_width; x++) {\n          this.vertInfoA[nVert] = 1;\n          this.vertInfoC[nVert] = 0;\n          nVert += 1;\n        }\n      }\n    } else if (mixType === 1) {\n      const ang = Math.random() * 6.28;\n      const vx = Math.cos(ang);\n      const vy = Math.sin(ang);\n      const band = 0.1 + 0.2 * Math.random();\n      const invBand = 1.0 / band;\n\n      let nVert = 0;\n      for (let y = 0; y <= this.mesh_height; y++) {\n        const fy = (y / this.mesh_height) * this.aspecty;\n        for (let x = 0; x <= this.mesh_width; x++) {\n          const fx = (x / this.mesh_width) * this.aspectx;\n\n          let t = (fx - 0.5) * vx + (fy - 0.5) * vy + 0.5;\n          t = (t - 0.5) / Math.sqrt(2) + 0.5;\n\n          this.vertInfoA[nVert] = invBand * (1 + band);\n          this.vertInfoC[nVert] = -invBand + invBand * t;\n          nVert += 1;\n        }\n      }\n    } else if (mixType === 2) {\n      const band = 0.12 + 0.13 * Math.random();\n      const invBand = 1.0 / band;\n\n      this.vertInfoC[0] = Math.random();\n      this.vertInfoC[this.mesh_width] = Math.random();\n      this.vertInfoC[this.mesh_height * (this.mesh_width + 1)] = Math.random();\n      this.vertInfoC[\n        this.mesh_height * (this.mesh_width + 1) + this.mesh_width\n      ] = Math.random();\n      this.genPlasma(0, this.mesh_width, 0, this.mesh_height, 0.25);\n\n      let minc = this.vertInfoC[0];\n      let maxc = this.vertInfoC[0];\n\n      let nVert = 0;\n      for (let y = 0; y <= this.mesh_height; y++) {\n        for (let x = 0; x <= this.mesh_width; x++) {\n          if (minc > this.vertInfoC[nVert]) {\n            minc = this.vertInfoC[nVert];\n          }\n          if (maxc < this.vertInfoC[nVert]) {\n            maxc = this.vertInfoC[nVert];\n          }\n          nVert += 1;\n        }\n      }\n\n      const mult = 1.0 / (maxc - minc);\n      nVert = 0;\n      for (let y = 0; y <= this.mesh_height; y++) {\n        for (let x = 0; x <= this.mesh_width; x++) {\n          const t = (this.vertInfoC[nVert] - minc) * mult;\n          this.vertInfoA[nVert] = invBand * (1 + band);\n          this.vertInfoC[nVert] = -invBand + invBand * t;\n          nVert += 1;\n        }\n      }\n    } else if (mixType === 3) {\n      const band = 0.02 + 0.14 * Math.random() + 0.34 * Math.random();\n      const invBand = 1.0 / band;\n      const dir = Math.floor(Math.random() * 2) * 2 - 1;\n\n      let nVert = 0;\n      for (let y = 0; y <= this.mesh_height; y++) {\n        const dy = (y / this.mesh_height - 0.5) * this.aspecty;\n        for (let x = 0; x <= this.mesh_width; x++) {\n          const dx = (x / this.mesh_width - 0.5) * this.aspectx;\n          let t = Math.sqrt(dx * dx + dy * dy) * 1.41421;\n          if (dir === -1) {\n            t = 1 - t;\n          }\n\n          this.vertInfoA[nVert] = invBand * (1 + band);\n          this.vertInfoC[nVert] = -invBand + invBand * t;\n          nVert += 1;\n        }\n      }\n    }\n  }\n}\n","import ShaderUtils from \"../shaders/shaderUtils\";\n\nexport default class MotionVectors {\n  constructor(gl, opts) {\n    this.gl = gl;\n\n    this.maxX = 64;\n    this.maxY = 48;\n    this.positions = new Float32Array(this.maxX * this.maxY * 2 * 3);\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n\n    this.positionVertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      in vec3 aPos;\n      void main(void) {\n        gl_Position = vec4(aPos, 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, \"aPos\");\n\n    this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, \"u_color\");\n  }\n\n  getMotionDir(warpUVs, fx, fy) {\n    const y0 = Math.floor(fy * this.mesh_height);\n    const dy = fy * this.mesh_height - y0;\n\n    const x0 = Math.floor(fx * this.mesh_width);\n    const dx = fx * this.mesh_width - x0;\n\n    const x1 = x0 + 1;\n    const y1 = y0 + 1;\n\n    const gridX1 = this.mesh_width + 1;\n\n    let fx2;\n    let fy2;\n    fx2 = warpUVs[(y0 * gridX1 + x0) * 2 + 0] * (1 - dx) * (1 - dy);\n    fy2 = warpUVs[(y0 * gridX1 + x0) * 2 + 1] * (1 - dx) * (1 - dy);\n    fx2 += warpUVs[(y0 * gridX1 + x1) * 2 + 0] * dx * (1 - dy);\n    fy2 += warpUVs[(y0 * gridX1 + x1) * 2 + 1] * dx * (1 - dy);\n    fx2 += warpUVs[(y1 * gridX1 + x0) * 2 + 0] * (1 - dx) * dy;\n    fy2 += warpUVs[(y1 * gridX1 + x0) * 2 + 1] * (1 - dx) * dy;\n    fx2 += warpUVs[(y1 * gridX1 + x1) * 2 + 0] * dx * dy;\n    fy2 += warpUVs[(y1 * gridX1 + x1) * 2 + 1] * dx * dy;\n\n    return [fx2, 1.0 - fy2];\n  }\n\n  generateMotionVectors(mdVSFrame, warpUVs) {\n    const mvOn = mdVSFrame.bmotionvectorson;\n    const mvA = mvOn === 0 ? 0 : mdVSFrame.mv_a;\n    let nX = Math.floor(mdVSFrame.mv_x);\n    let nY = Math.floor(mdVSFrame.mv_y);\n\n    if (mvA > 0.001 && nX > 0 && nY > 0) {\n      let dx = mdVSFrame.mv_x - nX;\n      let dy = mdVSFrame.mv_y - nY;\n\n      if (nX > this.maxX) {\n        nX = this.maxX;\n        dx = 0;\n      }\n\n      if (nY > this.maxY) {\n        nY = this.maxY;\n        dy = 0;\n      }\n\n      const dx2 = mdVSFrame.mv_dx;\n      const dy2 = mdVSFrame.mv_dy;\n\n      const lenMult = mdVSFrame.mv_l;\n      const minLen = 1.0 / this.texsizeX;\n\n      this.numVecVerts = 0;\n      for (let j = 0; j < nY; j++) {\n        let fy = (j + 0.25) / (nY + dy + 0.25 - 1.0);\n        fy -= dy2;\n\n        if (fy > 0.0001 && fy < 0.9999) {\n          for (let i = 0; i < nX; i++) {\n            let fx = (i + 0.25) / (nX + dx + 0.25 - 1.0);\n            fx += dx2;\n\n            if (fx > 0.0001 && fx < 0.9999) {\n              const fx2arr = this.getMotionDir(warpUVs, fx, fy);\n              let fx2 = fx2arr[0];\n              let fy2 = fx2arr[1];\n\n              let dxi = fx2 - fx;\n              let dyi = fy2 - fy;\n              dxi *= lenMult;\n              dyi *= lenMult;\n\n              let fdist = Math.sqrt(dxi * dxi + dyi * dyi);\n\n              if (fdist < minLen && fdist > 0.00000001) {\n                fdist = minLen / fdist;\n                dxi *= fdist;\n                dyi *= fdist;\n              } else {\n                dxi = minLen;\n                dxi = minLen;\n              }\n\n              fx2 = fx + dxi;\n              fy2 = fy + dyi;\n\n              const vx1 = 2.0 * fx - 1.0;\n              const vy1 = 2.0 * fy - 1.0;\n              const vx2 = 2.0 * fx2 - 1.0;\n              const vy2 = 2.0 * fy2 - 1.0;\n\n              this.positions[this.numVecVerts * 3 + 0] = vx1;\n              this.positions[this.numVecVerts * 3 + 1] = vy1;\n              this.positions[this.numVecVerts * 3 + 2] = 0;\n\n              this.positions[(this.numVecVerts + 1) * 3 + 0] = vx2;\n              this.positions[(this.numVecVerts + 1) * 3 + 1] = vy2;\n              this.positions[(this.numVecVerts + 1) * 3 + 2] = 0;\n\n              this.numVecVerts += 2;\n            }\n          }\n        }\n      }\n\n      if (this.numVecVerts > 0) {\n        this.color = [mdVSFrame.mv_r, mdVSFrame.mv_g, mdVSFrame.mv_b, mvA];\n\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  drawMotionVectors(mdVSFrame, warpUVs) {\n    if (this.generateMotionVectors(mdVSFrame, warpUVs)) {\n      this.gl.useProgram(this.shaderProgram);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        this.positions,\n        this.gl.STATIC_DRAW\n      );\n\n      this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);\n      this.gl.enableVertexAttribArray(this.aPosLoc);\n\n      this.gl.uniform4fv(this.colorLoc, this.color);\n\n      this.gl.lineWidth(1);\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n      this.gl.drawArrays(this.gl.LINES, 0, this.numVecVerts);\n    }\n  }\n}\n","import AudioLevels from \"../audio/audioLevels\";\nimport blankPreset from \"../blankPreset\";\nimport PresetEquationRunner from \"../equations/presetEquationRunner\";\nimport PresetEquationRunnerWASM from \"../equations/presetEquationRunnerWASM\";\nimport BasicWaveform from \"./waves/basicWaveform\";\nimport CustomWaveform from \"./waves/customWaveform\";\nimport CustomShape from \"./shapes/customShape\";\nimport Border from \"./sprites/border\";\nimport DarkenCenter from \"./sprites/darkenCenter\";\nimport MotionVectors from \"./motionVectors/motionVectors\";\nimport WarpShader from \"./shaders/warp\";\nimport CompShader from \"./shaders/comp\";\nimport OutputShader from \"./shaders/output\";\nimport ResampleShader from \"./shaders/resample\";\nimport BlurShader from \"./shaders/blur/blur\";\nimport Noise from \"../noise/noise\";\nimport ImageTextures from \"../image/imageTextures\";\nimport TitleText from \"./text/titleText\";\nimport BlendPattern from \"./blendPattern\";\nimport Utils from \"../utils\";\n\nexport default class Renderer {\n  constructor(gl, audio, opts) {\n    this.gl = gl;\n    this.audio = audio;\n\n    this.frameNum = 0;\n    this.fps = 30;\n    this.time = 0;\n    this.presetTime = 0;\n    this.lastTime = performance.now();\n    this.timeHist = [0];\n    this.timeHistMax = 120;\n    this.blending = false;\n    this.blendStartTime = 0;\n    this.blendProgress = 0;\n    this.blendDuration = 0;\n\n    this.width = opts.width || 1200;\n    this.height = opts.height || 900;\n    this.mesh_width = opts.meshWidth || 48;\n    this.mesh_height = opts.meshHeight || 36;\n    this.pixelRatio = opts.pixelRatio || self.devicePixelRatio || 1;\n    this.textureRatio = opts.textureRatio || 1;\n    this.outputFXAA = opts.outputFXAA || false;\n    this.texsizeX = this.width * this.pixelRatio * this.textureRatio;\n    this.texsizeY = this.height * this.pixelRatio * this.textureRatio;\n    this.aspectx =\n      this.texsizeY > this.texsizeX ? this.texsizeX / this.texsizeY : 1;\n    this.aspecty =\n      this.texsizeX > this.texsizeY ? this.texsizeY / this.texsizeX : 1;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.qs = Utils.range(1, 33).map((x) => `q${x}`);\n    this.ts = Utils.range(1, 9).map((x) => `t${x}`);\n    this.regs = Utils.range(0, 100).map((x) => {\n      if (x < 10) {\n        return `reg0${x}`;\n      }\n      return `reg${x}`;\n    });\n\n    this.blurRatios = [\n      [0.5, 0.25],\n      [0.125, 0.125],\n      [0.0625, 0.0625],\n    ];\n\n    this.audioLevels = new AudioLevels(this.audio);\n\n    this.prevFrameBuffer = this.gl.createFramebuffer();\n    this.targetFrameBuffer = this.gl.createFramebuffer();\n    this.prevTexture = this.gl.createTexture();\n    this.targetTexture = this.gl.createTexture();\n\n    this.compFrameBuffer = this.gl.createFramebuffer();\n    this.compTexture = this.gl.createTexture();\n\n    this.anisoExt =\n      this.gl.getExtension(\"EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\n\n    this.bindFrameBufferTexture(this.prevFrameBuffer, this.prevTexture);\n    this.bindFrameBufferTexture(this.targetFrameBuffer, this.targetTexture);\n    this.bindFrameBufferTexture(this.compFrameBuffer, this.compTexture);\n\n    const params = {\n      pixelRatio: this.pixelRatio,\n      textureRatio: this.textureRatio,\n      texsizeX: this.texsizeX,\n      texsizeY: this.texsizeY,\n      mesh_width: this.mesh_width,\n      mesh_height: this.mesh_height,\n      aspectx: this.aspectx,\n      aspecty: this.aspecty,\n    };\n    this.noise = new Noise(gl);\n    this.image = new ImageTextures(gl);\n    this.warpShader = new WarpShader(gl, this.noise, this.image, params);\n    this.compShader = new CompShader(gl, this.noise, this.image, params);\n    this.outputShader = new OutputShader(gl, params);\n    this.prevWarpShader = new WarpShader(gl, this.noise, this.image, params);\n    this.prevCompShader = new CompShader(gl, this.noise, this.image, params);\n    this.numBlurPasses = 0;\n    this.blurShader1 = new BlurShader(0, this.blurRatios, gl, params);\n    this.blurShader2 = new BlurShader(1, this.blurRatios, gl, params);\n    this.blurShader3 = new BlurShader(2, this.blurRatios, gl, params);\n    this.blurTexture1 = this.blurShader1.blurVerticalTexture;\n    this.blurTexture2 = this.blurShader2.blurVerticalTexture;\n    this.blurTexture3 = this.blurShader3.blurVerticalTexture;\n    this.basicWaveform = new BasicWaveform(gl, params);\n    this.customWaveforms = Utils.range(4).map(\n      (i) => new CustomWaveform(i, gl, params)\n    );\n    this.customShapes = Utils.range(4).map(\n      (i) => new CustomShape(i, gl, params)\n    );\n    this.prevCustomWaveforms = Utils.range(4).map(\n      (i) => new CustomWaveform(i, gl, params)\n    );\n    this.prevCustomShapes = Utils.range(4).map(\n      (i) => new CustomShape(i, gl, params)\n    );\n    this.darkenCenter = new DarkenCenter(gl, params);\n    this.innerBorder = new Border(gl, params);\n    this.outerBorder = new Border(gl, params);\n    this.motionVectors = new MotionVectors(gl, params);\n    this.titleText = new TitleText(gl, params);\n    this.blendPattern = new BlendPattern(params);\n    this.resampleShader = new ResampleShader(gl);\n\n    this.supertext = {\n      startTime: -1,\n    };\n\n    this.warpUVs = new Float32Array(\n      (this.mesh_width + 1) * (this.mesh_height + 1) * 2\n    );\n    this.warpColor = new Float32Array(\n      (this.mesh_width + 1) * (this.mesh_height + 1) * 4\n    );\n\n    this.gl.clearColor(0, 0, 0, 1);\n\n    this.blankPreset = blankPreset;\n\n    const globalVars = {\n      frame: 0,\n      time: 0,\n      fps: 45,\n      bass: 1,\n      bass_att: 1,\n      mid: 1,\n      mid_att: 1,\n      treb: 1,\n      treb_att: 1,\n    };\n\n    this.preset = blankPreset;\n    this.prevPreset = this.preset;\n    this.presetEquationRunner = new PresetEquationRunner(\n      this.preset,\n      globalVars,\n      params\n    );\n    this.prevPresetEquationRunner = new PresetEquationRunner(\n      this.prevPreset,\n      globalVars,\n      params\n    );\n\n    if (!this.preset.useWASM) {\n      this.regVars = this.presetEquationRunner.mdVSRegs;\n    }\n  }\n\n  static createCanvas(width, height) {\n    if (self.OffscreenCanvas) {\n      const canvas = new OffscreenCanvas(width, height);\n      return canvas;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  static getHighestBlur(t) {\n    if (/sampler_blur3/.test(t)) {\n      return 3;\n    } else if (/sampler_blur2/.test(t)) {\n      return 2;\n    } else if (/sampler_blur1/.test(t)) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  loadPreset(preset, blendTime) {\n    this.blendPattern.createBlendPattern();\n    this.blending = true;\n    this.blendStartTime = this.time;\n    this.blendDuration = blendTime;\n    this.blendProgress = 0;\n\n    this.prevPresetEquationRunner = this.presetEquationRunner;\n\n    this.prevPreset = this.preset;\n    this.preset = preset;\n\n    this.presetTime = this.time;\n\n    const globalVars = {\n      frame: this.frameNum,\n      time: this.time,\n      fps: this.fps,\n      bass: this.audioLevels.bass,\n      bass_att: this.audioLevels.bass_att,\n      mid: this.audioLevels.mid,\n      mid_att: this.audioLevels.mid_att,\n      treb: this.audioLevels.treb,\n      treb_att: this.audioLevels.treb_att,\n    };\n    const params = {\n      pixelRatio: this.pixelRatio,\n      textureRatio: this.textureRatio,\n      texsizeX: this.texsizeX,\n      texsizeY: this.texsizeY,\n      mesh_width: this.mesh_width,\n      mesh_height: this.mesh_height,\n      aspectx: this.aspectx,\n      aspecty: this.aspecty,\n    };\n\n    if (preset.useWASM) {\n      this.preset.globalPools.perFrame.old_wave_mode.value = this.prevPreset.baseVals.wave_mode;\n      this.preset.baseVals.old_wave_mode = this.prevPreset.baseVals.wave_mode;\n      this.presetEquationRunner = new PresetEquationRunnerWASM(\n        this.preset,\n        globalVars,\n        params\n      );\n      if (this.preset.pixel_eqs_initialize_array) {\n        this.preset.pixel_eqs_initialize_array(\n          this.mesh_width,\n          this.mesh_height\n        );\n      }\n    } else {\n      this.preset.baseVals.old_wave_mode = this.prevPreset.baseVals.wave_mode;\n      this.presetEquationRunner = new PresetEquationRunner(\n        this.preset,\n        globalVars,\n        params\n      );\n      this.regVars = this.presetEquationRunner.mdVSRegs;\n    }\n\n    const tmpWarpShader = this.prevWarpShader;\n    this.prevWarpShader = this.warpShader;\n    this.warpShader = tmpWarpShader;\n\n    const tmpCompShader = this.prevCompShader;\n    this.prevCompShader = this.compShader;\n    this.compShader = tmpCompShader;\n\n    const warpText = this.preset.warp.trim();\n    const compText = this.preset.comp.trim();\n\n    this.warpShader.updateShader(warpText);\n    this.compShader.updateShader(compText);\n\n    if (warpText.length === 0) {\n      this.numBlurPasses = 0;\n    } else {\n      this.numBlurPasses = Renderer.getHighestBlur(warpText);\n    }\n\n    if (compText.length !== 0) {\n      this.numBlurPasses = Math.max(\n        this.numBlurPasses,\n        Renderer.getHighestBlur(compText)\n      );\n    }\n  }\n\n  loadExtraImages(imageData) {\n    this.image.loadExtraImages(imageData);\n  }\n\n  setRendererSize(width, height, opts) {\n    const oldTexsizeX = this.texsizeX;\n    const oldTexsizeY = this.texsizeY;\n\n    this.width = width;\n    this.height = height;\n    this.mesh_width = opts.meshWidth || this.mesh_width;\n    this.mesh_height = opts.meshHeight || this.mesh_height;\n    this.pixelRatio = opts.pixelRatio || this.pixelRatio;\n    this.textureRatio = opts.textureRatio || this.textureRatio;\n    this.texsizeX = width * this.pixelRatio * this.textureRatio;\n    this.texsizeY = height * this.pixelRatio * this.textureRatio;\n    this.aspectx =\n      this.texsizeY > this.texsizeX ? this.texsizeX / this.texsizeY : 1;\n    this.aspecty =\n      this.texsizeX > this.texsizeY ? this.texsizeY / this.texsizeX : 1;\n\n    if (this.texsizeX !== oldTexsizeX || this.texsizeY !== oldTexsizeY) {\n      // copy target texture, because we flip prev/target at start of render\n      const targetTextureNew = this.gl.createTexture();\n      this.bindFrameBufferTexture(this.targetFrameBuffer, targetTextureNew);\n      this.bindFrambufferAndSetViewport(\n        this.targetFrameBuffer,\n        this.texsizeX,\n        this.texsizeY\n      );\n\n      this.resampleShader.renderQuadTexture(this.targetTexture);\n\n      this.targetTexture = targetTextureNew;\n\n      this.bindFrameBufferTexture(this.prevFrameBuffer, this.prevTexture);\n      this.bindFrameBufferTexture(this.compFrameBuffer, this.compTexture);\n    }\n\n    this.updateGlobals();\n\n    // rerender current frame at new size\n    if (this.frameNum > 0) {\n      this.renderToScreen();\n    }\n  }\n\n  setInternalMeshSize(width, height) {\n    this.mesh_width = width;\n    this.mesh_height = height;\n\n    this.updateGlobals();\n  }\n\n  setOutputAA(useAA) {\n    this.outputFXAA = useAA;\n  }\n\n  updateGlobals() {\n    const params = {\n      pixelRatio: this.pixelRatio,\n      textureRatio: this.textureRatio,\n      texsizeX: this.texsizeX,\n      texsizeY: this.texsizeY,\n      mesh_width: this.mesh_width,\n      mesh_height: this.mesh_height,\n      aspectx: this.aspectx,\n      aspecty: this.aspecty,\n    };\n    this.presetEquationRunner.updateGlobals(params);\n    this.prevPresetEquationRunner.updateGlobals(params);\n    this.warpShader.updateGlobals(params);\n    this.prevWarpShader.updateGlobals(params);\n    this.compShader.updateGlobals(params);\n    this.prevCompShader.updateGlobals(params);\n    this.outputShader.updateGlobals(params);\n    this.blurShader1.updateGlobals(params);\n    this.blurShader2.updateGlobals(params);\n    this.blurShader3.updateGlobals(params);\n    this.basicWaveform.updateGlobals(params);\n    this.customWaveforms.forEach((wave) => wave.updateGlobals(params));\n    this.customShapes.forEach((shape) => shape.updateGlobals(params));\n    this.prevCustomWaveforms.forEach((wave) => wave.updateGlobals(params));\n    this.prevCustomShapes.forEach((shape) => shape.updateGlobals(params));\n    this.darkenCenter.updateGlobals(params);\n    this.innerBorder.updateGlobals(params);\n    this.outerBorder.updateGlobals(params);\n    this.motionVectors.updateGlobals(params);\n    this.titleText.updateGlobals(params);\n    this.blendPattern.updateGlobals(params);\n\n    this.warpUVs = new Float32Array(\n      (this.mesh_width + 1) * (this.mesh_height + 1) * 2\n    );\n    this.warpColor = new Float32Array(\n      (this.mesh_width + 1) * (this.mesh_height + 1) * 4\n    );\n\n    if (this.preset.pixel_eqs_initialize_array) {\n      this.preset.pixel_eqs_initialize_array(this.mesh_width, this.mesh_height);\n    }\n  }\n\n  calcTimeAndFPS(elapsedTime) {\n    let elapsed;\n    if (elapsedTime) {\n      elapsed = elapsedTime;\n    } else {\n      const newTime = performance.now();\n      elapsed = (newTime - this.lastTime) / 1000.0;\n      if (elapsed > 1.0 || elapsed < 0.0 || this.frame < 2) {\n        elapsed = 1.0 / 30.0;\n      }\n      this.lastTime = newTime;\n    }\n\n    this.time += 1.0 / this.fps;\n\n    if (this.blending) {\n      this.blendProgress =\n        (this.time - this.blendStartTime) / this.blendDuration;\n      if (this.blendProgress > 1.0) {\n        this.blending = false;\n      }\n    }\n\n    const newHistTime = this.timeHist[this.timeHist.length - 1] + elapsed;\n    this.timeHist.push(newHistTime);\n    if (this.timeHist.length > this.timeHistMax) {\n      this.timeHist.shift();\n    }\n\n    const newFPS = this.timeHist.length / (newHistTime - this.timeHist[0]);\n    if (Math.abs(newFPS - this.fps) > 3.0 && this.frame > this.timeHistMax) {\n      this.fps = newFPS;\n    } else {\n      const damping = 0.93;\n      this.fps = damping * this.fps + (1.0 - damping) * newFPS;\n    }\n  }\n\n  runPixelEquations(presetEquationRunner, mdVSFrame, globalVars, blending) {\n    const gridX = this.mesh_width;\n    const gridZ = this.mesh_height;\n\n    const gridX1 = gridX + 1;\n    const gridZ1 = gridZ + 1;\n\n    const warpTimeV = this.time * mdVSFrame.warpanimspeed;\n    const warpScaleInv = 1.0 / mdVSFrame.warpscale;\n\n    const warpf0 = 11.68 + 4.0 * Math.cos(warpTimeV * 1.413 + 10);\n    const warpf1 = 8.77 + 3.0 * Math.cos(warpTimeV * 1.113 + 7);\n    const warpf2 = 10.54 + 3.0 * Math.cos(warpTimeV * 1.233 + 3);\n    const warpf3 = 11.49 + 4.0 * Math.cos(warpTimeV * 0.933 + 5);\n\n    const texelOffsetX = 0.0 / this.texsizeX;\n    const texelOffsetY = 0.0 / this.texsizeY;\n\n    const aspectx = this.aspectx;\n    const aspecty = this.aspecty;\n\n    let offset = 0;\n    let offsetColor = 0;\n    if (!presetEquationRunner.preset.useWASM) {\n      let mdVSVertex = Utils.cloneVars(mdVSFrame);\n\n      let warp = mdVSVertex.warp;\n      let zoom = mdVSVertex.zoom;\n      let zoomExp = mdVSVertex.zoomexp;\n      let cx = mdVSVertex.cx;\n      let cy = mdVSVertex.cy;\n      let sx = mdVSVertex.sx;\n      let sy = mdVSVertex.sy;\n      let dx = mdVSVertex.dx;\n      let dy = mdVSVertex.dy;\n      let rot = mdVSVertex.rot;\n\n      for (let iz = 0; iz < gridZ1; iz++) {\n        for (let ix = 0; ix < gridX1; ix++) {\n          const x = (ix / gridX) * 2.0 - 1.0;\n          const y = (iz / gridZ) * 2.0 - 1.0;\n          const rad = Math.sqrt(\n            x * x * aspectx * aspectx + y * y * aspecty * aspecty\n          );\n\n          if (presetEquationRunner.runVertEQs) {\n            let ang;\n            if (iz === gridZ / 2 && ix === gridX / 2) {\n              ang = 0;\n            } else {\n              ang = Utils.atan2(y * aspecty, x * aspectx);\n            }\n\n            mdVSVertex.x = x * 0.5 * aspectx + 0.5;\n            mdVSVertex.y = y * -0.5 * aspecty + 0.5;\n            mdVSVertex.rad = rad;\n            mdVSVertex.ang = ang;\n\n            mdVSVertex.zoom = mdVSFrame.zoom;\n            mdVSVertex.zoomexp = mdVSFrame.zoomexp;\n            mdVSVertex.rot = mdVSFrame.rot;\n            mdVSVertex.warp = mdVSFrame.warp;\n            mdVSVertex.cx = mdVSFrame.cx;\n            mdVSVertex.cy = mdVSFrame.cy;\n            mdVSVertex.dx = mdVSFrame.dx;\n            mdVSVertex.dy = mdVSFrame.dy;\n            mdVSVertex.sx = mdVSFrame.sx;\n            mdVSVertex.sy = mdVSFrame.sy;\n\n            mdVSVertex = presetEquationRunner.runPixelEquations(mdVSVertex);\n\n            warp = mdVSVertex.warp;\n            zoom = mdVSVertex.zoom;\n            zoomExp = mdVSVertex.zoomexp;\n            cx = mdVSVertex.cx;\n            cy = mdVSVertex.cy;\n            sx = mdVSVertex.sx;\n            sy = mdVSVertex.sy;\n            dx = mdVSVertex.dx;\n            dy = mdVSVertex.dy;\n            rot = mdVSVertex.rot;\n          }\n\n          const zoom2V = zoom ** (zoomExp ** (rad * 2.0 - 1.0));\n          const zoom2Inv = 1.0 / zoom2V;\n\n          let u = x * 0.5 * aspectx * zoom2Inv + 0.5;\n          let v = -y * 0.5 * aspecty * zoom2Inv + 0.5;\n\n          u = (u - cx) / sx + cx;\n          v = (v - cy) / sy + cy;\n\n          if (warp !== 0) {\n            u +=\n              warp *\n              0.0035 *\n              Math.sin(\n                warpTimeV * 0.333 + warpScaleInv * (x * warpf0 - y * warpf3)\n              );\n            v +=\n              warp *\n              0.0035 *\n              Math.cos(\n                warpTimeV * 0.375 - warpScaleInv * (x * warpf2 + y * warpf1)\n              );\n            u +=\n              warp *\n              0.0035 *\n              Math.cos(\n                warpTimeV * 0.753 - warpScaleInv * (x * warpf1 - y * warpf2)\n              );\n            v +=\n              warp *\n              0.0035 *\n              Math.sin(\n                warpTimeV * 0.825 + warpScaleInv * (x * warpf0 + y * warpf3)\n              );\n          }\n\n          const u2 = u - cx;\n          const v2 = v - cy;\n\n          const cosRot = Math.cos(rot);\n          const sinRot = Math.sin(rot);\n          u = u2 * cosRot - v2 * sinRot + cx;\n          v = u2 * sinRot + v2 * cosRot + cy;\n\n          u -= dx;\n          v -= dy;\n\n          u = (u - 0.5) / aspectx + 0.5;\n          v = (v - 0.5) / aspecty + 0.5;\n\n          u += texelOffsetX;\n          v += texelOffsetY;\n\n          if (!blending) {\n            this.warpUVs[offset] = u;\n            this.warpUVs[offset + 1] = v;\n\n            this.warpColor[offsetColor + 0] = 1;\n            this.warpColor[offsetColor + 1] = 1;\n            this.warpColor[offsetColor + 2] = 1;\n            this.warpColor[offsetColor + 3] = 1;\n          } else {\n            let mix2 =\n              this.blendPattern.vertInfoA[offset / 2] * this.blendProgress +\n              this.blendPattern.vertInfoC[offset / 2];\n            mix2 = Math.clamp(mix2, 0, 1);\n\n            this.warpUVs[offset] = this.warpUVs[offset] * mix2 + u * (1 - mix2);\n            this.warpUVs[offset + 1] =\n              this.warpUVs[offset + 1] * mix2 + v * (1 - mix2);\n\n            this.warpColor[offsetColor + 0] = 1;\n            this.warpColor[offsetColor + 1] = 1;\n            this.warpColor[offsetColor + 2] = 1;\n            this.warpColor[offsetColor + 3] = mix2;\n          }\n\n          offset += 2;\n          offsetColor += 4;\n        }\n      }\n\n      this.mdVSVertex = mdVSVertex;\n    } else {\n      const varPool = presetEquationRunner.preset.globalPools.perVertex;\n\n      Utils.setWasm(varPool, globalVars, presetEquationRunner.globalKeys);\n      Utils.setWasm(\n        varPool,\n        presetEquationRunner.mdVSQAfterFrame,\n        presetEquationRunner.qs\n      );\n\n      varPool.zoom.value = mdVSFrame.zoom;\n      varPool.zoomexp.value = mdVSFrame.zoomexp;\n      varPool.rot.value = mdVSFrame.rot;\n      varPool.warp.value = mdVSFrame.warp;\n      varPool.cx.value = mdVSFrame.cx;\n      varPool.cy.value = mdVSFrame.cy;\n      varPool.dx.value = mdVSFrame.dx;\n      varPool.dy.value = mdVSFrame.dy;\n      varPool.sx.value = mdVSFrame.sx;\n      varPool.sy.value = mdVSFrame.sy;\n\n      presetEquationRunner.preset.pixel_eqs_wasm(\n        presetEquationRunner.runVertEQs,\n        this.mesh_width,\n        this.mesh_height,\n        this.time,\n        mdVSFrame.warpanimspeed,\n        mdVSFrame.warpscale,\n        this.aspectx,\n        this.aspecty\n      );\n\n      if (!blending) {\n        this.warpUVs = presetEquationRunner.preset.pixel_eqs_get_array();\n        this.warpColor.fill(1);\n      } else {\n        const newWarpUVs = presetEquationRunner.preset.pixel_eqs_get_array();\n\n        let offset = 0;\n        let offsetColor = 0;\n        for (let iz = 0; iz < gridZ1; iz++) {\n          for (let ix = 0; ix < gridX1; ix++) {\n            const u = newWarpUVs[offset];\n            const v = newWarpUVs[offset + 1];\n\n            let mix2 =\n              this.blendPattern.vertInfoA[offset / 2] * this.blendProgress +\n              this.blendPattern.vertInfoC[offset / 2];\n            mix2 = Math.clamp(mix2, 0, 1);\n\n            this.warpUVs[offset] = this.warpUVs[offset] * mix2 + u * (1 - mix2);\n            this.warpUVs[offset + 1] =\n              this.warpUVs[offset + 1] * mix2 + v * (1 - mix2);\n\n            this.warpColor[offsetColor + 0] = 1;\n            this.warpColor[offsetColor + 1] = 1;\n            this.warpColor[offsetColor + 2] = 1;\n            this.warpColor[offsetColor + 3] = mix2;\n\n            offset += 2;\n            offsetColor += 4;\n          }\n        }\n      }\n    }\n  }\n\n  static mixFrameEquations(blendProgress, mdVSFrame, mdVSFramePrev) {\n    const mix = 0.5 - 0.5 * Math.cos(blendProgress * Math.PI);\n    const mix2 = 1 - mix;\n    const snapPoint = 0.5;\n\n    const mixedFrame = Utils.cloneVars(mdVSFrame);\n\n    mixedFrame.decay = mix * mdVSFrame.decay + mix2 * mdVSFramePrev.decay;\n    mixedFrame.wave_a = mix * mdVSFrame.wave_a + mix2 * mdVSFramePrev.wave_a;\n    mixedFrame.wave_r = mix * mdVSFrame.wave_r + mix2 * mdVSFramePrev.wave_r;\n    mixedFrame.wave_g = mix * mdVSFrame.wave_g + mix2 * mdVSFramePrev.wave_g;\n    mixedFrame.wave_b = mix * mdVSFrame.wave_b + mix2 * mdVSFramePrev.wave_b;\n    mixedFrame.wave_x = mix * mdVSFrame.wave_x + mix2 * mdVSFramePrev.wave_x;\n    mixedFrame.wave_y = mix * mdVSFrame.wave_y + mix2 * mdVSFramePrev.wave_y;\n    mixedFrame.wave_mystery =\n      mix * mdVSFrame.wave_mystery + mix2 * mdVSFramePrev.wave_mystery;\n    mixedFrame.ob_size = mix * mdVSFrame.ob_size + mix2 * mdVSFramePrev.ob_size;\n    mixedFrame.ob_r = mix * mdVSFrame.ob_r + mix2 * mdVSFramePrev.ob_r;\n    mixedFrame.ob_g = mix * mdVSFrame.ob_g + mix2 * mdVSFramePrev.ob_g;\n    mixedFrame.ob_b = mix * mdVSFrame.ob_b + mix2 * mdVSFramePrev.ob_b;\n    mixedFrame.ob_a = mix * mdVSFrame.ob_a + mix2 * mdVSFramePrev.ob_a;\n    mixedFrame.ib_size = mix * mdVSFrame.ib_size + mix2 * mdVSFramePrev.ib_size;\n    mixedFrame.ib_r = mix * mdVSFrame.ib_r + mix2 * mdVSFramePrev.ib_r;\n    mixedFrame.ib_g = mix * mdVSFrame.ib_g + mix2 * mdVSFramePrev.ib_g;\n    mixedFrame.ib_b = mix * mdVSFrame.ib_b + mix2 * mdVSFramePrev.ib_b;\n    mixedFrame.ib_a = mix * mdVSFrame.ib_a + mix2 * mdVSFramePrev.ib_a;\n    mixedFrame.mv_x = mix * mdVSFrame.mv_x + mix2 * mdVSFramePrev.mv_x;\n    mixedFrame.mv_y = mix * mdVSFrame.mv_y + mix2 * mdVSFramePrev.mv_y;\n    mixedFrame.mv_dx = mix * mdVSFrame.mv_dx + mix2 * mdVSFramePrev.mv_dx;\n    mixedFrame.mv_dy = mix * mdVSFrame.mv_dy + mix2 * mdVSFramePrev.mv_dy;\n    mixedFrame.mv_l = mix * mdVSFrame.mv_l + mix2 * mdVSFramePrev.mv_l;\n    mixedFrame.mv_r = mix * mdVSFrame.mv_r + mix2 * mdVSFramePrev.mv_r;\n    mixedFrame.mv_g = mix * mdVSFrame.mv_g + mix2 * mdVSFramePrev.mv_g;\n    mixedFrame.mv_b = mix * mdVSFrame.mv_b + mix2 * mdVSFramePrev.mv_b;\n    mixedFrame.mv_a = mix * mdVSFrame.mv_a + mix2 * mdVSFramePrev.mv_a;\n    mixedFrame.echo_zoom =\n      mix * mdVSFrame.echo_zoom + mix2 * mdVSFramePrev.echo_zoom;\n    mixedFrame.echo_alpha =\n      mix * mdVSFrame.echo_alpha + mix2 * mdVSFramePrev.echo_alpha;\n    mixedFrame.echo_orient =\n      mix * mdVSFrame.echo_orient + mix2 * mdVSFramePrev.echo_orient;\n    mixedFrame.wave_dots =\n      mix < snapPoint ? mdVSFramePrev.wave_dots : mdVSFrame.wave_dots;\n    mixedFrame.wave_thick =\n      mix < snapPoint ? mdVSFramePrev.wave_thick : mdVSFrame.wave_thick;\n    mixedFrame.additivewave =\n      mix < snapPoint ? mdVSFramePrev.additivewave : mdVSFrame.additivewave;\n    mixedFrame.wave_brighten =\n      mix < snapPoint ? mdVSFramePrev.wave_brighten : mdVSFrame.wave_brighten;\n    mixedFrame.darken_center =\n      mix < snapPoint ? mdVSFramePrev.darken_center : mdVSFrame.darken_center;\n    mixedFrame.gammaadj =\n      mix < snapPoint ? mdVSFramePrev.gammaadj : mdVSFrame.gammaadj;\n    mixedFrame.wrap = mix < snapPoint ? mdVSFramePrev.wrap : mdVSFrame.wrap;\n    mixedFrame.invert =\n      mix < snapPoint ? mdVSFramePrev.invert : mdVSFrame.invert;\n    mixedFrame.brighten =\n      mix < snapPoint ? mdVSFramePrev.brighten : mdVSFrame.brighten;\n    mixedFrame.darken =\n      mix < snapPoint ? mdVSFramePrev.darken : mdVSFrame.darken;\n    mixedFrame.solarize =\n      mix < snapPoint ? mdVSFramePrev.brighten : mdVSFrame.solarize;\n    mixedFrame.b1n = mix * mdVSFrame.b1n + mix2 * mdVSFramePrev.b1n;\n    mixedFrame.b2n = mix * mdVSFrame.b2n + mix2 * mdVSFramePrev.b2n;\n    mixedFrame.b3n = mix * mdVSFrame.b3n + mix2 * mdVSFramePrev.b3n;\n    mixedFrame.b1x = mix * mdVSFrame.b1x + mix2 * mdVSFramePrev.b1x;\n    mixedFrame.b2x = mix * mdVSFrame.b2x + mix2 * mdVSFramePrev.b2x;\n    mixedFrame.b3x = mix * mdVSFrame.b3x + mix2 * mdVSFramePrev.b3x;\n    mixedFrame.b1ed = mix * mdVSFrame.b1ed + mix2 * mdVSFramePrev.b1ed;\n\n    return mixedFrame;\n  }\n\n  static getBlurValues(mdVSFrame) {\n    let blurMin1 = mdVSFrame.b1n;\n    let blurMin2 = mdVSFrame.b2n;\n    let blurMin3 = mdVSFrame.b3n;\n    let blurMax1 = mdVSFrame.b1x;\n    let blurMax2 = mdVSFrame.b2x;\n    let blurMax3 = mdVSFrame.b3x;\n\n    const fMinDist = 0.1;\n    if (blurMax1 - blurMin1 < fMinDist) {\n      const avg = (blurMin1 + blurMax1) * 0.5;\n      blurMin1 = avg - fMinDist * 0.5;\n      blurMax1 = avg - fMinDist * 0.5;\n    }\n    blurMax2 = Math.min(blurMax1, blurMax2);\n    blurMin2 = Math.max(blurMin1, blurMin2);\n    if (blurMax2 - blurMin2 < fMinDist) {\n      const avg = (blurMin2 + blurMax2) * 0.5;\n      blurMin2 = avg - fMinDist * 0.5;\n      blurMax2 = avg - fMinDist * 0.5;\n    }\n    blurMax3 = Math.min(blurMax2, blurMax3);\n    blurMin3 = Math.max(blurMin2, blurMin3);\n    if (blurMax3 - blurMin3 < fMinDist) {\n      const avg = (blurMin3 + blurMax3) * 0.5;\n      blurMin3 = avg - fMinDist * 0.5;\n      blurMax3 = avg - fMinDist * 0.5;\n    }\n\n    return {\n      blurMins: [blurMin1, blurMin2, blurMin3],\n      blurMaxs: [blurMax1, blurMax2, blurMax3],\n    };\n  }\n\n  bindFrambufferAndSetViewport(fb, width, height) {\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fb);\n    this.gl.viewport(0, 0, width, height);\n  }\n\n  bindFrameBufferTexture(targetFrameBuffer, targetTexture) {\n    this.gl.bindTexture(this.gl.TEXTURE_2D, targetTexture);\n\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texImage2D(\n      this.gl.TEXTURE_2D,\n      0,\n      this.gl.RGBA,\n      this.texsizeX,\n      this.texsizeY,\n      0,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      new Uint8Array(this.texsizeX * this.texsizeY * 4)\n    );\n\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.CLAMP_TO_EDGE\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.CLAMP_TO_EDGE\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MIN_FILTER,\n      this.gl.LINEAR_MIPMAP_LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MAG_FILTER,\n      this.gl.LINEAR\n    );\n    if (this.anisoExt) {\n      const max = this.gl.getParameter(\n        this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT\n      );\n      this.gl.texParameterf(\n        this.gl.TEXTURE_2D,\n        this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,\n        max\n      );\n    }\n\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, targetFrameBuffer);\n    this.gl.framebufferTexture2D(\n      this.gl.FRAMEBUFFER,\n      this.gl.COLOR_ATTACHMENT0,\n      this.gl.TEXTURE_2D,\n      targetTexture,\n      0\n    );\n  }\n\n  render({ audioLevels, elapsedTime } = {}) {\n    this.calcTimeAndFPS(elapsedTime);\n    this.frameNum += 1;\n\n    if (audioLevels) {\n      this.audio.updateAudio(\n        audioLevels.timeByteArray,\n        audioLevels.timeByteArrayL,\n        audioLevels.timeByteArrayR\n      );\n    } else {\n      this.audio.sampleAudio();\n    }\n    this.audioLevels.updateAudioLevels(this.fps, this.frameNum);\n\n    const globalVars = {\n      frame: this.frameNum,\n      time: this.time,\n      fps: this.fps,\n      bass: this.audioLevels.bass,\n      bass_att: this.audioLevels.bass_att,\n      mid: this.audioLevels.mid,\n      mid_att: this.audioLevels.mid_att,\n      treb: this.audioLevels.treb,\n      treb_att: this.audioLevels.treb_att,\n      meshx: this.mesh_width,\n      meshy: this.mesh_height,\n      aspectx: this.invAspectx,\n      aspecty: this.invAspecty,\n      pixelsx: this.texsizeX,\n      pixelsy: this.texsizeY,\n    };\n\n    const prevGlobalVars = Object.assign({}, globalVars);\n    if (!this.prevPreset.useWASM) {\n      prevGlobalVars.gmegabuf = this.prevPresetEquationRunner.gmegabuf;\n    }\n\n    if (!this.preset.useWASM) {\n      globalVars.gmegabuf = this.presetEquationRunner.gmegabuf;\n      Object.assign(globalVars, this.regVars);\n    }\n\n    const mdVSFrame = this.presetEquationRunner.runFrameEquations(globalVars);\n\n    this.runPixelEquations(\n      this.presetEquationRunner,\n      mdVSFrame,\n      globalVars,\n      false\n    );\n\n    if (!this.preset.useWASM) {\n      Object.assign(this.regVars, Utils.pick(this.mdVSVertex, this.regs));\n      Object.assign(globalVars, this.regVars);\n    }\n\n    let mdVSFrameMixed;\n    if (this.blending) {\n      this.prevMDVSFrame = this.prevPresetEquationRunner.runFrameEquations(\n        prevGlobalVars\n      );\n      this.runPixelEquations(\n        this.prevPresetEquationRunner,\n        this.prevMDVSFrame,\n        prevGlobalVars,\n        true\n      );\n\n      mdVSFrameMixed = Renderer.mixFrameEquations(\n        this.blendProgress,\n        mdVSFrame,\n        this.prevMDVSFrame\n      );\n    } else {\n      mdVSFrameMixed = mdVSFrame;\n    }\n\n    const swapTexture = this.targetTexture;\n    this.targetTexture = this.prevTexture;\n    this.prevTexture = swapTexture;\n\n    const swapFrameBuffer = this.targetFrameBuffer;\n    this.targetFrameBuffer = this.prevFrameBuffer;\n    this.prevFrameBuffer = swapFrameBuffer;\n\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.prevTexture);\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.bindFrambufferAndSetViewport(\n      this.targetFrameBuffer,\n      this.texsizeX,\n      this.texsizeY\n    );\n\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    this.gl.enable(this.gl.BLEND);\n    this.gl.blendEquation(this.gl.FUNC_ADD);\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    const { blurMins, blurMaxs } = Renderer.getBlurValues(mdVSFrameMixed);\n\n    if (!this.blending) {\n      this.warpShader.renderQuadTexture(\n        false,\n        this.prevTexture,\n        this.blurTexture1,\n        this.blurTexture2,\n        this.blurTexture3,\n        blurMins,\n        blurMaxs,\n        mdVSFrame,\n        this.presetEquationRunner.mdVSQAfterFrame,\n        this.warpUVs,\n        this.warpColor\n      );\n    } else {\n      this.prevWarpShader.renderQuadTexture(\n        false,\n        this.prevTexture,\n        this.blurTexture1,\n        this.blurTexture2,\n        this.blurTexture3,\n        blurMins,\n        blurMaxs,\n        this.prevMDVSFrame,\n        this.prevPresetEquationRunner.mdVSQAfterFrame,\n        this.warpUVs,\n        this.warpColor\n      );\n\n      this.warpShader.renderQuadTexture(\n        true,\n        this.prevTexture,\n        this.blurTexture1,\n        this.blurTexture2,\n        this.blurTexture3,\n        blurMins,\n        blurMaxs,\n        mdVSFrameMixed,\n        this.presetEquationRunner.mdVSQAfterFrame,\n        this.warpUVs,\n        this.warpColor\n      );\n    }\n\n    if (this.numBlurPasses > 0) {\n      this.blurShader1.renderBlurTexture(\n        this.targetTexture,\n        mdVSFrame,\n        blurMins,\n        blurMaxs\n      );\n\n      if (this.numBlurPasses > 1) {\n        this.blurShader2.renderBlurTexture(\n          this.blurTexture1,\n          mdVSFrame,\n          blurMins,\n          blurMaxs\n        );\n\n        if (this.numBlurPasses > 2) {\n          this.blurShader3.renderBlurTexture(\n            this.blurTexture2,\n            mdVSFrame,\n            blurMins,\n            blurMaxs\n          );\n        }\n      }\n\n      // rebind target texture framebuffer\n      this.bindFrambufferAndSetViewport(\n        this.targetFrameBuffer,\n        this.texsizeX,\n        this.texsizeY\n      );\n    }\n\n    this.motionVectors.drawMotionVectors(mdVSFrameMixed, this.warpUVs);\n\n    if (this.preset.shapes && this.preset.shapes.length > 0) {\n      this.customShapes.forEach((shape, i) => {\n        shape.drawCustomShape(\n          this.blending ? this.blendProgress : 1,\n          globalVars,\n          this.presetEquationRunner,\n          this.preset.shapes[i],\n          this.prevTexture\n        );\n      });\n    }\n\n    if (this.preset.waves && this.preset.waves.length > 0) {\n      this.customWaveforms.forEach((waveform, i) => {\n        waveform.drawCustomWaveform(\n          this.blending ? this.blendProgress : 1,\n          this.audio.timeArrayL,\n          this.audio.timeArrayR,\n          this.audio.freqArrayL,\n          this.audio.freqArrayR,\n          globalVars,\n          this.presetEquationRunner,\n          this.preset.waves[i]\n        );\n      });\n    }\n\n    if (this.blending) {\n      if (this.prevPreset.shapes && this.prevPreset.shapes.length > 0) {\n        this.prevCustomShapes.forEach((shape, i) => {\n          shape.drawCustomShape(\n            1.0 - this.blendProgress,\n            prevGlobalVars,\n            this.prevPresetEquationRunner,\n            this.prevPreset.shapes[i],\n            this.prevTexture\n          );\n        });\n      }\n\n      if (this.prevPreset.waves && this.prevPreset.waves.length > 0) {\n        this.prevCustomWaveforms.forEach((waveform, i) => {\n          waveform.drawCustomWaveform(\n            1.0 - this.blendProgress,\n            this.audio.timeArrayL,\n            this.audio.timeArrayR,\n            this.audio.freqArrayL,\n            this.audio.freqArrayR,\n            prevGlobalVars,\n            this.prevPresetEquationRunner,\n            this.prevPreset.waves[i]\n          );\n        });\n      }\n    }\n\n    this.basicWaveform.drawBasicWaveform(\n      this.blending,\n      this.blendProgress,\n      this.audio.timeArrayL,\n      this.audio.timeArrayR,\n      mdVSFrameMixed\n    );\n\n    this.darkenCenter.drawDarkenCenter(mdVSFrameMixed);\n\n    const outerColor = [\n      mdVSFrameMixed.ob_r,\n      mdVSFrameMixed.ob_g,\n      mdVSFrameMixed.ob_b,\n      mdVSFrameMixed.ob_a,\n    ];\n    this.outerBorder.drawBorder(outerColor, mdVSFrameMixed.ob_size, 0);\n\n    const innerColor = [\n      mdVSFrameMixed.ib_r,\n      mdVSFrameMixed.ib_g,\n      mdVSFrameMixed.ib_b,\n      mdVSFrameMixed.ib_a,\n    ];\n    this.innerBorder.drawBorder(\n      innerColor,\n      mdVSFrameMixed.ib_size,\n      mdVSFrameMixed.ob_size\n    );\n\n    if (this.supertext.startTime >= 0) {\n      const progress =\n        (this.time - this.supertext.startTime) / this.supertext.duration;\n      if (progress >= 1) {\n        this.titleText.renderTitle(progress, true, globalVars);\n      }\n    }\n\n    // Store variables in case we need to rerender\n    this.globalVars = globalVars;\n    this.mdVSFrame = mdVSFrame;\n    this.mdVSFrameMixed = mdVSFrameMixed;\n\n    this.renderToScreen();\n  }\n\n  renderToScreen() {\n    if (this.outputFXAA) {\n      this.bindFrambufferAndSetViewport(\n        this.compFrameBuffer,\n        this.texsizeX,\n        this.texsizeY\n      );\n    } else {\n      this.bindFrambufferAndSetViewport(null, this.width, this.height);\n    }\n\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    this.gl.enable(this.gl.BLEND);\n    this.gl.blendEquation(this.gl.FUNC_ADD);\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    const { blurMins, blurMaxs } = Renderer.getBlurValues(this.mdVSFrameMixed);\n\n    if (!this.blending) {\n      this.compShader.renderQuadTexture(\n        false,\n        this.targetTexture,\n        this.blurTexture1,\n        this.blurTexture2,\n        this.blurTexture3,\n        blurMins,\n        blurMaxs,\n        this.mdVSFrame,\n        this.presetEquationRunner.mdVSQAfterFrame,\n        this.warpColor\n      );\n    } else {\n      this.prevCompShader.renderQuadTexture(\n        false,\n        this.targetTexture,\n        this.blurTexture1,\n        this.blurTexture2,\n        this.blurTexture3,\n        blurMins,\n        blurMaxs,\n        this.prevMDVSFrame,\n        this.prevPresetEquationRunner.mdVSQAfterFrame,\n        this.warpColor\n      );\n\n      this.compShader.renderQuadTexture(\n        true,\n        this.targetTexture,\n        this.blurTexture1,\n        this.blurTexture2,\n        this.blurTexture3,\n        blurMins,\n        blurMaxs,\n        this.mdVSFrameMixed,\n        this.presetEquationRunner.mdVSQAfterFrame,\n        this.warpColor\n      );\n    }\n\n    if (this.supertext.startTime >= 0) {\n      const progress =\n        (this.time - this.supertext.startTime) / this.supertext.duration;\n      this.titleText.renderTitle(progress, false, this.globalVars);\n\n      if (progress >= 1) {\n        this.supertext.startTime = -1;\n      }\n    }\n\n    if (this.outputFXAA) {\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.compTexture);\n      this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n      this.bindFrambufferAndSetViewport(null, this.width, this.height);\n      this.outputShader.renderQuadTexture(this.compTexture);\n    }\n  }\n\n  launchSongTitleAnim(text) {\n    this.supertext = {\n      startTime: this.time,\n      duration: 1.7,\n    };\n    this.titleText.generateTitleTexture(text);\n  }\n\n  toDataURL() {\n    const data = new Uint8Array(this.texsizeX * this.texsizeY * 4);\n\n    const compFrameBuffer = this.gl.createFramebuffer();\n    const compTexture = this.gl.createTexture();\n\n    this.bindFrameBufferTexture(compFrameBuffer, compTexture);\n\n    const { blurMins, blurMaxs } = Renderer.getBlurValues(this.mdVSFrameMixed);\n    this.compShader.renderQuadTexture(\n      false,\n      this.targetTexture,\n      this.blurTexture1,\n      this.blurTexture2,\n      this.blurTexture3,\n      blurMins,\n      blurMaxs,\n      this.mdVSFrame,\n      this.presetEquationRunner.mdVSQAfterFrame,\n      this.warpColor\n    );\n\n    this.gl.readPixels(\n      0,\n      0,\n      this.texsizeX,\n      this.texsizeY,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      data\n    );\n\n    // flip data\n    Array.from({ length: this.texsizeY }, (val, i) =>\n      data.slice(i * this.texsizeX * 4, (i + 1) * this.texsizeX * 4)\n    ).forEach((val, i) =>\n      data.set(val, (this.texsizeY - i - 1) * this.texsizeX * 4)\n    );\n\n    const canvas = this.createCanvas(this.texsizeX, this.texsizeY);\n\n    const context = canvas.getContext(\"2d\");\n    const imageData = context.createImageData(this.texsizeX, this.texsizeY);\n    imageData.data.set(data);\n    context.putImageData(imageData, 0, 0);\n\n    this.gl.deleteTexture(compTexture);\n    this.gl.deleteFramebuffer(compFrameBuffer);\n\n    return canvas.toDataURL();\n  }\n\n  warpBufferToDataURL() {\n    const data = new Uint8Array(this.texsizeX * this.texsizeY * 4);\n\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.targetFrameBuffer);\n    this.gl.readPixels(\n      0,\n      0,\n      this.texsizeX,\n      this.texsizeY,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      data\n    );\n\n    const canvas = this.createCanvas(this.texsizeX, this.texsizeY);\n\n    const context = canvas.getContext(\"2d\");\n    const imageData = context.createImageData(this.texsizeX, this.texsizeY);\n    imageData.data.set(data);\n    context.putImageData(imageData, 0, 0);\n\n    return canvas.toDataURL();\n  }\n}\n","import BlurVertical from \"./blurVertical\";\nimport BlurHorizontal from \"./blurHorizontal\";\n\nexport default class BlurShader {\n  constructor(blurLevel, blurRatios, gl, opts = {}) {\n    this.blurLevel = blurLevel;\n    this.blurRatios = blurRatios;\n    this.gl = gl;\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n\n    this.anisoExt =\n      this.gl.getExtension(\"EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") ||\n      this.gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\n\n    this.blurHorizontalFrameBuffer = this.gl.createFramebuffer();\n    this.blurVerticalFrameBuffer = this.gl.createFramebuffer();\n\n    this.blurHorizontalTexture = this.gl.createTexture();\n    this.blurVerticalTexture = this.gl.createTexture();\n\n    this.setupFrameBufferTextures();\n\n    this.blurHorizontal = new BlurHorizontal(gl, this.blurLevel, opts);\n    this.blurVertical = new BlurVertical(gl, this.blurLevel, opts);\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n\n    this.setupFrameBufferTextures();\n  }\n\n  getTextureSize(sizeRatio) {\n    let sizeX = Math.max(this.texsizeX * sizeRatio, 16);\n    sizeX = Math.floor((sizeX + 3) / 16) * 16;\n    let sizeY = Math.max(this.texsizeY * sizeRatio, 16);\n    sizeY = Math.floor((sizeY + 3) / 4) * 4;\n    return [sizeX, sizeY];\n  }\n\n  setupFrameBufferTextures() {\n    const srcBlurRatios =\n      this.blurLevel > 0 ? this.blurRatios[this.blurLevel - 1] : [1, 1];\n    const dstBlurRatios = this.blurRatios[this.blurLevel];\n    const srcTexsizeHorizontal = this.getTextureSize(srcBlurRatios[1]);\n    const dstTexsizeHorizontal = this.getTextureSize(dstBlurRatios[0]);\n    this.bindFrameBufferTexture(\n      this.blurHorizontalFrameBuffer,\n      this.blurHorizontalTexture,\n      dstTexsizeHorizontal\n    );\n\n    const srcTexsizeVertical = dstTexsizeHorizontal;\n    const dstTexsizeVertical = this.getTextureSize(dstBlurRatios[1]);\n    this.bindFrameBufferTexture(\n      this.blurVerticalFrameBuffer,\n      this.blurVerticalTexture,\n      dstTexsizeVertical\n    );\n\n    this.horizontalTexsizes = [srcTexsizeHorizontal, dstTexsizeHorizontal];\n    this.verticalTexsizes = [srcTexsizeVertical, dstTexsizeVertical];\n  }\n\n  bindFrambufferAndSetViewport(fb, texsize) {\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fb);\n    this.gl.viewport(0, 0, texsize[0], texsize[1]);\n  }\n\n  bindFrameBufferTexture(targetFrameBuffer, targetTexture, texsize) {\n    this.gl.bindTexture(this.gl.TEXTURE_2D, targetTexture);\n\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texImage2D(\n      this.gl.TEXTURE_2D,\n      0,\n      this.gl.RGBA,\n      texsize[0],\n      texsize[1],\n      0,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      new Uint8Array(texsize[0] * texsize[1] * 4)\n    );\n\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.CLAMP_TO_EDGE\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.CLAMP_TO_EDGE\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MIN_FILTER,\n      this.gl.LINEAR_MIPMAP_LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MAG_FILTER,\n      this.gl.LINEAR\n    );\n    if (this.anisoExt) {\n      const max = this.gl.getParameter(\n        this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT\n      );\n      this.gl.texParameterf(\n        this.gl.TEXTURE_2D,\n        this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT,\n        max\n      );\n    }\n\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, targetFrameBuffer);\n    this.gl.framebufferTexture2D(\n      this.gl.FRAMEBUFFER,\n      this.gl.COLOR_ATTACHMENT0,\n      this.gl.TEXTURE_2D,\n      targetTexture,\n      0\n    );\n  }\n\n  renderBlurTexture(prevTexture, mdVSFrame, blurMins, blurMaxs) {\n    this.bindFrambufferAndSetViewport(\n      this.blurHorizontalFrameBuffer,\n      this.horizontalTexsizes[1]\n    );\n    this.blurHorizontal.renderQuadTexture(\n      prevTexture,\n      mdVSFrame,\n      blurMins,\n      blurMaxs,\n      this.horizontalTexsizes[0]\n    );\n\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.blurHorizontalTexture);\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.bindFrambufferAndSetViewport(\n      this.blurVerticalFrameBuffer,\n      this.verticalTexsizes[1]\n    );\n    this.blurVertical.renderQuadTexture(\n      this.blurHorizontalTexture,\n      mdVSFrame,\n      this.verticalTexsizes[0]\n    );\n\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.blurVerticalTexture);\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n  }\n}\n","import ShaderUtils from \"../shaderUtils\";\n\nexport default class BlurHorizontal {\n  constructor(gl, blurLevel) {\n    this.gl = gl;\n    this.blurLevel = blurLevel;\n\n    const w = [4.0, 3.8, 3.5, 2.9, 1.9, 1.2, 0.7, 0.3];\n    const w1H = w[0] + w[1];\n    const w2H = w[2] + w[3];\n    const w3H = w[4] + w[5];\n    const w4H = w[6] + w[7];\n    const d1H = 0 + (2 * w[1]) / w1H;\n    const d2H = 2 + (2 * w[3]) / w2H;\n    const d3H = 4 + (2 * w[5]) / w3H;\n    const d4H = 6 + (2 * w[7]) / w4H;\n\n    this.ws = new Float32Array([w1H, w2H, w3H, w4H]);\n    this.ds = new Float32Array([d1H, d2H, d3H, d4H]);\n    this.wDiv = 0.5 / (w1H + w2H + w3H + w4H);\n\n    this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);\n\n    this.vertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      out vec2 uv;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv = aPos * halfmad + halfmad;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float scale;\n       uniform float bias;\n       uniform vec4 ws;\n       uniform vec4 ds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = ws[0];\n         float w2 = ws[1];\n         float w3 = ws[2];\n         float w4 = ws[3];\n         float d1 = ds[0];\n         float d2 = ds[1];\n         float d3 = ds[2];\n         float d4 = ds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2( d1 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d1 * texsize.z,0.0) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2( d2 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d2 * texsize.z,0.0) ).xyz) * w2 +\n           ( texture(uTexture, uv2 + vec2( d3 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d3 * texsize.z,0.0) ).xyz) * w3 +\n           ( texture(uTexture, uv2 + vec2( d4 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d4 * texsize.z,0.0) ).xyz) * w4;\n\n         blur.xyz *= wdiv;\n         blur.xyz = blur.xyz * scale + bias;\n\n         fragColor = vec4(blur, 1.0);\n       }`\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n    this.texsizeLocation = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize\"\n    );\n    this.scaleLoc = this.gl.getUniformLocation(this.shaderProgram, \"scale\");\n    this.biasLoc = this.gl.getUniformLocation(this.shaderProgram, \"bias\");\n    this.wsLoc = this.gl.getUniformLocation(this.shaderProgram, \"ws\");\n    this.dsLocation = this.gl.getUniformLocation(this.shaderProgram, \"ds\");\n    this.wdivLoc = this.gl.getUniformLocation(this.shaderProgram, \"wdiv\");\n  }\n\n  getScaleAndBias(blurMins, blurMaxs) {\n    const scale = [1, 1, 1];\n    const bias = [0, 0, 0];\n\n    let tempMin;\n    let tempMax;\n    scale[0] = 1.0 / (blurMaxs[0] - blurMins[0]);\n    bias[0] = -blurMins[0] * scale[0];\n    tempMin = (blurMins[1] - blurMins[0]) / (blurMaxs[0] - blurMins[0]);\n    tempMax = (blurMaxs[1] - blurMins[0]) / (blurMaxs[0] - blurMins[0]);\n    scale[1] = 1.0 / (tempMax - tempMin);\n    bias[1] = -tempMin * scale[1];\n    tempMin = (blurMins[2] - blurMins[1]) / (blurMaxs[1] - blurMins[1]);\n    tempMax = (blurMaxs[2] - blurMins[1]) / (blurMaxs[1] - blurMins[1]);\n    scale[2] = 1.0 / (tempMax - tempMin);\n    bias[2] = -tempMin * scale[2];\n\n    return {\n      scale: scale[this.blurLevel],\n      bias: bias[this.blurLevel],\n    };\n  }\n\n  renderQuadTexture(texture, mdVSFrame, blurMins, blurMaxs, srcTexsize) {\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.positions,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    const { scale, bias } = this.getScaleAndBias(blurMins, blurMaxs);\n\n    this.gl.uniform4fv(this.texsizeLocation, [\n      srcTexsize[0],\n      srcTexsize[1],\n      1.0 / srcTexsize[0],\n      1.0 / srcTexsize[1],\n    ]);\n    this.gl.uniform1f(this.scaleLoc, scale);\n    this.gl.uniform1f(this.biasLoc, bias);\n    this.gl.uniform4fv(this.wsLoc, this.ws);\n    this.gl.uniform4fv(this.dsLocation, this.ds);\n    this.gl.uniform1f(this.wdivLoc, this.wDiv);\n\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n  }\n}\n","import ShaderUtils from \"../shaderUtils\";\n\nexport default class BlurVertical {\n  constructor(gl, blurLevel) {\n    this.gl = gl;\n    this.blurLevel = blurLevel;\n\n    const w = [4.0, 3.8, 3.5, 2.9, 1.9, 1.2, 0.7, 0.3];\n    const w1V = w[0] + w[1] + w[2] + w[3];\n    const w2V = w[4] + w[5] + w[6] + w[7];\n    const d1V = 0 + 2 * ((w[2] + w[3]) / w1V);\n    const d2V = 2 + 2 * ((w[6] + w[7]) / w2V);\n\n    this.wds = new Float32Array([w1V, w2V, d1V, d2V]);\n    this.wDiv = 1.0 / ((w1V + w2V) * 2);\n\n    this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);\n\n    this.vertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      out vec2 uv;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv = aPos * halfmad + halfmad;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float ed1;\n       uniform float ed2;\n       uniform float ed3;\n       uniform vec4 wds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = wds[0];\n         float w2 = wds[1];\n         float d1 = wds[2];\n         float d2 = wds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2(0.0, d1 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d1 * texsize.w) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2(0.0, d2 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d2 * texsize.w) ).xyz) * w2;\n\n         blur.xyz *= wdiv;\n\n         float t = min(min(uv.x, uv.y), 1.0 - max(uv.x, uv.y));\n         t = sqrt(t);\n         t = ed1 + ed2 * clamp(t * ed3, 0.0, 1.0);\n         blur.xyz *= t;\n\n         fragColor = vec4(blur, 1.0);\n       }`\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n    this.texsizeLocation = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize\"\n    );\n    this.ed1Loc = this.gl.getUniformLocation(this.shaderProgram, \"ed1\");\n    this.ed2Loc = this.gl.getUniformLocation(this.shaderProgram, \"ed2\");\n    this.ed3Loc = this.gl.getUniformLocation(this.shaderProgram, \"ed3\");\n    this.wdsLocation = this.gl.getUniformLocation(this.shaderProgram, \"wds\");\n    this.wdivLoc = this.gl.getUniformLocation(this.shaderProgram, \"wdiv\");\n  }\n\n  renderQuadTexture(texture, mdVSFrame, srcTexsize) {\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.positions,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    const b1ed = this.blurLevel === 0 ? mdVSFrame.b1ed : 0.0;\n\n    this.gl.uniform4fv(this.texsizeLocation, [\n      srcTexsize[0],\n      srcTexsize[1],\n      1.0 / srcTexsize[0],\n      1.0 / srcTexsize[1],\n    ]);\n    this.gl.uniform1f(this.ed1Loc, 1.0 - b1ed);\n    this.gl.uniform1f(this.ed2Loc, b1ed);\n    this.gl.uniform1f(this.ed3Loc, 5.0);\n    this.gl.uniform4fv(this.wdsLocation, this.wds);\n    this.gl.uniform1f(this.wdivLoc, this.wDiv);\n\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n  }\n}\n","import ShaderUtils from \"./shaderUtils\";\n\nexport default class CompShader {\n  constructor(gl, noise, image, opts = {}) {\n    this.gl = gl;\n    this.noise = noise;\n    this.image = image;\n\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.compWidth = 32;\n    this.compHeight = 24;\n\n    this.buildPositions();\n\n    this.indexBuf = gl.createBuffer();\n    this.positionVertexBuf = this.gl.createBuffer();\n    this.compColorVertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n\n    this.mainSampler = this.gl.createSampler();\n    this.mainSamplerFW = this.gl.createSampler();\n    this.mainSamplerFC = this.gl.createSampler();\n    this.mainSamplerPW = this.gl.createSampler();\n    this.mainSamplerPC = this.gl.createSampler();\n\n    gl.samplerParameteri(\n      this.mainSampler,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    gl.samplerParameteri(\n      this.mainSamplerFW,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    gl.samplerParameteri(\n      this.mainSamplerFC,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(\n      this.mainSamplerFC,\n      gl.TEXTURE_WRAP_S,\n      gl.CLAMP_TO_EDGE\n    );\n    gl.samplerParameteri(\n      this.mainSamplerFC,\n      gl.TEXTURE_WRAP_T,\n      gl.CLAMP_TO_EDGE\n    );\n\n    gl.samplerParameteri(\n      this.mainSamplerPW,\n      gl.TEXTURE_MIN_FILTER,\n      gl.NEAREST_MIPMAP_NEAREST\n    );\n    gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    gl.samplerParameteri(\n      this.mainSamplerPC,\n      gl.TEXTURE_MIN_FILTER,\n      gl.NEAREST_MIPMAP_NEAREST\n    );\n    gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.samplerParameteri(\n      this.mainSamplerPC,\n      gl.TEXTURE_WRAP_S,\n      gl.CLAMP_TO_EDGE\n    );\n    gl.samplerParameteri(\n      this.mainSamplerPC,\n      gl.TEXTURE_WRAP_T,\n      gl.CLAMP_TO_EDGE\n    );\n  }\n\n  // based on https://github.com/mrdoob/three.js/blob/master/src/geometries/PlaneGeometry.js\n  buildPositions() {\n    const width = 2;\n    const height = 2;\n\n    const widthHalf = width / 2;\n    const heightHalf = height / 2;\n\n    const gridX = this.compWidth;\n    const gridY = this.compHeight;\n\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n\n    const segmentWidth = width / gridX;\n    const segmentHeight = height / gridY;\n\n    const vertices = [];\n    for (let iy = 0; iy < gridY1; iy++) {\n      const y = iy * segmentHeight - heightHalf;\n      for (let ix = 0; ix < gridX1; ix++) {\n        const x = ix * segmentWidth - widthHalf;\n\n        vertices.push(x, -y, 0);\n      }\n    }\n\n    const indices = [];\n    for (let iy = 0; iy < gridY; iy++) {\n      for (let ix = 0; ix < gridX; ix++) {\n        const a = ix + gridX1 * iy;\n        const b = ix + gridX1 * (iy + 1);\n        const c = ix + 1 + gridX1 * (iy + 1);\n        const d = ix + 1 + gridX1 * iy;\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    this.vertices = new Float32Array(vertices);\n    this.indices = new Uint16Array(indices);\n  }\n\n  updateGlobals(opts) {\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.buildPositions();\n  }\n\n  createShader(shaderText = \"\") {\n    let fragShaderText;\n    let fragShaderHeaderText;\n    if (shaderText.length === 0) {\n      fragShaderText = `float orient_horiz = mod(echo_orientation, 2.0);\n                        float orient_x = (orient_horiz != 0.0) ? -1.0 : 1.0;\n                        float orient_y = (echo_orientation >= 2.0) ? -1.0 : 1.0;\n                        vec2 uv_echo = ((uv - 0.5) *\n                                        (1.0 / echo_zoom) *\n                                        vec2(orient_x, orient_y)) + 0.5;\n\n                        ret = mix(texture(sampler_main, uv).rgb,\n                                  texture(sampler_main, uv_echo).rgb,\n                                  echo_alpha);\n\n                        ret *= gammaAdj;\n\n                        if(fShader >= 1.0) {\n                          ret *= hue_shader;\n                        } else if(fShader > 0.001) {\n                          ret *= (1.0 - fShader) + (fShader * hue_shader);\n                        }\n\n                        if(brighten != 0) ret = sqrt(ret);\n                        if(darken != 0) ret = ret*ret;\n                        if(solarize != 0) ret = ret * (1.0 - ret) * 4.0;\n                        if(invert != 0) ret = 1.0 - ret;`;\n      fragShaderHeaderText = \"\";\n    } else {\n      const shaderParts = ShaderUtils.getShaderParts(shaderText);\n      fragShaderHeaderText = shaderParts[0];\n      fragShaderText = shaderParts[1];\n    }\n\n    fragShaderText = fragShaderText.replace(/texture2D/g, \"texture\");\n    fragShaderText = fragShaderText.replace(/texture3D/g, \"texture\");\n\n    this.userTextures = ShaderUtils.getUserSamplers(fragShaderHeaderText);\n\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      in vec4 aCompColor;\n      out vec2 vUv;\n      out vec4 vColor;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        vUv = aPos * halfmad + halfmad;\n        vColor = aCompColor;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      precision mediump sampler3D;\n\n      vec3 lum(vec3 v){\n          return vec3(dot(v, vec3(0.32,0.49,0.29)));\n      }\n\n      in vec2 vUv;\n      in vec4 vColor;\n      out vec4 fragColor;\n      uniform sampler2D sampler_main;\n      uniform sampler2D sampler_fw_main;\n      uniform sampler2D sampler_fc_main;\n      uniform sampler2D sampler_pw_main;\n      uniform sampler2D sampler_pc_main;\n      uniform sampler2D sampler_blur1;\n      uniform sampler2D sampler_blur2;\n      uniform sampler2D sampler_blur3;\n      uniform sampler2D sampler_noise_lq;\n      uniform sampler2D sampler_noise_lq_lite;\n      uniform sampler2D sampler_noise_mq;\n      uniform sampler2D sampler_noise_hq;\n      uniform sampler2D sampler_pw_noise_lq;\n      uniform sampler3D sampler_noisevol_lq;\n      uniform sampler3D sampler_noisevol_hq;\n\n      uniform float time;\n      uniform float gammaAdj;\n      uniform float echo_zoom;\n      uniform float echo_alpha;\n      uniform float echo_orientation;\n      uniform int invert;\n      uniform int brighten;\n      uniform int darken;\n      uniform int solarize;\n      uniform vec2 resolution;\n      uniform vec4 aspect;\n      uniform vec4 texsize;\n      uniform vec4 texsize_noise_lq;\n      uniform vec4 texsize_noise_mq;\n      uniform vec4 texsize_noise_hq;\n      uniform vec4 texsize_noise_lq_lite;\n      uniform vec4 texsize_noisevol_lq;\n      uniform vec4 texsize_noisevol_hq;\n\n      uniform float bass;\n      uniform float mid;\n      uniform float treb;\n      uniform float vol;\n      uniform float bass_att;\n      uniform float mid_att;\n      uniform float treb_att;\n      uniform float vol_att;\n\n      uniform float frame;\n      uniform float fps;\n\n      uniform vec4 _qa;\n      uniform vec4 _qb;\n      uniform vec4 _qc;\n      uniform vec4 _qd;\n      uniform vec4 _qe;\n      uniform vec4 _qf;\n      uniform vec4 _qg;\n      uniform vec4 _qh;\n\n      #define q1 _qa.x\n      #define q2 _qa.y\n      #define q3 _qa.z\n      #define q4 _qa.w\n      #define q5 _qb.x\n      #define q6 _qb.y\n      #define q7 _qb.z\n      #define q8 _qb.w\n      #define q9 _qc.x\n      #define q10 _qc.y\n      #define q11 _qc.z\n      #define q12 _qc.w\n      #define q13 _qd.x\n      #define q14 _qd.y\n      #define q15 _qd.z\n      #define q16 _qd.w\n      #define q17 _qe.x\n      #define q18 _qe.y\n      #define q19 _qe.z\n      #define q20 _qe.w\n      #define q21 _qf.x\n      #define q22 _qf.y\n      #define q23 _qf.z\n      #define q24 _qf.w\n      #define q25 _qg.x\n      #define q26 _qg.y\n      #define q27 _qg.z\n      #define q28 _qg.w\n      #define q29 _qh.x\n      #define q30 _qh.y\n      #define q31 _qh.z\n      #define q32 _qh.w\n\n      uniform vec4 slow_roam_cos;\n      uniform vec4 roam_cos;\n      uniform vec4 slow_roam_sin;\n      uniform vec4 roam_sin;\n\n      uniform float blur1_min;\n      uniform float blur1_max;\n      uniform float blur2_min;\n      uniform float blur2_max;\n      uniform float blur3_min;\n      uniform float blur3_max;\n\n      uniform float scale1;\n      uniform float scale2;\n      uniform float scale3;\n      uniform float bias1;\n      uniform float bias2;\n      uniform float bias3;\n\n      uniform vec4 rand_frame;\n      uniform vec4 rand_preset;\n\n      uniform float fShader;\n\n      float PI = ${Math.PI};\n\n      ${fragShaderHeaderText}\n\n      void main(void) {\n        vec3 ret;\n        vec2 uv = vUv;\n        vec2 uv_orig = vUv;\n        uv.y = 1.0 - uv.y;\n        uv_orig.y = 1.0 - uv_orig.y;\n        float rad = length(uv - 0.5);\n        float ang = atan(uv.x - 0.5, uv.y - 0.5);\n        vec3 hue_shader = vColor.rgb;\n\n        ${fragShaderText}\n\n        fragColor = vec4(ret, vColor.a);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.compColorLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aCompColor\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_main\"\n    );\n    this.textureFWLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_fw_main\"\n    );\n    this.textureFCLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_fc_main\"\n    );\n    this.texturePWLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_pw_main\"\n    );\n    this.texturePCLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_pc_main\"\n    );\n    this.blurTexture1Loc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_blur1\"\n    );\n    this.blurTexture2Loc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_blur2\"\n    );\n    this.blurTexture3Loc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_blur3\"\n    );\n    this.noiseLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_lq\"\n    );\n    this.noiseMQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_mq\"\n    );\n    this.noiseHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_hq\"\n    );\n    this.noiseLQLiteLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_lq_lite\"\n    );\n    this.noisePointLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_pw_noise_lq\"\n    );\n    this.noiseVolLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noisevol_lq\"\n    );\n    this.noiseVolHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noisevol_hq\"\n    );\n    this.timeLoc = this.gl.getUniformLocation(this.shaderProgram, \"time\");\n    this.gammaAdjLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"gammaAdj\"\n    );\n    this.echoZoomLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"echo_zoom\"\n    );\n    this.echoAlphaLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"echo_alpha\"\n    );\n    this.echoOrientationLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"echo_orientation\"\n    );\n    this.invertLoc = this.gl.getUniformLocation(this.shaderProgram, \"invert\");\n    this.brightenLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"brighten\"\n    );\n    this.darkenLoc = this.gl.getUniformLocation(this.shaderProgram, \"darken\");\n    this.solarizeLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"solarize\"\n    );\n    this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, \"texsize\");\n    this.texsizeNoiseLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_lq\"\n    );\n    this.texsizeNoiseMQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_mq\"\n    );\n    this.texsizeNoiseHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_hq\"\n    );\n    this.texsizeNoiseLQLiteLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_lq_lite\"\n    );\n    this.texsizeNoiseVolLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noisevol_lq\"\n    );\n    this.texsizeNoiseVolHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noisevol_hq\"\n    );\n    this.resolutionLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"resolution\"\n    );\n    this.aspectLoc = this.gl.getUniformLocation(this.shaderProgram, \"aspect\");\n    this.bassLoc = this.gl.getUniformLocation(this.shaderProgram, \"bass\");\n    this.midLoc = this.gl.getUniformLocation(this.shaderProgram, \"mid\");\n    this.trebLoc = this.gl.getUniformLocation(this.shaderProgram, \"treb\");\n    this.volLoc = this.gl.getUniformLocation(this.shaderProgram, \"vol\");\n    this.bassAttLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"bass_att\"\n    );\n    this.midAttLoc = this.gl.getUniformLocation(this.shaderProgram, \"mid_att\");\n    this.trebAttLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"treb_att\"\n    );\n    this.volAttLoc = this.gl.getUniformLocation(this.shaderProgram, \"vol_att\");\n    this.frameLoc = this.gl.getUniformLocation(this.shaderProgram, \"frame\");\n    this.fpsLoc = this.gl.getUniformLocation(this.shaderProgram, \"fps\");\n    this.blur1MinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur1_min\"\n    );\n    this.blur1MaxLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur1_max\"\n    );\n    this.blur2MinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur2_min\"\n    );\n    this.blur2MaxLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur2_max\"\n    );\n    this.blur3MinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur3_min\"\n    );\n    this.blur3MaxLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur3_max\"\n    );\n    this.scale1Loc = this.gl.getUniformLocation(this.shaderProgram, \"scale1\");\n    this.scale2Loc = this.gl.getUniformLocation(this.shaderProgram, \"scale2\");\n    this.scale3Loc = this.gl.getUniformLocation(this.shaderProgram, \"scale3\");\n    this.bias1Loc = this.gl.getUniformLocation(this.shaderProgram, \"bias1\");\n    this.bias2Loc = this.gl.getUniformLocation(this.shaderProgram, \"bias2\");\n    this.bias3Loc = this.gl.getUniformLocation(this.shaderProgram, \"bias3\");\n    this.randPresetLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"rand_preset\"\n    );\n    this.randFrameLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"rand_frame\"\n    );\n    this.fShaderLoc = this.gl.getUniformLocation(this.shaderProgram, \"fShader\");\n\n    this.qaLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qa\");\n    this.qbLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qb\");\n    this.qcLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qc\");\n    this.qdLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qd\");\n    this.qeLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qe\");\n    this.qfLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qf\");\n    this.qgLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qg\");\n    this.qhLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qh\");\n\n    this.slowRoamCosLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"slow_roam_cos\"\n    );\n    this.roamCosLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"roam_cos\"\n    );\n    this.slowRoamSinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"slow_roam_sin\"\n    );\n    this.roamSinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"roam_sin\"\n    );\n\n    for (let i = 0; i < this.userTextures.length; i++) {\n      const userTexture = this.userTextures[i];\n      userTexture.textureLoc = this.gl.getUniformLocation(\n        this.shaderProgram,\n        `sampler_${userTexture.sampler}`\n      );\n    }\n  }\n\n  updateShader(shaderText) {\n    this.createShader(shaderText);\n  }\n\n  bindBlurVals(blurMins, blurMaxs) {\n    const blurMin1 = blurMins[0];\n    const blurMin2 = blurMins[1];\n    const blurMin3 = blurMins[2];\n    const blurMax1 = blurMaxs[0];\n    const blurMax2 = blurMaxs[1];\n    const blurMax3 = blurMaxs[2];\n\n    const scale1 = blurMax1 - blurMin1;\n    const bias1 = blurMin1;\n\n    const scale2 = blurMax2 - blurMin2;\n    const bias2 = blurMin2;\n\n    const scale3 = blurMax3 - blurMin3;\n    const bias3 = blurMin3;\n\n    this.gl.uniform1f(this.blur1MinLoc, blurMin1);\n    this.gl.uniform1f(this.blur1MaxLoc, blurMax1);\n    this.gl.uniform1f(this.blur2MinLoc, blurMin2);\n    this.gl.uniform1f(this.blur2MaxLoc, blurMax2);\n    this.gl.uniform1f(this.blur3MinLoc, blurMin3);\n    this.gl.uniform1f(this.blur3MaxLoc, blurMax3);\n    this.gl.uniform1f(this.scale1Loc, scale1);\n    this.gl.uniform1f(this.scale2Loc, scale2);\n    this.gl.uniform1f(this.scale3Loc, scale3);\n    this.gl.uniform1f(this.bias1Loc, bias1);\n    this.gl.uniform1f(this.bias2Loc, bias2);\n    this.gl.uniform1f(this.bias3Loc, bias3);\n  }\n\n  static generateHueBase(mdVSFrame) {\n    const hueBase = new Float32Array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]);\n\n    /* eslint-disable max-len */\n    for (let i = 0; i < 4; i++) {\n      hueBase[i * 3 + 0] =\n        0.6 +\n        0.3 *\n          Math.sin(\n            mdVSFrame.time * 30.0 * 0.0143 +\n              3 +\n              i * 21 +\n              mdVSFrame.rand_start[3]\n          );\n      hueBase[i * 3 + 1] =\n        0.6 +\n        0.3 *\n          Math.sin(\n            mdVSFrame.time * 30.0 * 0.0107 +\n              1 +\n              i * 13 +\n              mdVSFrame.rand_start[1]\n          );\n      hueBase[i * 3 + 2] =\n        0.6 +\n        0.3 *\n          Math.sin(\n            mdVSFrame.time * 30.0 * 0.0129 + 6 + i * 9 + mdVSFrame.rand_start[2]\n          );\n      const maxshade = Math.max(\n        hueBase[i * 3],\n        hueBase[i * 3 + 1],\n        hueBase[i * 3 + 2]\n      );\n      for (let k = 0; k < 3; k++) {\n        hueBase[i * 3 + k] = hueBase[i * 3 + k] / maxshade;\n        hueBase[i * 3 + k] = 0.5 + 0.5 * hueBase[i * 3 + k];\n      }\n    }\n    /* eslint-enable max-len */\n\n    return hueBase;\n  }\n\n  generateCompColors(blending, mdVSFrame, warpColor) {\n    const hueBase = CompShader.generateHueBase(mdVSFrame);\n    const gridX1 = this.compWidth + 1;\n    const gridY1 = this.compHeight + 1;\n    const compColor = new Float32Array(gridX1 * gridY1 * 4);\n\n    let offsetColor = 0;\n    for (let j = 0; j < gridY1; j++) {\n      for (let i = 0; i < gridX1; i++) {\n        let x = i / this.compWidth;\n        let y = j / this.compHeight;\n\n        const col = [1, 1, 1];\n        for (let c = 0; c < 3; c++) {\n          col[c] =\n            hueBase[0 + c] * x * y +\n            hueBase[3 + c] * (1 - x) * y +\n            hueBase[6 + c] * x * (1 - y) +\n            hueBase[9 + c] * (1 - x) * (1 - y);\n        }\n\n        let alpha = 1;\n        if (blending) {\n          x *= this.mesh_width + 1;\n          y *= this.mesh_height + 1;\n          x = Math.clamp(x, 0, this.mesh_width - 1);\n          y = Math.clamp(y, 0, this.mesh_height - 1);\n          const nx = Math.floor(x);\n          const ny = Math.floor(y);\n          const dx = x - nx;\n          const dy = y - ny;\n          const alpha00 = warpColor[(ny * (this.mesh_width + 1) + nx) * 4 + 3];\n          const alpha01 =\n            warpColor[(ny * (this.mesh_width + 1) + (nx + 1)) * 4 + 3];\n          const alpha10 =\n            warpColor[((ny + 1) * (this.mesh_width + 1) + nx) * 4 + 3];\n          const alpha11 =\n            warpColor[((ny + 1) * (this.mesh_width + 1) + (nx + 1)) * 4 + 3];\n          alpha =\n            alpha00 * (1 - dx) * (1 - dy) +\n            alpha01 * dx * (1 - dy) +\n            alpha10 * (1 - dx) * dy +\n            alpha11 * dx * dy;\n        }\n\n        compColor[offsetColor + 0] = col[0];\n        compColor[offsetColor + 1] = col[1];\n        compColor[offsetColor + 2] = col[2];\n        compColor[offsetColor + 3] = alpha;\n\n        offsetColor += 4;\n      }\n    }\n\n    return compColor;\n  }\n\n  renderQuadTexture(\n    blending,\n    texture,\n    blurTexture1,\n    blurTexture2,\n    blurTexture3,\n    blurMins,\n    blurMaxs,\n    mdVSFrame,\n    mdVSQs,\n    warpColor\n  ) {\n    const compColors = this.generateCompColors(blending, mdVSFrame, warpColor);\n\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf);\n    this.gl.bufferData(\n      this.gl.ELEMENT_ARRAY_BUFFER,\n      this.indices,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.vertices,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      3,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.compColorVertexBuf);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, compColors, this.gl.STATIC_DRAW);\n\n    this.gl.vertexAttribPointer(\n      this.compColorLocation,\n      4,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.compColorLocation);\n\n    const wrapping =\n      mdVSFrame.wrap !== 0 ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE;\n    this.gl.samplerParameteri(\n      this.mainSampler,\n      this.gl.TEXTURE_WRAP_S,\n      wrapping\n    );\n    this.gl.samplerParameteri(\n      this.mainSampler,\n      this.gl.TEXTURE_WRAP_T,\n      wrapping\n    );\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(0, this.mainSampler);\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    this.gl.activeTexture(this.gl.TEXTURE1);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(1, this.mainSamplerFW);\n    this.gl.uniform1i(this.textureFWLoc, 1);\n\n    this.gl.activeTexture(this.gl.TEXTURE2);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(2, this.mainSamplerFC);\n    this.gl.uniform1i(this.textureFCLoc, 2);\n\n    this.gl.activeTexture(this.gl.TEXTURE3);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(3, this.mainSamplerPW);\n    this.gl.uniform1i(this.texturePWLoc, 3);\n\n    this.gl.activeTexture(this.gl.TEXTURE4);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(4, this.mainSamplerPC);\n    this.gl.uniform1i(this.texturePCLoc, 4);\n\n    this.gl.activeTexture(this.gl.TEXTURE5);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture1);\n    this.gl.uniform1i(this.blurTexture1Loc, 5);\n\n    this.gl.activeTexture(this.gl.TEXTURE6);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture2);\n    this.gl.uniform1i(this.blurTexture2Loc, 6);\n\n    this.gl.activeTexture(this.gl.TEXTURE7);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture3);\n    this.gl.uniform1i(this.blurTexture3Loc, 7);\n\n    this.gl.activeTexture(this.gl.TEXTURE8);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);\n    this.gl.uniform1i(this.noiseLQLoc, 8);\n\n    this.gl.activeTexture(this.gl.TEXTURE9);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexMQ);\n    this.gl.uniform1i(this.noiseMQLoc, 9);\n\n    this.gl.activeTexture(this.gl.TEXTURE10);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexHQ);\n    this.gl.uniform1i(this.noiseHQLoc, 10);\n\n    this.gl.activeTexture(this.gl.TEXTURE11);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQLite);\n    this.gl.uniform1i(this.noiseLQLiteLoc, 11);\n\n    this.gl.activeTexture(this.gl.TEXTURE12);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);\n    this.gl.bindSampler(12, this.noise.noiseTexPointLQ);\n    this.gl.uniform1i(this.noisePointLQLoc, 12);\n\n    this.gl.activeTexture(this.gl.TEXTURE13);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolLQ);\n    this.gl.uniform1i(this.noiseVolLQLoc, 13);\n\n    this.gl.activeTexture(this.gl.TEXTURE14);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolHQ);\n    this.gl.uniform1i(this.noiseVolHQLoc, 14);\n\n    for (let i = 0; i < this.userTextures.length; i++) {\n      const userTexture = this.userTextures[i];\n      this.gl.activeTexture(this.gl.TEXTURE15 + i);\n      this.gl.bindTexture(\n        this.gl.TEXTURE_2D,\n        this.image.getTexture(userTexture.sampler)\n      );\n      this.gl.uniform1i(userTexture.textureLoc, 15 + i);\n    }\n\n    this.gl.uniform1f(this.timeLoc, mdVSFrame.time);\n    this.gl.uniform1f(this.gammaAdjLoc, mdVSFrame.gammaadj);\n    this.gl.uniform1f(this.echoZoomLoc, mdVSFrame.echo_zoom);\n    this.gl.uniform1f(this.echoAlphaLoc, mdVSFrame.echo_alpha);\n    this.gl.uniform1f(this.echoOrientationLoc, mdVSFrame.echo_orient);\n    this.gl.uniform1i(this.invertLoc, mdVSFrame.invert);\n    this.gl.uniform1i(this.brightenLoc, mdVSFrame.brighten);\n    this.gl.uniform1i(this.darkenLoc, mdVSFrame.darken);\n    this.gl.uniform1i(this.solarizeLoc, mdVSFrame.solarize);\n    this.gl.uniform2fv(this.resolutionLoc, [this.texsizeX, this.texsizeY]);\n    this.gl.uniform4fv(this.aspectLoc, [\n      this.aspectx,\n      this.aspecty,\n      this.invAspectx,\n      this.invAspecty,\n    ]);\n    this.gl.uniform4fv(\n      this.texsizeLoc,\n      new Float32Array([\n        this.texsizeX,\n        this.texsizeY,\n        1.0 / this.texsizeX,\n        1.0 / this.texsizeY,\n      ])\n    );\n    this.gl.uniform4fv(this.texsizeNoiseLQLoc, [256, 256, 1 / 256, 1 / 256]);\n    this.gl.uniform4fv(this.texsizeNoiseMQLoc, [256, 256, 1 / 256, 1 / 256]);\n    this.gl.uniform4fv(this.texsizeNoiseHQLoc, [256, 256, 1 / 256, 1 / 256]);\n    this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc, [32, 32, 1 / 32, 1 / 32]);\n    this.gl.uniform4fv(this.texsizeNoiseVolLQLoc, [32, 32, 1 / 32, 1 / 32]);\n    this.gl.uniform4fv(this.texsizeNoiseVolHQLoc, [32, 32, 1 / 32, 1 / 32]);\n    this.gl.uniform1f(this.bassLoc, mdVSFrame.bass);\n    this.gl.uniform1f(this.midLoc, mdVSFrame.mid);\n    this.gl.uniform1f(this.trebLoc, mdVSFrame.treb);\n    this.gl.uniform1f(\n      this.volLoc,\n      (mdVSFrame.bass + mdVSFrame.mid + mdVSFrame.treb) / 3\n    );\n    this.gl.uniform1f(this.bassAttLoc, mdVSFrame.bass_att);\n    this.gl.uniform1f(this.midAttLoc, mdVSFrame.mid_att);\n    this.gl.uniform1f(this.trebAttLoc, mdVSFrame.treb_att);\n    this.gl.uniform1f(\n      this.volAttLoc,\n      (mdVSFrame.bass_att + mdVSFrame.mid_att + mdVSFrame.treb_att) / 3\n    );\n    this.gl.uniform1f(this.frameLoc, mdVSFrame.frame);\n    this.gl.uniform1f(this.fpsLoc, mdVSFrame.fps);\n    this.gl.uniform4fv(this.randPresetLoc, mdVSFrame.rand_preset);\n    this.gl.uniform4fv(\n      this.randFrameLoc,\n      new Float32Array([\n        Math.random(),\n        Math.random(),\n        Math.random(),\n        Math.random(),\n      ])\n    );\n    this.gl.uniform1f(this.fShaderLoc, mdVSFrame.fshader);\n\n    this.gl.uniform4fv(\n      this.qaLoc,\n      new Float32Array([\n        mdVSQs.q1 || 0,\n        mdVSQs.q2 || 0,\n        mdVSQs.q3 || 0,\n        mdVSQs.q4 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qbLoc,\n      new Float32Array([\n        mdVSQs.q5 || 0,\n        mdVSQs.q6 || 0,\n        mdVSQs.q7 || 0,\n        mdVSQs.q8 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qcLoc,\n      new Float32Array([\n        mdVSQs.q9 || 0,\n        mdVSQs.q10 || 0,\n        mdVSQs.q11 || 0,\n        mdVSQs.q12 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qdLoc,\n      new Float32Array([\n        mdVSQs.q13 || 0,\n        mdVSQs.q14 || 0,\n        mdVSQs.q15 || 0,\n        mdVSQs.q16 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qeLoc,\n      new Float32Array([\n        mdVSQs.q17 || 0,\n        mdVSQs.q18 || 0,\n        mdVSQs.q19 || 0,\n        mdVSQs.q20 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qfLoc,\n      new Float32Array([\n        mdVSQs.q21 || 0,\n        mdVSQs.q22 || 0,\n        mdVSQs.q23 || 0,\n        mdVSQs.q24 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qgLoc,\n      new Float32Array([\n        mdVSQs.q25 || 0,\n        mdVSQs.q26 || 0,\n        mdVSQs.q27 || 0,\n        mdVSQs.q28 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qhLoc,\n      new Float32Array([\n        mdVSQs.q29 || 0,\n        mdVSQs.q30 || 0,\n        mdVSQs.q31 || 0,\n        mdVSQs.q32 || 0,\n      ])\n    );\n    this.gl.uniform4fv(this.slowRoamCosLoc, [\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.005),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.008),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.013),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.022),\n    ]);\n    this.gl.uniform4fv(this.roamCosLoc, [\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.3),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 1.3),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 5.0),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 20.0),\n    ]);\n    this.gl.uniform4fv(this.slowRoamSinLoc, [\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.005),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.008),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.013),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.022),\n    ]);\n    this.gl.uniform4fv(this.roamSinLoc, [\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.3),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 1.3),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 5.0),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 20.0),\n    ]);\n\n    this.bindBlurVals(blurMins, blurMaxs);\n\n    if (blending) {\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n    } else {\n      this.gl.disable(this.gl.BLEND);\n    }\n\n    this.gl.drawElements(\n      this.gl.TRIANGLES,\n      this.indices.length,\n      this.gl.UNSIGNED_SHORT,\n      0\n    );\n\n    if (!blending) {\n      this.gl.enable(this.gl.BLEND);\n    }\n  }\n}\n","import ShaderUtils from \"./shaderUtils\";\n\nexport default class OutputShader {\n  constructor(gl, opts) {\n    this.gl = gl;\n\n    this.textureRatio = opts.textureRatio;\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n\n    this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);\n\n    this.vertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    if (this.useFXAA()) {\n      this.createFXAAShader();\n    } else {\n      this.createShader();\n    }\n  }\n\n  useFXAA() {\n    return this.textureRatio <= 1;\n  }\n\n  updateGlobals(opts) {\n    this.textureRatio = opts.textureRatio;\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n\n    this.gl.deleteProgram(this.shaderProgram);\n\n    if (this.useFXAA()) {\n      this.createFXAAShader();\n    } else {\n      this.createShader();\n    }\n  }\n\n  // based on https://github.com/mattdesl/glsl-fxaa\n  createFXAAShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 v_rgbM;\n       out vec2 v_rgbNW;\n       out vec2 v_rgbNE;\n       out vec2 v_rgbSW;\n       out vec2 v_rgbSE;\n       uniform vec4 texsize;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n\n         v_rgbM = aPos * halfmad + halfmad;\n         v_rgbNW = v_rgbM + (vec2(-1.0, -1.0) * texsize.zx);\n         v_rgbNE = v_rgbM + (vec2(1.0, -1.0) * texsize.zx);\n         v_rgbSW = v_rgbM + (vec2(-1.0, 1.0) * texsize.zx);\n         v_rgbSE = v_rgbM + (vec2(1.0, 1.0) * texsize.zx);\n       }`\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 v_rgbM;\n       in vec2 v_rgbNW;\n       in vec2 v_rgbNE;\n       in vec2 v_rgbSW;\n       in vec2 v_rgbSE;\n       out vec4 fragColor;\n       uniform vec4 texsize;\n       uniform sampler2D uTexture;\n\n       #ifndef FXAA_REDUCE_MIN\n         #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n       #endif\n       #ifndef FXAA_REDUCE_MUL\n         #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n       #endif\n       #ifndef FXAA_SPAN_MAX\n         #define FXAA_SPAN_MAX     8.0\n       #endif\n\n       void main(void) {\n         vec4 color;\n         vec3 rgbNW = textureLod(uTexture, v_rgbNW, 0.0).xyz;\n         vec3 rgbNE = textureLod(uTexture, v_rgbNE, 0.0).xyz;\n         vec3 rgbSW = textureLod(uTexture, v_rgbSW, 0.0).xyz;\n         vec3 rgbSE = textureLod(uTexture, v_rgbSE, 0.0).xyz;\n         vec3 rgbM  = textureLod(uTexture, v_rgbM, 0.0).xyz;\n         vec3 luma = vec3(0.299, 0.587, 0.114);\n         float lumaNW = dot(rgbNW, luma);\n         float lumaNE = dot(rgbNE, luma);\n         float lumaSW = dot(rgbSW, luma);\n         float lumaSE = dot(rgbSE, luma);\n         float lumaM  = dot(rgbM,  luma);\n         float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n         float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n         mediump vec2 dir;\n         dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n         dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n         float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                               (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n         float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n         dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n                   max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                   dir * rcpDirMin)) * texsize.zw;\n\n         vec3 rgbA = 0.5 * (\n             textureLod(uTexture, v_rgbM + dir * (1.0 / 3.0 - 0.5), 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * (2.0 / 3.0 - 0.5), 0.0).xyz);\n         vec3 rgbB = rgbA * 0.5 + 0.25 * (\n             textureLod(uTexture, v_rgbM + dir * -0.5, 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * 0.5, 0.0).xyz);\n\n         float lumaB = dot(rgbB, luma);\n         if ((lumaB < lumaMin) || (lumaB > lumaMax))\n           color = vec4(rgbA, 1.0);\n         else\n           color = vec4(rgbB, 1.0);\n\n         fragColor = color;\n       }`\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n    this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, \"texsize\");\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }`\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }`\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n  }\n\n  renderQuadTexture(texture) {\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.positions,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    if (this.useFXAA()) {\n      this.gl.uniform4fv(\n        this.texsizeLoc,\n        new Float32Array([\n          this.texsizeX,\n          this.texsizeY,\n          1.0 / this.texsizeX,\n          1.0 / this.texsizeY,\n        ])\n      );\n    }\n\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n  }\n}\n","import ShaderUtils from \"./shaderUtils\";\n\nexport default class ResampleShader {\n  constructor(gl) {\n    this.gl = gl;\n\n    this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);\n\n    this.vertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }`\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }`\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n  }\n\n  renderQuadTexture(texture) {\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.positions,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n  }\n}\n","const lineMatcher = /uniform sampler2D sampler_(?:.+?);/g;\nconst samplerMatcher = /uniform sampler2D sampler_(.+?);/;\n\nexport default class ShaderUtils {\n  static getShaderParts(t) {\n    const sbIndex = t.indexOf(\"shader_body\");\n    if (t && sbIndex > -1) {\n      const beforeShaderBody = t.substring(0, sbIndex);\n      const afterShaderBody = t.substring(sbIndex);\n      const firstCurly = afterShaderBody.indexOf(\"{\");\n      const lastCurly = afterShaderBody.lastIndexOf(\"}\");\n      const shaderBody = afterShaderBody.substring(firstCurly + 1, lastCurly);\n      return [beforeShaderBody, shaderBody];\n    }\n\n    return [\"\", t];\n  }\n\n  static getFragmentFloatPrecision(gl) {\n    if (\n      gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision >\n      0\n    ) {\n      return \"highp\";\n    } else if (\n      gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT)\n        .precision > 0\n    ) {\n      return \"mediump\";\n    }\n    return \"lowp\";\n  }\n\n  static getUserSamplers(text) {\n    const samplers = [];\n    const lineMatches = text.match(lineMatcher);\n    if (lineMatches && lineMatches.length > 0) {\n      for (let i = 0; i < lineMatches.length; i++) {\n        const samplerMatches = lineMatches[i].match(samplerMatcher);\n        if (samplerMatches && samplerMatches.length > 0) {\n          const sampler = samplerMatches[1];\n          samplers.push({ sampler });\n        }\n      }\n    }\n    return samplers;\n  }\n}\n","import ShaderUtils from \"./shaderUtils\";\n\nexport default class WarpShader {\n  constructor(gl, noise, image, opts = {}) {\n    this.gl = gl;\n    this.noise = noise;\n    this.image = image;\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.buildPositions();\n\n    this.indexBuf = gl.createBuffer();\n    this.positionVertexBuf = this.gl.createBuffer();\n    this.warpUvVertexBuf = this.gl.createBuffer();\n    this.warpColorVertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n\n    this.mainSampler = this.gl.createSampler();\n    this.mainSamplerFW = this.gl.createSampler();\n    this.mainSamplerFC = this.gl.createSampler();\n    this.mainSamplerPW = this.gl.createSampler();\n    this.mainSamplerPC = this.gl.createSampler();\n\n    gl.samplerParameteri(\n      this.mainSampler,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    gl.samplerParameteri(\n      this.mainSamplerFW,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSamplerFW, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    gl.samplerParameteri(\n      this.mainSamplerFC,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSamplerFC, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(\n      this.mainSamplerFC,\n      gl.TEXTURE_WRAP_S,\n      gl.CLAMP_TO_EDGE\n    );\n    gl.samplerParameteri(\n      this.mainSamplerFC,\n      gl.TEXTURE_WRAP_T,\n      gl.CLAMP_TO_EDGE\n    );\n\n    gl.samplerParameteri(\n      this.mainSamplerPW,\n      gl.TEXTURE_MIN_FILTER,\n      gl.NEAREST_MIPMAP_NEAREST\n    );\n    gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSamplerPW, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n    gl.samplerParameteri(\n      this.mainSamplerPC,\n      gl.TEXTURE_MIN_FILTER,\n      gl.NEAREST_MIPMAP_NEAREST\n    );\n    gl.samplerParameteri(this.mainSamplerPC, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.samplerParameteri(\n      this.mainSamplerPC,\n      gl.TEXTURE_WRAP_S,\n      gl.CLAMP_TO_EDGE\n    );\n    gl.samplerParameteri(\n      this.mainSamplerPC,\n      gl.TEXTURE_WRAP_T,\n      gl.CLAMP_TO_EDGE\n    );\n  }\n\n  // based on https://github.com/mrdoob/three.js/blob/master/src/geometries/PlaneGeometry.js\n  buildPositions() {\n    const width = 2;\n    const height = 2;\n\n    const widthHalf = width / 2;\n    const heightHalf = height / 2;\n\n    const gridX = this.mesh_width;\n    const gridY = this.mesh_height;\n\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n\n    const segmentWidth = width / gridX;\n    const segmentHeight = height / gridY;\n\n    const vertices = [];\n    for (let iy = 0; iy < gridY1; iy++) {\n      const y = iy * segmentHeight - heightHalf;\n      for (let ix = 0; ix < gridX1; ix++) {\n        const x = ix * segmentWidth - widthHalf;\n        vertices.push(x, -y, 0);\n      }\n    }\n\n    const indices = [];\n    for (let iy = 0; iy < gridY; iy++) {\n      for (let ix = 0; ix < gridX; ix++) {\n        const a = ix + gridX1 * iy;\n        const b = ix + gridX1 * (iy + 1);\n        const c = ix + 1 + gridX1 * (iy + 1);\n        const d = ix + 1 + gridX1 * iy;\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    this.vertices = new Float32Array(vertices);\n    this.indices = new Uint16Array(indices);\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.buildPositions();\n  }\n\n  createShader(shaderText = \"\") {\n    let fragShaderText;\n    let fragShaderHeaderText;\n    if (shaderText.length === 0) {\n      fragShaderText = \"ret = texture(sampler_main, uv).rgb * decay;\";\n      fragShaderHeaderText = \"\";\n    } else {\n      const shaderParts = ShaderUtils.getShaderParts(shaderText);\n      fragShaderHeaderText = shaderParts[0];\n      fragShaderText = shaderParts[1];\n    }\n\n    fragShaderText = fragShaderText.replace(/texture2D/g, \"texture\");\n    fragShaderText = fragShaderText.replace(/texture3D/g, \"texture\");\n\n    this.userTextures = ShaderUtils.getUserSamplers(fragShaderHeaderText);\n\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      in vec2 aWarpUv;\n      in vec4 aWarpColor;\n      out vec2 uv;\n      out vec2 uv_orig;\n      out vec4 vColor;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv_orig = aPos * halfmad + halfmad;\n        uv = aWarpUv;\n        vColor = aWarpColor;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      precision mediump sampler3D;\n\n      in vec2 uv;\n      in vec2 uv_orig;\n      in vec4 vColor;\n      out vec4 fragColor;\n      uniform sampler2D sampler_main;\n      uniform sampler2D sampler_fw_main;\n      uniform sampler2D sampler_fc_main;\n      uniform sampler2D sampler_pw_main;\n      uniform sampler2D sampler_pc_main;\n      uniform sampler2D sampler_blur1;\n      uniform sampler2D sampler_blur2;\n      uniform sampler2D sampler_blur3;\n      uniform sampler2D sampler_noise_lq;\n      uniform sampler2D sampler_noise_lq_lite;\n      uniform sampler2D sampler_noise_mq;\n      uniform sampler2D sampler_noise_hq;\n      uniform sampler2D sampler_pw_noise_lq;\n      uniform sampler3D sampler_noisevol_lq;\n      uniform sampler3D sampler_noisevol_hq;\n      uniform float time;\n      uniform float decay;\n      uniform vec2 resolution;\n      uniform vec4 aspect;\n      uniform vec4 texsize;\n      uniform vec4 texsize_noise_lq;\n      uniform vec4 texsize_noise_mq;\n      uniform vec4 texsize_noise_hq;\n      uniform vec4 texsize_noise_lq_lite;\n      uniform vec4 texsize_noisevol_lq;\n      uniform vec4 texsize_noisevol_hq;\n\n      uniform float bass;\n      uniform float mid;\n      uniform float treb;\n      uniform float vol;\n      uniform float bass_att;\n      uniform float mid_att;\n      uniform float treb_att;\n      uniform float vol_att;\n\n      uniform float frame;\n      uniform float fps;\n\n      uniform vec4 _qa;\n      uniform vec4 _qb;\n      uniform vec4 _qc;\n      uniform vec4 _qd;\n      uniform vec4 _qe;\n      uniform vec4 _qf;\n      uniform vec4 _qg;\n      uniform vec4 _qh;\n\n      #define q1 _qa.x\n      #define q2 _qa.y\n      #define q3 _qa.z\n      #define q4 _qa.w\n      #define q5 _qb.x\n      #define q6 _qb.y\n      #define q7 _qb.z\n      #define q8 _qb.w\n      #define q9 _qc.x\n      #define q10 _qc.y\n      #define q11 _qc.z\n      #define q12 _qc.w\n      #define q13 _qd.x\n      #define q14 _qd.y\n      #define q15 _qd.z\n      #define q16 _qd.w\n      #define q17 _qe.x\n      #define q18 _qe.y\n      #define q19 _qe.z\n      #define q20 _qe.w\n      #define q21 _qf.x\n      #define q22 _qf.y\n      #define q23 _qf.z\n      #define q24 _qf.w\n      #define q25 _qg.x\n      #define q26 _qg.y\n      #define q27 _qg.z\n      #define q28 _qg.w\n      #define q29 _qh.x\n      #define q30 _qh.y\n      #define q31 _qh.z\n      #define q32 _qh.w\n\n      uniform vec4 slow_roam_cos;\n      uniform vec4 roam_cos;\n      uniform vec4 slow_roam_sin;\n      uniform vec4 roam_sin;\n\n      uniform float blur1_min;\n      uniform float blur1_max;\n      uniform float blur2_min;\n      uniform float blur2_max;\n      uniform float blur3_min;\n      uniform float blur3_max;\n\n      uniform float scale1;\n      uniform float scale2;\n      uniform float scale3;\n      uniform float bias1;\n      uniform float bias2;\n      uniform float bias3;\n\n      uniform vec4 rand_frame;\n      uniform vec4 rand_preset;\n\n      float PI = ${Math.PI};\n\n      ${fragShaderHeaderText}\n\n      void main(void) {\n        vec3 ret;\n        float rad = length(uv_orig - 0.5);\n        float ang = atan(uv_orig.x - 0.5, uv_orig.y - 0.5);\n\n        ${fragShaderText}\n\n        fragColor = vec4(ret, 1.0) * vColor;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.warpUvLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aWarpUv\"\n    );\n    this.warpColorLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aWarpColor\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_main\"\n    );\n    this.textureFWLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_fw_main\"\n    );\n    this.textureFCLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_fc_main\"\n    );\n    this.texturePWLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_pw_main\"\n    );\n    this.texturePCLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_pc_main\"\n    );\n    this.blurTexture1Loc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_blur1\"\n    );\n    this.blurTexture2Loc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_blur2\"\n    );\n    this.blurTexture3Loc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_blur3\"\n    );\n    this.noiseLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_lq\"\n    );\n    this.noiseMQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_mq\"\n    );\n    this.noiseHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_hq\"\n    );\n    this.noiseLQLiteLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noise_lq_lite\"\n    );\n    this.noisePointLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_pw_noise_lq\"\n    );\n    this.noiseVolLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noisevol_lq\"\n    );\n    this.noiseVolHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"sampler_noisevol_hq\"\n    );\n    this.decayLoc = this.gl.getUniformLocation(this.shaderProgram, \"decay\");\n    this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, \"texsize\");\n    this.texsizeNoiseLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_lq\"\n    );\n    this.texsizeNoiseMQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_mq\"\n    );\n    this.texsizeNoiseHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_hq\"\n    );\n    this.texsizeNoiseLQLiteLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noise_lq_lite\"\n    );\n    this.texsizeNoiseVolLQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noisevol_lq\"\n    );\n    this.texsizeNoiseVolHQLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"texsize_noisevol_hq\"\n    );\n    this.resolutionLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"resolution\"\n    );\n    this.aspectLoc = this.gl.getUniformLocation(this.shaderProgram, \"aspect\");\n    this.bassLoc = this.gl.getUniformLocation(this.shaderProgram, \"bass\");\n    this.midLoc = this.gl.getUniformLocation(this.shaderProgram, \"mid\");\n    this.trebLoc = this.gl.getUniformLocation(this.shaderProgram, \"treb\");\n    this.volLoc = this.gl.getUniformLocation(this.shaderProgram, \"vol\");\n    this.bassAttLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"bass_att\"\n    );\n    this.midAttLoc = this.gl.getUniformLocation(this.shaderProgram, \"mid_att\");\n    this.trebAttLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"treb_att\"\n    );\n    this.volAttLoc = this.gl.getUniformLocation(this.shaderProgram, \"vol_att\");\n    this.timeLoc = this.gl.getUniformLocation(this.shaderProgram, \"time\");\n    this.frameLoc = this.gl.getUniformLocation(this.shaderProgram, \"frame\");\n    this.fpsLoc = this.gl.getUniformLocation(this.shaderProgram, \"fps\");\n    this.blur1MinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur1_min\"\n    );\n    this.blur1MaxLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur1_max\"\n    );\n    this.blur2MinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur2_min\"\n    );\n    this.blur2MaxLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur2_max\"\n    );\n    this.blur3MinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur3_min\"\n    );\n    this.blur3MaxLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"blur3_max\"\n    );\n    this.scale1Loc = this.gl.getUniformLocation(this.shaderProgram, \"scale1\");\n    this.scale2Loc = this.gl.getUniformLocation(this.shaderProgram, \"scale2\");\n    this.scale3Loc = this.gl.getUniformLocation(this.shaderProgram, \"scale3\");\n    this.bias1Loc = this.gl.getUniformLocation(this.shaderProgram, \"bias1\");\n    this.bias2Loc = this.gl.getUniformLocation(this.shaderProgram, \"bias2\");\n    this.bias3Loc = this.gl.getUniformLocation(this.shaderProgram, \"bias3\");\n    this.randPresetLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"rand_preset\"\n    );\n    this.randFrameLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"rand_frame\"\n    );\n\n    this.qaLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qa\");\n    this.qbLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qb\");\n    this.qcLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qc\");\n    this.qdLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qd\");\n    this.qeLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qe\");\n    this.qfLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qf\");\n    this.qgLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qg\");\n    this.qhLoc = this.gl.getUniformLocation(this.shaderProgram, \"_qh\");\n\n    this.slowRoamCosLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"slow_roam_cos\"\n    );\n    this.roamCosLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"roam_cos\"\n    );\n    this.slowRoamSinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"slow_roam_sin\"\n    );\n    this.roamSinLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"roam_sin\"\n    );\n\n    for (let i = 0; i < this.userTextures.length; i++) {\n      const userTexture = this.userTextures[i];\n      userTexture.textureLoc = this.gl.getUniformLocation(\n        this.shaderProgram,\n        `sampler_${userTexture.sampler}`\n      );\n    }\n  }\n\n  updateShader(shaderText) {\n    this.createShader(shaderText);\n  }\n\n  bindBlurVals(blurMins, blurMaxs) {\n    const blurMin1 = blurMins[0];\n    const blurMin2 = blurMins[1];\n    const blurMin3 = blurMins[2];\n    const blurMax1 = blurMaxs[0];\n    const blurMax2 = blurMaxs[1];\n    const blurMax3 = blurMaxs[2];\n\n    const scale1 = blurMax1 - blurMin1;\n    const bias1 = blurMin1;\n\n    const scale2 = blurMax2 - blurMin2;\n    const bias2 = blurMin2;\n\n    const scale3 = blurMax3 - blurMin3;\n    const bias3 = blurMin3;\n\n    this.gl.uniform1f(this.blur1MinLoc, blurMin1);\n    this.gl.uniform1f(this.blur1MaxLoc, blurMax1);\n    this.gl.uniform1f(this.blur2MinLoc, blurMin2);\n    this.gl.uniform1f(this.blur2MaxLoc, blurMax2);\n    this.gl.uniform1f(this.blur3MinLoc, blurMin3);\n    this.gl.uniform1f(this.blur3MaxLoc, blurMax3);\n    this.gl.uniform1f(this.scale1Loc, scale1);\n    this.gl.uniform1f(this.scale2Loc, scale2);\n    this.gl.uniform1f(this.scale3Loc, scale3);\n    this.gl.uniform1f(this.bias1Loc, bias1);\n    this.gl.uniform1f(this.bias2Loc, bias2);\n    this.gl.uniform1f(this.bias3Loc, bias3);\n  }\n\n  renderQuadTexture(\n    blending,\n    texture,\n    blurTexture1,\n    blurTexture2,\n    blurTexture3,\n    blurMins,\n    blurMaxs,\n    mdVSFrame,\n    mdVSQs,\n    warpUVs,\n    warpColor\n  ) {\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf);\n    this.gl.bufferData(\n      this.gl.ELEMENT_ARRAY_BUFFER,\n      this.indices,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.vertices,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      3,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.warpUvVertexBuf);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, warpUVs, this.gl.STATIC_DRAW);\n\n    this.gl.vertexAttribPointer(\n      this.warpUvLocation,\n      2,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.warpUvLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.warpColorVertexBuf);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, warpColor, this.gl.STATIC_DRAW);\n\n    this.gl.vertexAttribPointer(\n      this.warpColorLocation,\n      4,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.warpColorLocation);\n\n    const wrapping =\n      mdVSFrame.wrap !== 0 ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE;\n    this.gl.samplerParameteri(\n      this.mainSampler,\n      this.gl.TEXTURE_WRAP_S,\n      wrapping\n    );\n    this.gl.samplerParameteri(\n      this.mainSampler,\n      this.gl.TEXTURE_WRAP_T,\n      wrapping\n    );\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(0, this.mainSampler);\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    this.gl.activeTexture(this.gl.TEXTURE1);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(1, this.mainSamplerFW);\n    this.gl.uniform1i(this.textureFWLoc, 1);\n\n    this.gl.activeTexture(this.gl.TEXTURE2);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(2, this.mainSamplerFC);\n    this.gl.uniform1i(this.textureFCLoc, 2);\n\n    this.gl.activeTexture(this.gl.TEXTURE3);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(3, this.mainSamplerPW);\n    this.gl.uniform1i(this.texturePWLoc, 3);\n\n    this.gl.activeTexture(this.gl.TEXTURE4);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.bindSampler(4, this.mainSamplerPC);\n    this.gl.uniform1i(this.texturePCLoc, 4);\n\n    this.gl.activeTexture(this.gl.TEXTURE5);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture1);\n    this.gl.uniform1i(this.blurTexture1Loc, 5);\n\n    this.gl.activeTexture(this.gl.TEXTURE6);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture2);\n    this.gl.uniform1i(this.blurTexture2Loc, 6);\n\n    this.gl.activeTexture(this.gl.TEXTURE7);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, blurTexture3);\n    this.gl.uniform1i(this.blurTexture3Loc, 7);\n\n    this.gl.activeTexture(this.gl.TEXTURE8);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);\n    this.gl.uniform1i(this.noiseLQLoc, 8);\n\n    this.gl.activeTexture(this.gl.TEXTURE9);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexMQ);\n    this.gl.uniform1i(this.noiseMQLoc, 9);\n\n    this.gl.activeTexture(this.gl.TEXTURE10);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexHQ);\n    this.gl.uniform1i(this.noiseHQLoc, 10);\n\n    this.gl.activeTexture(this.gl.TEXTURE11);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQLite);\n    this.gl.uniform1i(this.noiseLQLiteLoc, 11);\n\n    this.gl.activeTexture(this.gl.TEXTURE12);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ);\n    this.gl.bindSampler(12, this.noise.noiseTexPointLQ);\n    this.gl.uniform1i(this.noisePointLQLoc, 12);\n\n    this.gl.activeTexture(this.gl.TEXTURE13);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolLQ);\n    this.gl.uniform1i(this.noiseVolLQLoc, 13);\n\n    this.gl.activeTexture(this.gl.TEXTURE14);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolHQ);\n    this.gl.uniform1i(this.noiseVolHQLoc, 14);\n\n    for (let i = 0; i < this.userTextures.length; i++) {\n      const userTexture = this.userTextures[i];\n      this.gl.activeTexture(this.gl.TEXTURE15 + i);\n      this.gl.bindTexture(\n        this.gl.TEXTURE_2D,\n        this.image.getTexture(userTexture.sampler)\n      );\n      this.gl.uniform1i(userTexture.textureLoc, 15 + i);\n    }\n\n    this.gl.uniform1f(this.decayLoc, mdVSFrame.decay);\n    this.gl.uniform2fv(this.resolutionLoc, [this.texsizeX, this.texsizeY]);\n    this.gl.uniform4fv(this.aspectLoc, [\n      this.aspectx,\n      this.aspecty,\n      this.invAspectx,\n      this.invAspecty,\n    ]);\n    this.gl.uniform4fv(this.texsizeLoc, [\n      this.texsizeX,\n      this.texsizeY,\n      1.0 / this.texsizeX,\n      1.0 / this.texsizeY,\n    ]);\n    this.gl.uniform4fv(this.texsizeNoiseLQLoc, [256, 256, 1 / 256, 1 / 256]);\n    this.gl.uniform4fv(this.texsizeNoiseMQLoc, [256, 256, 1 / 256, 1 / 256]);\n    this.gl.uniform4fv(this.texsizeNoiseHQLoc, [256, 256, 1 / 256, 1 / 256]);\n    this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc, [32, 32, 1 / 32, 1 / 32]);\n    this.gl.uniform4fv(this.texsizeNoiseVolLQLoc, [32, 32, 1 / 32, 1 / 32]);\n    this.gl.uniform4fv(this.texsizeNoiseVolHQLoc, [32, 32, 1 / 32, 1 / 32]);\n\n    this.gl.uniform1f(this.bassLoc, mdVSFrame.bass);\n    this.gl.uniform1f(this.midLoc, mdVSFrame.mid);\n    this.gl.uniform1f(this.trebLoc, mdVSFrame.treb);\n    this.gl.uniform1f(\n      this.volLoc,\n      (mdVSFrame.bass + mdVSFrame.mid + mdVSFrame.treb) / 3\n    );\n    this.gl.uniform1f(this.bassAttLoc, mdVSFrame.bass_att);\n    this.gl.uniform1f(this.midAttLoc, mdVSFrame.mid_att);\n    this.gl.uniform1f(this.trebAttLoc, mdVSFrame.treb_att);\n    this.gl.uniform1f(\n      this.volAttLoc,\n      (mdVSFrame.bass_att + mdVSFrame.mid_att + mdVSFrame.treb_att) / 3\n    );\n    this.gl.uniform1f(this.timeLoc, mdVSFrame.time);\n    this.gl.uniform1f(this.frameLoc, mdVSFrame.frame);\n    this.gl.uniform1f(this.fpsLoc, mdVSFrame.fps);\n    this.gl.uniform4fv(this.randPresetLoc, mdVSFrame.rand_preset);\n    this.gl.uniform4fv(\n      this.randFrameLoc,\n      new Float32Array([\n        Math.random(),\n        Math.random(),\n        Math.random(),\n        Math.random(),\n      ])\n    );\n\n    this.gl.uniform4fv(\n      this.qaLoc,\n      new Float32Array([\n        mdVSQs.q1 || 0,\n        mdVSQs.q2 || 0,\n        mdVSQs.q3 || 0,\n        mdVSQs.q4 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qbLoc,\n      new Float32Array([\n        mdVSQs.q5 || 0,\n        mdVSQs.q6 || 0,\n        mdVSQs.q7 || 0,\n        mdVSQs.q8 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qcLoc,\n      new Float32Array([\n        mdVSQs.q9 || 0,\n        mdVSQs.q10 || 0,\n        mdVSQs.q11 || 0,\n        mdVSQs.q12 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qdLoc,\n      new Float32Array([\n        mdVSQs.q13 || 0,\n        mdVSQs.q14 || 0,\n        mdVSQs.q15 || 0,\n        mdVSQs.q16 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qeLoc,\n      new Float32Array([\n        mdVSQs.q17 || 0,\n        mdVSQs.q18 || 0,\n        mdVSQs.q19 || 0,\n        mdVSQs.q20 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qfLoc,\n      new Float32Array([\n        mdVSQs.q21 || 0,\n        mdVSQs.q22 || 0,\n        mdVSQs.q23 || 0,\n        mdVSQs.q24 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qgLoc,\n      new Float32Array([\n        mdVSQs.q25 || 0,\n        mdVSQs.q26 || 0,\n        mdVSQs.q27 || 0,\n        mdVSQs.q28 || 0,\n      ])\n    );\n    this.gl.uniform4fv(\n      this.qhLoc,\n      new Float32Array([\n        mdVSQs.q29 || 0,\n        mdVSQs.q30 || 0,\n        mdVSQs.q31 || 0,\n        mdVSQs.q32 || 0,\n      ])\n    );\n    this.gl.uniform4fv(this.slowRoamCosLoc, [\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.005),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.008),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.013),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.022),\n    ]);\n    this.gl.uniform4fv(this.roamCosLoc, [\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 0.3),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 1.3),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 5.0),\n      0.5 + 0.5 * Math.cos(mdVSFrame.time * 20.0),\n    ]);\n    this.gl.uniform4fv(this.slowRoamSinLoc, [\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.005),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.008),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.013),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.022),\n    ]);\n    this.gl.uniform4fv(this.roamSinLoc, [\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 0.3),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 1.3),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 5.0),\n      0.5 + 0.5 * Math.sin(mdVSFrame.time * 20.0),\n    ]);\n\n    this.bindBlurVals(blurMins, blurMaxs);\n\n    if (blending) {\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n    } else {\n      this.gl.disable(this.gl.BLEND);\n    }\n\n    this.gl.drawElements(\n      this.gl.TRIANGLES,\n      this.indices.length,\n      this.gl.UNSIGNED_SHORT,\n      0\n    );\n\n    if (!blending) {\n      this.gl.enable(this.gl.BLEND);\n    }\n  }\n}\n","import Utils from \"../../utils\";\nimport ShaderUtils from \"../shaders/shaderUtils\";\n\nexport default class CustomShape {\n  constructor(index, gl, opts) {\n    this.index = index;\n    this.gl = gl;\n\n    const maxSides = 101;\n    this.positions = new Float32Array((maxSides + 2) * 3);\n    this.colors = new Float32Array((maxSides + 2) * 4);\n    this.uvs = new Float32Array((maxSides + 2) * 2);\n    this.borderPositions = new Float32Array((maxSides + 1) * 3);\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.positionVertexBuf = this.gl.createBuffer();\n    this.colorVertexBuf = this.gl.createBuffer();\n    this.uvVertexBuf = this.gl.createBuffer();\n    this.borderPositionVertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n    this.createBorderShader();\n\n    this.mainSampler = this.gl.createSampler();\n\n    gl.samplerParameteri(\n      this.mainSampler,\n      gl.TEXTURE_MIN_FILTER,\n      gl.LINEAR_MIPMAP_LINEAR\n    );\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.samplerParameteri(this.mainSampler, gl.TEXTURE_WRAP_T, gl.REPEAT);\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      in vec3 aPos;\n      in vec4 aColor;\n      in vec2 aUv;\n      out vec4 vColor;\n      out vec2 vUv;\n      void main(void) {\n        vColor = aColor;\n        vUv = aUv;\n        gl_Position = vec4(aPos, 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      uniform sampler2D uTexture;\n      uniform float uTextured;\n      in vec4 vColor;\n      in vec2 vUv;\n      out vec4 fragColor;\n      void main(void) {\n        if (uTextured != 0.0) {\n          fragColor = texture(uTexture, vUv) * vColor;\n        } else {\n          fragColor = vColor;\n        }\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, \"aPos\");\n    this.aColorLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aColor\"\n    );\n    this.aUvLocation = this.gl.getAttribLocation(this.shaderProgram, \"aUv\");\n\n    this.texturedLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTextured\"\n    );\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n  }\n\n  createBorderShader() {\n    this.borderShaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      in vec3 aBorderPos;\n      uniform vec2 thickOffset;\n      void main(void) {\n        gl_Position = vec4(aBorderPos +\n                            vec3(thickOffset, 0.0), 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 uBorderColor;\n      void main(void) {\n        fragColor = uBorderColor;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.borderShaderProgram, vertShader);\n    this.gl.attachShader(this.borderShaderProgram, fragShader);\n    this.gl.linkProgram(this.borderShaderProgram);\n\n    this.aBorderPosLoc = this.gl.getAttribLocation(\n      this.borderShaderProgram,\n      \"aBorderPos\"\n    );\n\n    this.uBorderColorLoc = this.gl.getUniformLocation(\n      this.borderShaderProgram,\n      \"uBorderColor\"\n    );\n    this.thickOffsetLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"thickOffset\"\n    );\n  }\n\n  drawCustomShape(\n    blendProgress,\n    globalVars,\n    presetEquationRunner,\n    shapeEqs,\n    prevTexture\n  ) {\n    if (shapeEqs.baseVals.enabled !== 0) {\n      if (!presetEquationRunner.preset.useWASM) {\n        this.setupShapeBuffers(presetEquationRunner.mdVSFrame.wrap);\n\n        let mdVSShape = Object.assign(\n          {},\n          presetEquationRunner.mdVSShapes[this.index],\n          presetEquationRunner.mdVSFrameMapShapes[this.index],\n          globalVars\n        );\n\n        // If we aren't setting these every instance, set them initially\n        if (\n          presetEquationRunner.preset.shapes[this.index].frame_eqs_str === \"\"\n        ) {\n          mdVSShape = Object.assign(\n            mdVSShape,\n            presetEquationRunner.mdVSQAfterFrame,\n            presetEquationRunner.mdVSTShapeInits[this.index]\n          );\n        }\n\n        const baseVals =\n          presetEquationRunner.preset.shapes[this.index].baseVals;\n\n        const numInst = Math.clamp(baseVals.num_inst, 1, 1024);\n        for (let j = 0; j < numInst; j++) {\n          mdVSShape.instance = j;\n          mdVSShape.x = baseVals.x;\n          mdVSShape.y = baseVals.y;\n          mdVSShape.rad = baseVals.rad;\n          mdVSShape.ang = baseVals.ang;\n          mdVSShape.r = baseVals.r;\n          mdVSShape.g = baseVals.g;\n          mdVSShape.b = baseVals.b;\n          mdVSShape.a = baseVals.a;\n          mdVSShape.r2 = baseVals.r2;\n          mdVSShape.g2 = baseVals.g2;\n          mdVSShape.b2 = baseVals.b2;\n          mdVSShape.a2 = baseVals.a2;\n          mdVSShape.border_r = baseVals.border_r;\n          mdVSShape.border_g = baseVals.border_g;\n          mdVSShape.border_b = baseVals.border_b;\n          mdVSShape.border_a = baseVals.border_a;\n          mdVSShape.thickoutline = baseVals.thickoutline;\n          mdVSShape.textured = baseVals.textured;\n          mdVSShape.tex_zoom = baseVals.tex_zoom;\n          mdVSShape.tex_ang = baseVals.tex_ang;\n          mdVSShape.additive = baseVals.additive;\n\n          let mdVSShapeFrame;\n          if (\n            presetEquationRunner.preset.shapes[this.index].frame_eqs_str !== \"\"\n          ) {\n            mdVSShape = Object.assign(\n              mdVSShape,\n              presetEquationRunner.mdVSQAfterFrame,\n              presetEquationRunner.mdVSTShapeInits[this.index]\n            );\n\n            mdVSShapeFrame = presetEquationRunner.runShapeFrameEquations(\n              this.index,\n              mdVSShape\n            );\n          } else {\n            mdVSShapeFrame = mdVSShape;\n          }\n\n          let sides = mdVSShapeFrame.sides;\n          sides = Math.clamp(sides, 3, 100);\n          sides = Math.floor(sides);\n\n          const rad = mdVSShapeFrame.rad;\n          const ang = mdVSShapeFrame.ang;\n\n          const x = mdVSShapeFrame.x * 2 - 1;\n          const y = mdVSShapeFrame.y * -2 + 1;\n\n          const r = mdVSShapeFrame.r;\n          const g = mdVSShapeFrame.g;\n          const b = mdVSShapeFrame.b;\n          const a = mdVSShapeFrame.a;\n          const r2 = mdVSShapeFrame.r2;\n          const g2 = mdVSShapeFrame.g2;\n          const b2 = mdVSShapeFrame.b2;\n          const a2 = mdVSShapeFrame.a2;\n\n          const borderR = mdVSShapeFrame.border_r;\n          const borderG = mdVSShapeFrame.border_g;\n          const borderB = mdVSShapeFrame.border_b;\n          const borderA = mdVSShapeFrame.border_a;\n          this.borderColor = [\n            borderR,\n            borderG,\n            borderB,\n            borderA * blendProgress,\n          ];\n\n          const thickoutline = mdVSShapeFrame.thickoutline;\n\n          const textured = mdVSShapeFrame.textured;\n          const texZoom = mdVSShapeFrame.tex_zoom;\n          const texAng = mdVSShapeFrame.tex_ang;\n\n          const additive = mdVSShapeFrame.additive;\n\n          const hasBorder = this.borderColor[3] > 0;\n          const isTextured = Math.abs(textured) >= 1;\n          const isBorderThick = Math.abs(thickoutline) >= 1;\n          const isAdditive = Math.abs(additive) >= 1;\n\n          this.positions[0] = x;\n          this.positions[1] = y;\n          this.positions[2] = 0;\n\n          this.colors[0] = r;\n          this.colors[1] = g;\n          this.colors[2] = b;\n          this.colors[3] = a * blendProgress;\n\n          if (isTextured) {\n            this.uvs[0] = 0.5;\n            this.uvs[1] = 0.5;\n          }\n\n          const quarterPi = Math.PI * 0.25;\n          for (let k = 1; k <= sides + 1; k++) {\n            const p = (k - 1) / sides;\n            const pTwoPi = p * 2 * Math.PI;\n\n            const angSum = pTwoPi + ang + quarterPi;\n            this.positions[k * 3 + 0] =\n              x + rad * Math.cos(angSum) * this.aspecty;\n            this.positions[k * 3 + 1] = y + rad * Math.sin(angSum);\n            this.positions[k * 3 + 2] = 0;\n\n            this.colors[k * 4 + 0] = r2;\n            this.colors[k * 4 + 1] = g2;\n            this.colors[k * 4 + 2] = b2;\n            this.colors[k * 4 + 3] = a2 * blendProgress;\n\n            if (isTextured) {\n              const texAngSum = pTwoPi + texAng + quarterPi;\n              this.uvs[k * 2 + 0] =\n                0.5 + ((0.5 * Math.cos(texAngSum)) / texZoom) * this.aspecty;\n              this.uvs[k * 2 + 1] = 0.5 + (0.5 * Math.sin(texAngSum)) / texZoom;\n            }\n\n            if (hasBorder) {\n              this.borderPositions[(k - 1) * 3 + 0] = this.positions[k * 3 + 0];\n              this.borderPositions[(k - 1) * 3 + 1] = this.positions[k * 3 + 1];\n              this.borderPositions[(k - 1) * 3 + 2] = this.positions[k * 3 + 2];\n            }\n          }\n\n          this.mdVSShapeFrame = mdVSShapeFrame;\n\n          this.drawCustomShapeInstance(\n            prevTexture,\n            sides,\n            isTextured,\n            hasBorder,\n            isBorderThick,\n            isAdditive\n          );\n        }\n\n        const mdVSUserKeysShape =\n          presetEquationRunner.mdVSUserKeysShapes[this.index];\n        const mdVSNewFrameMapShape = Utils.pick(\n          this.mdVSShapeFrame,\n          mdVSUserKeysShape\n        );\n\n        // eslint-disable-next-line no-param-reassign\n        presetEquationRunner.mdVSFrameMapShapes[\n          this.index\n        ] = mdVSNewFrameMapShape;\n      } else {\n        // eslint-disable-next-line max-len\n        this.setupShapeBuffers(\n          presetEquationRunner.preset.globalPools.perFrame.wrap.value\n        );\n\n        const baseVals =\n          presetEquationRunner.preset.shapes[this.index].baseVals;\n        const varPool =\n          presetEquationRunner.preset.globalPools[`shapePerFrame${this.index}`];\n        Utils.setWasm(varPool, globalVars, presetEquationRunner.globalKeys);\n\n        // If we aren't setting these every instance, set them initially\n        if (!presetEquationRunner.preset.shapes[this.index].frame_eqs) {\n          presetEquationRunner.preset.restore_qs();\n        }\n\n        Utils.setWasm(\n          varPool,\n          presetEquationRunner.mdVSTShapeInits[this.index],\n          presetEquationRunner.ts\n        );\n        presetEquationRunner.preset.save_ts();\n\n        varPool.x.value = baseVals.x;\n        varPool.y.value = baseVals.y;\n        varPool.rad.value = baseVals.rad;\n        varPool.ang.value = baseVals.ang;\n        varPool.r.value = baseVals.r;\n        varPool.g.value = baseVals.g;\n        varPool.b.value = baseVals.b;\n        varPool.a.value = baseVals.a;\n        varPool.r2.value = baseVals.r2;\n        varPool.g2.value = baseVals.g2;\n        varPool.b2.value = baseVals.b2;\n        varPool.a2.value = baseVals.a2;\n        varPool.border_r.value = baseVals.border_r;\n        varPool.border_g.value = baseVals.border_g;\n        varPool.border_b.value = baseVals.border_b;\n        varPool.border_a.value = baseVals.border_a;\n        varPool.thickoutline.value = baseVals.thickoutline;\n        varPool.textured.value = baseVals.textured;\n        varPool.tex_zoom.value = baseVals.tex_zoom;\n        varPool.tex_ang.value = baseVals.tex_ang;\n        varPool.additive.value = baseVals.additive;\n        presetEquationRunner.preset.shapes[this.index].frame_eqs_save();\n\n        const numInst = Math.clamp(baseVals.num_inst, 1, 1024);\n        for (let j = 0; j < numInst; j++) {\n          varPool.instance.value = j;\n\n          // this condition should check the JS equations because of comments\n          if (presetEquationRunner.preset.shapes[this.index].frame_eqs) {\n            presetEquationRunner.preset.shapes[this.index].frame_eqs_restore();\n            presetEquationRunner.preset.restore_qs();\n            presetEquationRunner.preset.restore_ts();\n            presetEquationRunner.preset.shapes[this.index].frame_eqs();\n          }\n\n          let sides = varPool.sides.value;\n          sides = Math.clamp(sides, 3, 100);\n          sides = Math.floor(sides);\n\n          const rad = varPool.rad.value;\n          const ang = varPool.ang.value;\n\n          const x = varPool.x.value * 2 - 1;\n          const y = varPool.y.value * -2 + 1;\n\n          const r = varPool.r.value;\n          const g = varPool.g.value;\n          const b = varPool.b.value;\n          const a = varPool.a.value;\n          const r2 = varPool.r2.value;\n          const g2 = varPool.g2.value;\n          const b2 = varPool.b2.value;\n          const a2 = varPool.a2.value;\n\n          const borderR = varPool.border_r.value;\n          const borderG = varPool.border_g.value;\n          const borderB = varPool.border_b.value;\n          const borderA = varPool.border_a.value;\n          this.borderColor = [\n            borderR,\n            borderG,\n            borderB,\n            borderA * blendProgress,\n          ];\n\n          const thickoutline = varPool.thickoutline.value;\n\n          const textured = varPool.textured.value;\n          const texZoom = varPool.tex_zoom.value;\n          const texAng = varPool.tex_ang.value;\n\n          const additive = varPool.additive.value;\n\n          const hasBorder = this.borderColor[3] > 0;\n          const isTextured = Math.abs(textured) >= 1;\n          const isBorderThick = Math.abs(thickoutline) >= 1;\n          const isAdditive = Math.abs(additive) >= 1;\n\n          this.positions[0] = x;\n          this.positions[1] = y;\n          this.positions[2] = 0;\n\n          this.colors[0] = r;\n          this.colors[1] = g;\n          this.colors[2] = b;\n          this.colors[3] = a * blendProgress;\n\n          if (isTextured) {\n            this.uvs[0] = 0.5;\n            this.uvs[1] = 0.5;\n          }\n\n          const quarterPi = Math.PI * 0.25;\n          for (let k = 1; k <= sides + 1; k++) {\n            const p = (k - 1) / sides;\n            const pTwoPi = p * 2 * Math.PI;\n\n            const angSum = pTwoPi + ang + quarterPi;\n            this.positions[k * 3 + 0] =\n              x + rad * Math.cos(angSum) * this.aspecty;\n            this.positions[k * 3 + 1] = y + rad * Math.sin(angSum);\n            this.positions[k * 3 + 2] = 0;\n\n            this.colors[k * 4 + 0] = r2;\n            this.colors[k * 4 + 1] = g2;\n            this.colors[k * 4 + 2] = b2;\n            this.colors[k * 4 + 3] = a2 * blendProgress;\n\n            if (isTextured) {\n              const texAngSum = pTwoPi + texAng + quarterPi;\n              this.uvs[k * 2 + 0] =\n                0.5 + ((0.5 * Math.cos(texAngSum)) / texZoom) * this.aspecty;\n              this.uvs[k * 2 + 1] = 0.5 + (0.5 * Math.sin(texAngSum)) / texZoom;\n            }\n\n            if (hasBorder) {\n              this.borderPositions[(k - 1) * 3 + 0] = this.positions[k * 3 + 0];\n              this.borderPositions[(k - 1) * 3 + 1] = this.positions[k * 3 + 1];\n              this.borderPositions[(k - 1) * 3 + 2] = this.positions[k * 3 + 2];\n            }\n          }\n\n          this.drawCustomShapeInstance(\n            prevTexture,\n            sides,\n            isTextured,\n            hasBorder,\n            isBorderThick,\n            isAdditive\n          );\n        }\n      }\n    }\n  }\n\n  setupShapeBuffers(wrap) {\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.positions,\n      this.gl.DYNAMIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.aPosLocation,\n      3,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.aPosLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, this.colors, this.gl.DYNAMIC_DRAW);\n\n    this.gl.vertexAttribPointer(\n      this.aColorLocation,\n      4,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.aColorLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.uvVertexBuf);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, this.uvs, this.gl.DYNAMIC_DRAW);\n\n    this.gl.vertexAttribPointer(\n      this.aUvLocation,\n      2,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.aUvLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.borderPositionVertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.borderPositions,\n      this.gl.DYNAMIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.aBorderPosLoc,\n      3,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.aBorderPosLoc);\n\n    const wrapping = wrap !== 0 ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE;\n    this.gl.samplerParameteri(\n      this.mainSampler,\n      this.gl.TEXTURE_WRAP_S,\n      wrapping\n    );\n    this.gl.samplerParameteri(\n      this.mainSampler,\n      this.gl.TEXTURE_WRAP_T,\n      wrapping\n    );\n  }\n\n  drawCustomShapeInstance(\n    prevTexture,\n    sides,\n    isTextured,\n    hasBorder,\n    isBorderThick,\n    isAdditive\n  ) {\n    this.gl.useProgram(this.shaderProgram);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n    this.gl.bufferSubData(\n      this.gl.ARRAY_BUFFER,\n      0,\n      this.positions,\n      0,\n      (sides + 2) * 3\n    );\n\n    this.gl.vertexAttribPointer(\n      this.aPosLocation,\n      3,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.aPosLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);\n    this.gl.bufferSubData(\n      this.gl.ARRAY_BUFFER,\n      0,\n      this.colors,\n      0,\n      (sides + 2) * 4\n    );\n\n    this.gl.vertexAttribPointer(\n      this.aColorLocation,\n      4,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.aColorLocation);\n\n    if (isTextured) {\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.uvVertexBuf);\n      this.gl.bufferSubData(\n        this.gl.ARRAY_BUFFER,\n        0,\n        this.uvs,\n        0,\n        (sides + 2) * 2\n      );\n\n      this.gl.vertexAttribPointer(\n        this.aUvLocation,\n        2,\n        this.gl.FLOAT,\n        false,\n        0,\n        0\n      );\n      this.gl.enableVertexAttribArray(this.aUvLocation);\n    }\n\n    this.gl.uniform1f(this.texturedLoc, isTextured ? 1 : 0);\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, prevTexture);\n    this.gl.bindSampler(0, this.mainSampler);\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    if (isAdditive) {\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE);\n    } else {\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n    }\n\n    this.gl.drawArrays(this.gl.TRIANGLE_FAN, 0, sides + 2);\n\n    if (hasBorder) {\n      this.gl.useProgram(this.borderShaderProgram);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.borderPositionVertexBuf);\n      this.gl.bufferSubData(\n        this.gl.ARRAY_BUFFER,\n        0,\n        this.borderPositions,\n        0,\n        (sides + 1) * 3\n      );\n\n      this.gl.vertexAttribPointer(\n        this.aBorderPosLoc,\n        3,\n        this.gl.FLOAT,\n        false,\n        0,\n        0\n      );\n      this.gl.enableVertexAttribArray(this.aBorderPosLoc);\n\n      this.gl.uniform4fv(this.uBorderColorLoc, this.borderColor);\n\n      // TODO: use drawArraysInstanced\n      const instances = isBorderThick ? 4 : 1;\n      for (let i = 0; i < instances; i++) {\n        const offset = 2;\n        if (i === 0) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);\n        } else if (i === 1) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, 0]);\n        } else if (i === 2) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [0, offset / this.texsizeY]);\n        } else if (i === 3) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [\n            offset / this.texsizeX,\n            offset / this.texsizeY,\n          ]);\n        }\n\n        this.gl.drawArrays(this.gl.LINE_STRIP, 0, sides + 1);\n      }\n    }\n  }\n}\n","import ShaderUtils from \"../shaders/shaderUtils\";\n\nexport default class Border {\n  constructor(gl, opts = {}) {\n    this.gl = gl;\n\n    this.positions = new Float32Array(72);\n\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n\n    this.vertexBuf = this.gl.createBuffer();\n  }\n\n  updateGlobals(opts) {\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      in vec3 aPos;\n      void main(void) {\n        gl_Position = vec4(aPos, 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, \"aPos\");\n\n    this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, \"u_color\");\n  }\n\n  addTriangle(offset, point1, point2, point3) {\n    this.positions[offset + 0] = point1[0];\n    this.positions[offset + 1] = point1[1];\n    this.positions[offset + 2] = point1[2];\n\n    this.positions[offset + 3] = point2[0];\n    this.positions[offset + 4] = point2[1];\n    this.positions[offset + 5] = point2[2];\n\n    this.positions[offset + 6] = point3[0];\n    this.positions[offset + 7] = point3[1];\n    this.positions[offset + 8] = point3[2];\n  }\n\n  // based on https://github.com/mrdoob/three.js/blob/master/src/geometries/PlaneGeometry.js\n  generateBorder(borderColor, borderSize, prevBorderSize) {\n    if (borderSize > 0 && borderColor[3] > 0) {\n      const width = 2;\n      const height = 2;\n\n      const widthHalf = width / 2;\n      const heightHalf = height / 2;\n\n      const prevBorderWidth = prevBorderSize / 2;\n      const borderWidth = borderSize / 2 + prevBorderWidth;\n\n      const prevBorderWidthWidth = prevBorderWidth * width;\n      const prevBorderWidthHeight = prevBorderWidth * height;\n      const borderWidthWidth = borderWidth * width;\n      const borderWidthHeight = borderWidth * height;\n\n      // 1st side\n      let point1 = [\n        -widthHalf + prevBorderWidthWidth,\n        -heightHalf + borderWidthHeight,\n        0,\n      ];\n      let point2 = [\n        -widthHalf + prevBorderWidthWidth,\n        heightHalf - borderWidthHeight,\n        0,\n      ];\n      let point3 = [\n        -widthHalf + borderWidthWidth,\n        heightHalf - borderWidthHeight,\n        0,\n      ];\n      let point4 = [\n        -widthHalf + borderWidthWidth,\n        -heightHalf + borderWidthHeight,\n        0,\n      ];\n\n      this.addTriangle(0, point4, point2, point1);\n      this.addTriangle(9, point4, point3, point2);\n\n      // 2nd side\n      point1 = [\n        widthHalf - prevBorderWidthWidth,\n        -heightHalf + borderWidthHeight,\n        0,\n      ];\n      point2 = [\n        widthHalf - prevBorderWidthWidth,\n        heightHalf - borderWidthHeight,\n        0,\n      ];\n      point3 = [\n        widthHalf - borderWidthWidth,\n        heightHalf - borderWidthHeight,\n        0,\n      ];\n      point4 = [\n        widthHalf - borderWidthWidth,\n        -heightHalf + borderWidthHeight,\n        0,\n      ];\n\n      this.addTriangle(18, point1, point2, point4);\n      this.addTriangle(27, point2, point3, point4);\n\n      // Top\n      point1 = [\n        -widthHalf + prevBorderWidthWidth,\n        -heightHalf + prevBorderWidthHeight,\n        0,\n      ];\n      point2 = [\n        -widthHalf + prevBorderWidthWidth,\n        borderWidthHeight - heightHalf,\n        0,\n      ];\n      point3 = [\n        widthHalf - prevBorderWidthWidth,\n        borderWidthHeight - heightHalf,\n        0,\n      ];\n      point4 = [\n        widthHalf - prevBorderWidthWidth,\n        -heightHalf + prevBorderWidthHeight,\n        0,\n      ];\n\n      this.addTriangle(36, point4, point2, point1);\n      this.addTriangle(45, point4, point3, point2);\n\n      // Bottom\n      point1 = [\n        -widthHalf + prevBorderWidthWidth,\n        heightHalf - prevBorderWidthHeight,\n        0,\n      ];\n      point2 = [\n        -widthHalf + prevBorderWidthWidth,\n        heightHalf - borderWidthHeight,\n        0,\n      ];\n      point3 = [\n        widthHalf - prevBorderWidthWidth,\n        heightHalf - borderWidthHeight,\n        0,\n      ];\n      point4 = [\n        widthHalf - prevBorderWidthWidth,\n        heightHalf - prevBorderWidthHeight,\n        0,\n      ];\n\n      this.addTriangle(54, point1, point2, point4);\n      this.addTriangle(63, point2, point3, point4);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  drawBorder(borderColor, borderSize, prevBorderSize) {\n    if (this.generateBorder(borderColor, borderSize, prevBorderSize)) {\n      this.gl.useProgram(this.shaderProgram);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        this.positions,\n        this.gl.STATIC_DRAW\n      );\n\n      this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);\n      this.gl.enableVertexAttribArray(this.aPosLoc);\n\n      this.gl.uniform4fv(this.colorLoc, borderColor);\n\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, this.positions.length / 3);\n    }\n  }\n}\n","import ShaderUtils from \"../shaders/shaderUtils\";\n\nexport default class CustomShape {\n  constructor(gl, opts) {\n    this.gl = gl;\n\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.generatePositions();\n\n    this.colors = new Float32Array([\n      0,\n      0,\n      0,\n      3 / 32,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n    ]);\n\n    this.positionVertexBuf = this.gl.createBuffer();\n    this.colorVertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  updateGlobals(opts) {\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.generatePositions();\n  }\n\n  generatePositions() {\n    const halfSize = 0.05;\n    this.positions = new Float32Array([\n      0,\n      0,\n      0,\n      -halfSize * this.aspecty,\n      0,\n      0,\n      0,\n      -halfSize,\n      0,\n      halfSize * this.aspecty,\n      0,\n      0,\n      0,\n      halfSize,\n      0,\n      -halfSize * this.aspecty,\n      0,\n      0,\n    ]);\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      in vec3 aPos;\n      in vec4 aColor;\n      out vec4 vColor;\n      void main(void) {\n        vColor = aColor;\n        gl_Position = vec4(aPos, 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      in vec4 vColor;\n      out vec4 fragColor;\n      void main(void) {\n        fragColor = vColor;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, \"aPos\");\n    this.aColorLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aColor\"\n    );\n  }\n\n  drawDarkenCenter(mdVSFrame) {\n    if (mdVSFrame.darken_center !== 0) {\n      this.gl.useProgram(this.shaderProgram);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        this.positions,\n        this.gl.STATIC_DRAW\n      );\n\n      this.gl.vertexAttribPointer(\n        this.aPosLocation,\n        3,\n        this.gl.FLOAT,\n        false,\n        0,\n        0\n      );\n      this.gl.enableVertexAttribArray(this.aPosLocation);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        this.colors,\n        this.gl.STATIC_DRAW\n      );\n\n      this.gl.vertexAttribPointer(\n        this.aColorLocation,\n        4,\n        this.gl.FLOAT,\n        false,\n        0,\n        0\n      );\n      this.gl.enableVertexAttribArray(this.aColorLocation);\n\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n      this.gl.drawArrays(this.gl.TRIANGLE_FAN, 0, this.positions.length / 3);\n    }\n  }\n}\n","import ShaderUtils from \"../shaders/shaderUtils\";\n\nexport default class TitleText {\n  constructor(gl, opts = {}) {\n    this.gl = gl;\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.buildPositions();\n\n    this.textTexture = this.gl.createTexture();\n    this.indexBuf = gl.createBuffer();\n    this.positionVertexBuf = this.gl.createBuffer();\n    this.vertexBuf = this.gl.createBuffer();\n\n    if (self.OffscreenCanvas) {\n      this.canvas = new OffscreenCanvas(this.texsizeX, this.texsizeY);\n    } else {\n      this.canvas = document.createElement(\"canvas\");\n      this.canvas.width = this.texsizeX;\n      this.canvas.height = this.texsizeY;\n    }\n    this.context2D = this.canvas.getContext(\n        \"2d\", {willReadFrequently: true}\n    );\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  generateTitleTexture(text) {\n    this.context2D.clearRect(0, 0, this.texsizeX, this.texsizeY);\n\n    this.fontSize = Math.floor(16 * (this.texsizeX / 256));\n    this.fontSize = Math.max(this.fontSize, 6);\n    this.context2D.font = `italic ${this.fontSize}px Times New Roman`;\n\n    let titleText = text;\n    let textLength = this.context2D.measureText(titleText).width;\n    if (textLength > this.texsizeX) {\n      const percentToKeep = 0.91 * (this.texsizeX / textLength);\n      titleText = `${titleText.substring(\n        0,\n        Math.floor(titleText.length * percentToKeep)\n      )}...`;\n      textLength = this.context2D.measureText(titleText).width;\n    }\n\n    this.context2D.fillStyle = \"#FFFFFF\";\n    this.context2D.fillText(\n      titleText,\n      (this.texsizeX - textLength) / 2,\n      this.texsizeY / 2\n    );\n\n    const imageData = new Uint8Array(\n      this.context2D.getImageData(\n        0,\n        0,\n        this.texsizeX,\n        this.texsizeY\n      ).data.buffer\n    );\n\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, true);\n\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.textTexture);\n    this.gl.texImage2D(\n      this.gl.TEXTURE_2D,\n      0,\n      this.gl.RGBA,\n      this.texsizeX,\n      this.texsizeY,\n      0,\n      this.gl.RGBA,\n      this.gl.UNSIGNED_BYTE,\n      imageData\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MAG_FILTER,\n      this.gl.LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MIN_FILTER,\n      this.gl.LINEAR_MIPMAP_LINEAR\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.CLAMP_TO_EDGE\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.CLAMP_TO_EDGE\n    );\n    this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n    this.gl.bindTexture(this.gl.TEXTURE_2D, null);\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.canvas.width = this.texsizeX;\n    this.canvas.height = this.texsizeY;\n  }\n\n  // based on https://github.com/mrdoob/three.js/blob/master/src/geometries/PlaneGeometry.js\n  buildPositions() {\n    const width = 2;\n    const height = 2;\n\n    const widthHalf = width / 2;\n    const heightHalf = height / 2;\n\n    const gridX = 15;\n    const gridY = 7;\n\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n\n    const segmentWidth = width / gridX;\n    const segmentHeight = height / gridY;\n\n    const vertices = [];\n    for (let iy = 0; iy < gridY1; iy++) {\n      const y = iy * segmentHeight - heightHalf;\n      for (let ix = 0; ix < gridX1; ix++) {\n        const x = ix * segmentWidth - widthHalf;\n        vertices.push(x, -y, 0);\n      }\n    }\n\n    const indices = [];\n    for (let iy = 0; iy < gridY; iy++) {\n      for (let ix = 0; ix < gridX; ix++) {\n        const a = ix + gridX1 * iy;\n        const b = ix + gridX1 * (iy + 1);\n        const c = ix + 1 + gridX1 * (iy + 1);\n        const d = ix + 1 + gridX1 * iy;\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    this.vertices = new Float32Array(vertices);\n    this.indices = new Uint16Array(indices);\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       in vec2 aUv;\n       out vec2 uv_orig;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv_orig = aPos * halfmad + halfmad;\n         uv = aUv;\n       }`\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv_orig;\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform float textColor;\n\n       void main(void) {\n         fragColor = texture(uTexture, uv) * vec4(textColor);\n       }`\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.positionLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aPos\"\n    );\n    this.uvLocation = this.gl.getAttribLocation(this.shaderProgram, \"aUv\");\n    this.textureLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"uTexture\"\n    );\n    this.textColorLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"textColor\"\n    );\n  }\n\n  generateUvs(progress, flip, globalVars) {\n    const gridX = 15;\n    const gridY = 7;\n\n    const gridX1 = gridX + 1;\n    const gridY1 = gridY + 1;\n\n    const uvs = [];\n    const vertClip = 0.75;\n    for (let j = 0; j < gridY1; j++) {\n      for (let i = 0; i < gridX1; i++) {\n        const u = i / gridX;\n        const v = (j / gridY - 0.5) * vertClip + 0.5;\n        const x = u * 2.0 - 1.0;\n        let y = v * 2.0 - 1.0;\n        if (progress >= 1) {\n          y += 1.0 / this.texsizeY;\n        }\n\n        uvs.push(x, flip ? y : -y);\n      }\n    }\n\n    const rampedProgress = Math.max(0, 1 - progress * 1.5);\n    const t2 = rampedProgress ** 1.8 * 1.3;\n    for (let j = 0; j < gridY1; j++) {\n      for (let i = 0; i < gridX1; i++) {\n        const idx = j * gridX1 + i;\n        uvs[idx] +=\n          t2 *\n          0.07 *\n          Math.sin(\n            globalVars.time * 0.31 + uvs[idx] * 0.39 - uvs[idx + 1] * 1.94\n          );\n        uvs[idx] +=\n          t2 *\n          0.044 *\n          Math.sin(\n            globalVars.time * 0.81 - uvs[idx] * 1.91 + uvs[idx + 1] * 0.27\n          );\n        uvs[idx] +=\n          t2 *\n          0.061 *\n          Math.sin(\n            globalVars.time * 1.31 + uvs[idx] * 0.61 + uvs[idx + 1] * 0.74\n          );\n\n        uvs[idx + 1] +=\n          t2 *\n          0.061 *\n          Math.sin(\n            globalVars.time * 0.37 + uvs[idx] * 1.83 + uvs[idx + 1] * 0.69\n          );\n        uvs[idx + 1] +=\n          t2 *\n          0.07 *\n          Math.sin(\n            globalVars.time * 0.67 + uvs[idx] * 0.42 - uvs[idx + 1] * 1.39\n          );\n        uvs[idx + 1] +=\n          t2 *\n          0.087 *\n          Math.sin(\n            globalVars.time * 1.07 + uvs[idx] * 3.55 + uvs[idx + 1] * 0.89\n          );\n      }\n    }\n\n    const scale = 1.01 / (progress ** 0.21 + 0.01);\n    for (let i = 0; i < uvs.length / 2; i++) {\n      uvs[i * 2] *= scale;\n      uvs[i * 2 + 1] *= scale * this.invAspecty;\n\n      // get back UVs\n      uvs[i * 2] = (uvs[i * 2] + 1) / 2.0;\n      uvs[i * 2 + 1] = (uvs[i * 2 + 1] + 1) / 2.0;\n    }\n\n    return new Float32Array(uvs);\n  }\n\n  renderTitle(progress, flip, globalVars) {\n    this.gl.useProgram(this.shaderProgram);\n\n    const progressUvs = this.generateUvs(progress, flip, globalVars);\n\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf);\n    this.gl.bufferData(\n      this.gl.ELEMENT_ARRAY_BUFFER,\n      this.indices,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      this.vertices,\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.vertexAttribPointer(\n      this.positionLocation,\n      3,\n      this.gl.FLOAT,\n      false,\n      0,\n      0\n    );\n    this.gl.enableVertexAttribArray(this.positionLocation);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, progressUvs, this.gl.STATIC_DRAW);\n\n    this.gl.vertexAttribPointer(this.uvLocation, 2, this.gl.FLOAT, false, 0, 0);\n    this.gl.enableVertexAttribArray(this.uvLocation);\n\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.textTexture);\n\n    this.gl.uniform1i(this.textureLoc, 0);\n\n    this.gl.uniform1f(this.textColorLoc, progress ** 0.3);\n\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n    this.gl.drawElements(\n      this.gl.TRIANGLES,\n      this.indices.length,\n      this.gl.UNSIGNED_SHORT,\n      0\n    );\n  }\n}\n","import ShaderUtils from \"../shaders/shaderUtils\";\nimport WaveUtils from \"./waveUtils\";\n\nexport default class BasicWaveform {\n  constructor(gl, opts = {}) {\n    this.gl = gl;\n\n    const numAudioSamples = 512;\n    this.positions = new Float32Array(numAudioSamples * 3);\n    this.positions2 = new Float32Array(numAudioSamples * 3);\n    this.oldPositions = new Float32Array(numAudioSamples * 3);\n    this.oldPositions2 = new Float32Array(numAudioSamples * 3);\n    this.smoothedPositions = new Float32Array((numAudioSamples * 2 - 1) * 3);\n    this.smoothedPositions2 = new Float32Array((numAudioSamples * 2 - 1) * 3);\n    this.color = [0, 0, 0, 1];\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n\n    this.vertexBuf = this.gl.createBuffer();\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      in vec3 aPos;\n      uniform vec2 thickOffset;\n      void main(void) {\n        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, \"aPos\");\n\n    this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, \"u_color\");\n    this.thickOffsetLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"thickOffset\"\n    );\n  }\n\n  static processWaveform(timeArray, mdVSFrame) {\n    const waveform = [];\n\n    const scale = mdVSFrame.wave_scale / 128.0;\n    const smooth = mdVSFrame.wave_smoothing;\n    const smooth2 = scale * (1.0 - smooth);\n\n    waveform.push(timeArray[0] * scale);\n    for (let i = 1; i < timeArray.length; i++) {\n      waveform.push(timeArray[i] * smooth2 + waveform[i - 1] * smooth);\n    }\n\n    return waveform;\n  }\n\n  generateWaveform(blending, blendProgress, timeArrayL, timeArrayR, mdVSFrame) {\n    let alpha = mdVSFrame.wave_a;\n    const vol = (mdVSFrame.bass + mdVSFrame.mid + mdVSFrame.treb) / 3.0;\n\n    if (vol > -0.01 && alpha > 0.001 && timeArrayL.length > 0) {\n      const waveL = BasicWaveform.processWaveform(timeArrayL, mdVSFrame);\n      const waveR = BasicWaveform.processWaveform(timeArrayR, mdVSFrame);\n\n      const newWaveMode = Math.floor(mdVSFrame.wave_mode) % 8;\n      const oldWaveMode = Math.floor(mdVSFrame.old_wave_mode) % 8;\n\n      const wavePosX = mdVSFrame.wave_x * 2.0 - 1.0;\n      const wavePosY = mdVSFrame.wave_y * 2.0 - 1.0;\n\n      this.numVert = 0;\n      this.oldNumVert = 0;\n\n      const its = blending && newWaveMode !== oldWaveMode ? 2 : 1;\n      for (let it = 0; it < its; it++) {\n        const waveMode = it === 0 ? newWaveMode : oldWaveMode;\n\n        let fWaveParam2 = mdVSFrame.wave_mystery;\n        if (\n          (waveMode === 0 || waveMode === 1 || waveMode === 4) &&\n          (fWaveParam2 < -1 || fWaveParam2 > 1)\n        ) {\n          fWaveParam2 = fWaveParam2 * 0.5 + 0.5;\n          fWaveParam2 -= Math.floor(fWaveParam2);\n          fWaveParam2 = Math.abs(fWaveParam2);\n          fWaveParam2 = fWaveParam2 * 2 - 1;\n        }\n\n        let numVert;\n        let positions;\n        let positions2;\n        if (it === 0) {\n          positions = this.positions;\n          positions2 = this.positions2;\n        } else {\n          positions = this.oldPositions;\n          positions2 = this.oldPositions2;\n        }\n\n        alpha = mdVSFrame.wave_a;\n        if (waveMode === 0) {\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          numVert = Math.floor(waveL.length / 2) + 1;\n          const numVertInv = 1.0 / (numVert - 1);\n          const sampleOffset = Math.floor((waveL.length - numVert) / 2);\n          for (let i = 0; i < numVert - 1; i++) {\n            let rad = 0.5 + 0.4 * waveR[i + sampleOffset] + fWaveParam2;\n            const ang = i * numVertInv * 2 * Math.PI + mdVSFrame.time * 0.2;\n\n            if (i < numVert / 10) {\n              let mix = i / (numVert * 0.1);\n              mix = 0.5 - 0.5 * Math.cos(mix * Math.PI);\n              const rad2 =\n                0.5 + 0.4 * waveR[i + numVert + sampleOffset] + fWaveParam2;\n              rad = (1.0 - mix) * rad2 + rad * mix;\n            }\n\n            positions[i * 3 + 0] =\n              rad * Math.cos(ang) * this.aspecty + wavePosX;\n            positions[i * 3 + 1] =\n              rad * Math.sin(ang) * this.aspectx + wavePosY;\n            positions[i * 3 + 2] = 0;\n          }\n\n          // connect the loop\n          positions[(numVert - 1) * 3 + 0] = positions[0];\n          positions[(numVert - 1) * 3 + 1] = positions[1];\n          positions[(numVert - 1) * 3 + 2] = 0;\n        } else if (waveMode === 1) {\n          alpha *= 1.25;\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          numVert = Math.floor(waveL.length / 2);\n          for (let i = 0; i < numVert; i++) {\n            const rad = 0.53 + 0.43 * waveR[i] + fWaveParam2;\n            const ang = waveL[i + 32] * 0.5 * Math.PI + mdVSFrame.time * 2.3;\n\n            positions[i * 3 + 0] =\n              rad * Math.cos(ang) * this.aspecty + wavePosX;\n            positions[i * 3 + 1] =\n              rad * Math.sin(ang) * this.aspectx + wavePosY;\n            positions[i * 3 + 2] = 0;\n          }\n        } else if (waveMode === 2) {\n          if (this.texsizeX < 1024) {\n            alpha *= 0.09;\n          } else if (this.texsizeX >= 1024 && this.texsizeX < 2048) {\n            alpha *= 0.11;\n          } else {\n            alpha *= 0.13;\n          }\n\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          numVert = waveL.length;\n          for (let i = 0; i < waveL.length; i++) {\n            positions[i * 3 + 0] = waveR[i] * this.aspecty + wavePosX;\n            positions[i * 3 + 1] =\n              waveL[(i + 32) % waveL.length] * this.aspectx + wavePosY;\n            positions[i * 3 + 2] = 0;\n          }\n        } else if (waveMode === 3) {\n          if (this.texsizeX < 1024) {\n            alpha *= 0.15;\n          } else if (this.texsizeX >= 1024 && this.texsizeX < 2048) {\n            alpha *= 0.22;\n          } else {\n            alpha *= 0.33;\n          }\n\n          alpha *= 1.3;\n          alpha *= mdVSFrame.treb * mdVSFrame.treb; // should be treb_imm\n\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          numVert = waveL.length;\n          for (let i = 0; i < waveL.length; i++) {\n            positions[i * 3 + 0] = waveR[i] * this.aspecty + wavePosX;\n            positions[i * 3 + 1] =\n              waveL[(i + 32) % waveL.length] * this.aspectx + wavePosY;\n            positions[i * 3 + 2] = 0;\n          }\n        } else if (waveMode === 4) {\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          numVert = waveL.length;\n          if (numVert > this.texsizeX / 3) {\n            numVert = Math.floor(this.texsizeX / 3);\n          }\n          const numVertInv = 1.0 / numVert;\n          const sampleOffset = Math.floor((waveL.length - numVert) / 2);\n\n          const w1 = 0.45 + 0.5 * (fWaveParam2 * 0.5 + 0.5);\n          const w2 = 1.0 - w1;\n          for (let i = 0; i < numVert; i++) {\n            let x =\n              2.0 * i * numVertInv +\n              (wavePosX - 1) +\n              waveR[(i + 25 + sampleOffset) % waveL.length] * 0.44;\n            let y = waveL[i + sampleOffset] * 0.47 + wavePosY;\n\n            // momentum\n            if (i > 1) {\n              x =\n                x * w2 +\n                w1 *\n                  (positions[(i - 1) * 3 + 0] * 2.0 -\n                    positions[(i - 2) * 3 + 0]);\n              y =\n                y * w2 +\n                w1 *\n                  (positions[(i - 1) * 3 + 1] * 2.0 -\n                    positions[(i - 2) * 3 + 1]);\n            }\n\n            positions[i * 3 + 0] = x;\n            positions[i * 3 + 1] = y;\n            positions[i * 3 + 2] = 0;\n          }\n        } else if (waveMode === 5) {\n          if (this.texsizeX < 1024) {\n            alpha *= 0.09;\n          } else if (this.texsizeX >= 1024 && this.texsizeX < 2048) {\n            alpha *= 0.11;\n          } else {\n            alpha *= 0.13;\n          }\n\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          const cosRot = Math.cos(mdVSFrame.time * 0.3);\n          const sinRot = Math.sin(mdVSFrame.time * 0.3);\n\n          numVert = waveL.length;\n          for (let i = 0; i < waveL.length; i++) {\n            const ioff = (i + 32) % waveL.length;\n            const x0 = waveR[i] * waveL[ioff] + waveL[i] * waveR[ioff];\n            const y0 = waveR[i] * waveR[i] - waveL[ioff] * waveL[ioff];\n\n            positions[i * 3 + 0] =\n              (x0 * cosRot - y0 * sinRot) * (this.aspecty + wavePosX);\n            positions[i * 3 + 1] =\n              (x0 * sinRot + y0 * cosRot) * (this.aspectx + wavePosY);\n            positions[i * 3 + 2] = 0;\n          }\n        } else if (waveMode === 6 || waveMode === 7) {\n          if (mdVSFrame.modwavealphabyvolume > 0) {\n            const alphaDiff =\n              mdVSFrame.modwavealphaend - mdVSFrame.modwavealphastart;\n            alpha *= (vol - mdVSFrame.modwavealphastart) / alphaDiff;\n          }\n          alpha = Math.clamp(alpha, 0, 1);\n\n          numVert = Math.floor(waveL.length / 2);\n          if (numVert > this.texsizeX / 3) {\n            numVert = Math.floor(this.texsizeX / 3);\n          }\n          const sampleOffset = Math.floor((waveL.length - numVert) / 2);\n\n          const ang = Math.PI * 0.5 * fWaveParam2;\n          let dx = Math.cos(ang);\n          let dy = Math.sin(ang);\n\n          const edgex = [\n            wavePosX * Math.cos(ang + Math.PI * 0.5) - dx * 3.0,\n            wavePosX * Math.cos(ang + Math.PI * 0.5) + dx * 3.0,\n          ];\n          const edgey = [\n            wavePosX * Math.sin(ang + Math.PI * 0.5) - dy * 3.0,\n            wavePosX * Math.sin(ang + Math.PI * 0.5) + dy * 3.0,\n          ];\n\n          for (let i = 0; i < 2; i++) {\n            for (let j = 0; j < 4; j++) {\n              let t;\n              let bClip = false;\n\n              switch (j) {\n                case 0:\n                  if (edgex[i] > 1.1) {\n                    t = (1.1 - edgex[1 - i]) / (edgex[i] - edgex[1 - i]);\n                    bClip = true;\n                  }\n                  break;\n                case 1:\n                  if (edgex[i] < -1.1) {\n                    t = (-1.1 - edgex[1 - i]) / (edgex[i] - edgex[1 - i]);\n                    bClip = true;\n                  }\n                  break;\n                case 2:\n                  if (edgey[i] > 1.1) {\n                    t = (1.1 - edgey[1 - i]) / (edgey[i] - edgey[1 - i]);\n                    bClip = true;\n                  }\n                  break;\n                case 3:\n                  if (edgey[i] < -1.1) {\n                    t = (-1.1 - edgey[1 - i]) / (edgey[i] - edgey[1 - i]);\n                    bClip = true;\n                  }\n                  break;\n                default:\n              }\n\n              if (bClip) {\n                const dxi = edgex[i] - edgex[1 - i];\n                const dyi = edgey[i] - edgey[1 - i];\n                edgex[i] = edgex[1 - i] + dxi * t;\n                edgey[i] = edgey[1 - i] + dyi * t;\n              }\n            }\n          }\n\n          dx = (edgex[1] - edgex[0]) / numVert;\n          dy = (edgey[1] - edgey[0]) / numVert;\n\n          const ang2 = Math.atan2(dy, dx);\n          const perpDx = Math.cos(ang2 + Math.PI * 0.5);\n          const perpDy = Math.sin(ang2 + Math.PI * 0.5);\n\n          if (waveMode === 6) {\n            for (let i = 0; i < numVert; i++) {\n              const sample = waveL[i + sampleOffset];\n              positions[i * 3 + 0] = edgex[0] + dx * i + perpDx * 0.25 * sample;\n              positions[i * 3 + 1] = edgey[0] + dy * i + perpDy * 0.25 * sample;\n              positions[i * 3 + 2] = 0;\n            }\n          } else if (waveMode === 7) {\n            const sep = (wavePosY * 0.5 + 0.5) ** 2;\n            for (let i = 0; i < numVert; i++) {\n              const sample = waveL[i + sampleOffset];\n              positions[i * 3 + 0] =\n                edgex[0] + dx * i + perpDx * (0.25 * sample + sep);\n              positions[i * 3 + 1] =\n                edgey[0] + dy * i + perpDy * (0.25 * sample + sep);\n              positions[i * 3 + 2] = 0;\n            }\n\n            for (let i = 0; i < numVert; i++) {\n              const sample = waveR[i + sampleOffset];\n              positions2[i * 3 + 0] =\n                edgex[0] + dx * i + perpDx * (0.25 * sample - sep);\n              positions2[i * 3 + 1] =\n                edgey[0] + dy * i + perpDy * (0.25 * sample - sep);\n              positions2[i * 3 + 2] = 0;\n            }\n          }\n        }\n\n        if (it === 0) {\n          this.positions = positions;\n          this.positions2 = positions2;\n          this.numVert = numVert;\n          this.alpha = alpha;\n        } else {\n          this.oldPositions = positions;\n          this.oldPositions2 = positions2;\n          this.oldNumVert = numVert;\n          this.oldAlpha = alpha;\n        }\n      }\n\n      const mix = 0.5 - 0.5 * Math.cos(blendProgress * Math.PI);\n      const mix2 = 1 - mix;\n\n      if (this.oldNumVert > 0) {\n        alpha = mix * this.alpha + mix2 * this.oldAlpha;\n      }\n\n      let r = Math.clamp(mdVSFrame.wave_r, 0, 1);\n      let g = Math.clamp(mdVSFrame.wave_g, 0, 1);\n      let b = Math.clamp(mdVSFrame.wave_b, 0, 1);\n\n      if (mdVSFrame.wave_brighten !== 0) {\n        const maxc = Math.max(r, g, b);\n        if (maxc > 0.01) {\n          r /= maxc;\n          g /= maxc;\n          b /= maxc;\n        }\n      }\n\n      this.color = [r, g, b, alpha];\n\n      if (this.oldNumVert > 0) {\n        if (newWaveMode === 7) {\n          const m = (this.oldNumVert - 1) / (this.numVert * 2);\n          for (let i = 0; i < this.numVert; i++) {\n            const fIdx = i * m;\n            const nIdx = Math.floor(fIdx);\n            const t = fIdx - nIdx;\n\n            const x =\n              this.oldPositions[nIdx * 3 + 0] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 0] * t;\n            const y =\n              this.oldPositions[nIdx * 3 + 1] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 1] * t;\n\n            this.positions[i * 3 + 0] =\n              this.positions[i * 3 + 0] * mix + x * mix2;\n            this.positions[i * 3 + 1] =\n              this.positions[i * 3 + 1] * mix + y * mix2;\n            this.positions[i * 3 + 2] = 0;\n          }\n\n          for (let i = 0; i < this.numVert; i++) {\n            const fIdx = (i + this.numVert) * m;\n            const nIdx = Math.floor(fIdx);\n            const t = fIdx - nIdx;\n\n            const x =\n              this.oldPositions[nIdx * 3 + 0] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 0] * t;\n            const y =\n              this.oldPositions[nIdx * 3 + 1] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 1] * t;\n\n            this.positions2[i * 3 + 0] =\n              this.positions2[i * 3 + 0] * mix + x * mix2;\n            this.positions2[i * 3 + 1] =\n              this.positions2[i * 3 + 1] * mix + y * mix2;\n            this.positions2[i * 3 + 2] = 0;\n          }\n        } else if (oldWaveMode === 7) {\n          const halfNumVert = this.numVert / 2;\n          const m = (this.oldNumVert - 1) / halfNumVert;\n          for (let i = 0; i < halfNumVert; i++) {\n            const fIdx = i * m;\n            const nIdx = Math.floor(fIdx);\n            const t = fIdx - nIdx;\n\n            const x =\n              this.oldPositions[nIdx * 3 + 0] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 0] * t;\n            const y =\n              this.oldPositions[nIdx * 3 + 1] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 1] * t;\n\n            this.positions[i * 3 + 0] =\n              this.positions[i * 3 + 0] * mix + x * mix2;\n            this.positions[i * 3 + 1] =\n              this.positions[i * 3 + 1] * mix + y * mix2;\n            this.positions[i * 3 + 2] = 0;\n          }\n\n          for (let i = 0; i < halfNumVert; i++) {\n            const fIdx = i * m;\n            const nIdx = Math.floor(fIdx);\n            const t = fIdx - nIdx;\n\n            const x =\n              this.oldPositions2[nIdx * 3 + 0] * (1 - t) +\n              this.oldPositions2[(nIdx + 1) * 3 + 0] * t;\n            const y =\n              this.oldPositions2[nIdx * 3 + 1] * (1 - t) +\n              this.oldPositions2[(nIdx + 1) * 3 + 1] * t;\n\n            this.positions2[i * 3 + 0] =\n              this.positions[(i + halfNumVert) * 3 + 0] * mix + x * mix2;\n            this.positions2[i * 3 + 1] =\n              this.positions[(i + halfNumVert) * 3 + 1] * mix + y * mix2;\n            this.positions2[i * 3 + 2] = 0;\n          }\n        } else {\n          const m = (this.oldNumVert - 1) / this.numVert;\n          for (let i = 0; i < this.numVert; i++) {\n            const fIdx = i * m;\n            const nIdx = Math.floor(fIdx);\n            const t = fIdx - nIdx;\n\n            const x =\n              this.oldPositions[nIdx * 3 + 0] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 0] * t;\n            const y =\n              this.oldPositions[nIdx * 3 + 1] * (1 - t) +\n              this.oldPositions[(nIdx + 1) * 3 + 1] * t;\n\n            this.positions[i * 3 + 0] =\n              this.positions[i * 3 + 0] * mix + x * mix2;\n            this.positions[i * 3 + 1] =\n              this.positions[i * 3 + 1] * mix + y * mix2;\n            this.positions[i * 3 + 2] = 0;\n          }\n        }\n      }\n\n      for (let i = 0; i < this.numVert; i++) {\n        this.positions[i * 3 + 1] = -this.positions[i * 3 + 1];\n      }\n\n      this.smoothedNumVert = this.numVert * 2 - 1;\n      WaveUtils.smoothWave(\n        this.positions,\n        this.smoothedPositions,\n        this.numVert\n      );\n\n      if (newWaveMode === 7 || oldWaveMode === 7) {\n        for (let i = 0; i < this.numVert; i++) {\n          this.positions2[i * 3 + 1] = -this.positions2[i * 3 + 1];\n        }\n\n        WaveUtils.smoothWave(\n          this.positions2,\n          this.smoothedPositions2,\n          this.numVert\n        );\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  drawBasicWaveform(\n    blending,\n    blendProgress,\n    timeArrayL,\n    timeArrayR,\n    mdVSFrame\n  ) {\n    if (\n      this.generateWaveform(\n        blending,\n        blendProgress,\n        timeArrayL,\n        timeArrayR,\n        mdVSFrame\n      )\n    ) {\n      this.gl.useProgram(this.shaderProgram);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        this.smoothedPositions,\n        this.gl.STATIC_DRAW\n      );\n\n      this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, false, 0, 0);\n      this.gl.enableVertexAttribArray(this.aPosLoc);\n\n      this.gl.uniform4fv(this.colorLoc, this.color);\n\n      let instances = 1;\n      if (mdVSFrame.wave_thick !== 0 || mdVSFrame.wave_dots !== 0) {\n        instances = 4;\n      }\n\n      if (mdVSFrame.additivewave !== 0) {\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE);\n      } else {\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n      }\n\n      const drawMode =\n        mdVSFrame.wave_dots !== 0 ? this.gl.POINTS : this.gl.LINE_STRIP;\n\n      // TODO: use drawArraysInstanced\n      for (let i = 0; i < instances; i++) {\n        const offset = 2;\n        if (i === 0) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);\n        } else if (i === 1) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, 0]);\n        } else if (i === 2) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [0, offset / this.texsizeY]);\n        } else if (i === 3) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [\n            offset / this.texsizeX,\n            offset / this.texsizeY,\n          ]);\n        }\n\n        this.gl.drawArrays(drawMode, 0, this.smoothedNumVert);\n      }\n\n      const waveMode = Math.floor(mdVSFrame.wave_mode) % 8;\n      if (waveMode === 7) {\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf);\n        this.gl.bufferData(\n          this.gl.ARRAY_BUFFER,\n          this.smoothedPositions2,\n          this.gl.STATIC_DRAW\n        );\n\n        this.gl.vertexAttribPointer(\n          this.aPosLoc,\n          3,\n          this.gl.FLOAT,\n          false,\n          0,\n          0\n        );\n        this.gl.enableVertexAttribArray(this.aPosLoc);\n\n        for (let i = 0; i < instances; i++) {\n          const offset = 2;\n          if (i === 0) {\n            this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);\n          } else if (i === 1) {\n            this.gl.uniform2fv(this.thickOffsetLoc, [\n              offset / this.texsizeX,\n              0,\n            ]);\n          } else if (i === 2) {\n            this.gl.uniform2fv(this.thickOffsetLoc, [\n              0,\n              offset / this.texsizeY,\n            ]);\n          } else if (i === 3) {\n            this.gl.uniform2fv(this.thickOffsetLoc, [\n              offset / this.texsizeX,\n              offset / this.texsizeY,\n            ]);\n          }\n\n          this.gl.drawArrays(drawMode, 0, this.smoothedNumVert);\n        }\n      }\n    }\n  }\n}\n","import Utils from \"../../utils\";\nimport ShaderUtils from \"../shaders/shaderUtils\";\nimport WaveUtils from \"./waveUtils\";\n\nexport default class CustomWaveform {\n  constructor(index, gl, opts) {\n    this.index = index;\n    this.gl = gl;\n\n    const maxSamples = 512;\n    this.pointsData = [\n      new Float32Array(maxSamples),\n      new Float32Array(maxSamples),\n    ];\n    this.positions = new Float32Array(maxSamples * 3);\n    this.colors = new Float32Array(maxSamples * 4);\n    this.smoothedPositions = new Float32Array((maxSamples * 2 - 1) * 3);\n    this.smoothedColors = new Float32Array((maxSamples * 2 - 1) * 4);\n\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n\n    this.positionVertexBuf = this.gl.createBuffer();\n    this.colorVertexBuf = this.gl.createBuffer();\n\n    this.floatPrecision = ShaderUtils.getFragmentFloatPrecision(this.gl);\n    this.createShader();\n  }\n\n  updateGlobals(opts) {\n    this.texsizeX = opts.texsizeX;\n    this.texsizeY = opts.texsizeY;\n    this.mesh_width = opts.mesh_width;\n    this.mesh_height = opts.mesh_height;\n    this.aspectx = opts.aspectx;\n    this.aspecty = opts.aspecty;\n    this.invAspectx = 1.0 / this.aspectx;\n    this.invAspecty = 1.0 / this.aspecty;\n  }\n\n  createShader() {\n    this.shaderProgram = this.gl.createProgram();\n\n    const vertShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(\n      vertShader,\n      `\n      #version 300 es\n      uniform float uSize;\n      uniform vec2 thickOffset;\n      in vec3 aPos;\n      in vec4 aColor;\n      out vec4 vColor;\n      void main(void) {\n        vColor = aColor;\n        gl_PointSize = uSize;\n        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n      }\n      `.trim()\n    );\n    this.gl.compileShader(vertShader);\n\n    const fragShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(\n      fragShader,\n      `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      in vec4 vColor;\n      out vec4 fragColor;\n      void main(void) {\n        fragColor = vColor;\n      }\n      `.trim()\n    );\n    this.gl.compileShader(fragShader);\n\n    this.gl.attachShader(this.shaderProgram, vertShader);\n    this.gl.attachShader(this.shaderProgram, fragShader);\n    this.gl.linkProgram(this.shaderProgram);\n\n    this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, \"aPos\");\n    this.aColorLocation = this.gl.getAttribLocation(\n      this.shaderProgram,\n      \"aColor\"\n    );\n\n    this.sizeLoc = this.gl.getUniformLocation(this.shaderProgram, \"uSize\");\n    this.thickOffsetLoc = this.gl.getUniformLocation(\n      this.shaderProgram,\n      \"thickOffset\"\n    );\n  }\n\n  generateWaveform(\n    timeArrayL,\n    timeArrayR,\n    freqArrayL,\n    freqArrayR,\n    globalVars,\n    presetEquationRunner,\n    waveEqs,\n    alphaMult\n  ) {\n    if (waveEqs.baseVals.enabled !== 0 && timeArrayL.length > 0) {\n      let mdVSWaveFrame;\n      if (presetEquationRunner.preset.useWASM) {\n        mdVSWaveFrame = presetEquationRunner.runWaveFrameEquations(\n          this.index,\n          globalVars\n        );\n      } else {\n        const mdVSWave = Object.assign(\n          {},\n          presetEquationRunner.mdVSWaves[this.index],\n          presetEquationRunner.mdVSFrameMapWaves[this.index],\n          presetEquationRunner.mdVSQAfterFrame,\n          presetEquationRunner.mdVSTWaveInits[this.index],\n          globalVars\n        );\n\n        mdVSWaveFrame = presetEquationRunner.runWaveFrameEquations(\n          this.index,\n          mdVSWave\n        );\n      }\n\n      const maxSamples = 512;\n      if (Object.prototype.hasOwnProperty.call(mdVSWaveFrame, \"samples\")) {\n        this.samples = mdVSWaveFrame.samples;\n      } else {\n        this.samples = maxSamples;\n      }\n\n      if (this.samples > maxSamples) {\n        this.samples = maxSamples;\n      }\n      this.samples = Math.floor(this.samples);\n\n      const baseVals = presetEquationRunner.preset.waves[this.index].baseVals;\n\n      const sep = Math.floor(mdVSWaveFrame.sep);\n      const scaling = mdVSWaveFrame.scaling;\n      const spectrum = mdVSWaveFrame.spectrum;\n      const smoothing = mdVSWaveFrame.smoothing;\n      const usedots = baseVals.usedots;\n\n      const frameR = mdVSWaveFrame.r;\n      const frameG = mdVSWaveFrame.g;\n      const frameB = mdVSWaveFrame.b;\n      const frameA = mdVSWaveFrame.a;\n\n      const waveScale = presetEquationRunner.preset.baseVals.wave_scale;\n\n      this.samples -= sep;\n\n      if (this.samples >= 2 || (usedots !== 0 && this.samples >= 1)) {\n        const useSpectrum = spectrum !== 0;\n        const scale = (useSpectrum ? 0.15 : 0.004) * scaling * waveScale;\n        const pointsLeft = useSpectrum ? freqArrayL : timeArrayL;\n        const pointsRight = useSpectrum ? freqArrayR : timeArrayR;\n\n        const j0 = useSpectrum\n          ? 0\n          : Math.floor((maxSamples - this.samples) / 2 - sep / 2);\n        const j1 = useSpectrum\n          ? 0\n          : Math.floor((maxSamples - this.samples) / 2 + sep / 2);\n        const t = useSpectrum ? (maxSamples - sep) / this.samples : 1;\n        const mix1 = (smoothing * 0.98) ** 0.5;\n        const mix2 = 1 - mix1;\n\n        // Milkdrop smooths waveform forward, backward and then scales\n        this.pointsData[0][0] = pointsLeft[j0];\n        this.pointsData[1][0] = pointsRight[j1];\n        for (let j = 1; j < this.samples; j++) {\n          const left = pointsLeft[Math.floor(j * t + j0)];\n          const right = pointsRight[Math.floor(j * t + j1)];\n          this.pointsData[0][j] =\n            left * mix2 + this.pointsData[0][j - 1] * mix1;\n          this.pointsData[1][j] =\n            right * mix2 + this.pointsData[1][j - 1] * mix1;\n        }\n        for (let j = this.samples - 2; j >= 0; j--) {\n          this.pointsData[0][j] =\n            this.pointsData[0][j] * mix2 + this.pointsData[0][j + 1] * mix1;\n          this.pointsData[1][j] =\n            this.pointsData[1][j] * mix2 + this.pointsData[1][j + 1] * mix1;\n        }\n        for (let j = 0; j < this.samples; j++) {\n          this.pointsData[0][j] *= scale;\n          this.pointsData[1][j] *= scale;\n        }\n\n        if (!presetEquationRunner.preset.useWASM) {\n          for (let j = 0; j < this.samples; j++) {\n            const value1 = this.pointsData[0][j];\n            const value2 = this.pointsData[1][j];\n\n            mdVSWaveFrame.sample = j / (this.samples - 1);\n            mdVSWaveFrame.value1 = value1;\n            mdVSWaveFrame.value2 = value2;\n            mdVSWaveFrame.x = 0.5 + value1;\n            mdVSWaveFrame.y = 0.5 + value2;\n            mdVSWaveFrame.r = frameR;\n            mdVSWaveFrame.g = frameG;\n            mdVSWaveFrame.b = frameB;\n            mdVSWaveFrame.a = frameA;\n\n            if (waveEqs.point_eqs !== \"\") {\n              mdVSWaveFrame = presetEquationRunner.runWavePointEquations(\n                this.index,\n                mdVSWaveFrame\n              );\n            }\n\n            const x = (mdVSWaveFrame.x * 2 - 1) * this.invAspectx;\n            const y = (mdVSWaveFrame.y * -2 + 1) * this.invAspecty;\n            const r = mdVSWaveFrame.r;\n            const g = mdVSWaveFrame.g;\n            const b = mdVSWaveFrame.b;\n            const a = mdVSWaveFrame.a;\n\n            this.positions[j * 3 + 0] = x;\n            this.positions[j * 3 + 1] = y;\n            this.positions[j * 3 + 2] = 0;\n\n            this.colors[j * 4 + 0] = r;\n            this.colors[j * 4 + 1] = g;\n            this.colors[j * 4 + 2] = b;\n            this.colors[j * 4 + 3] = a * alphaMult;\n          }\n        } else {\n          const varPool =\n            presetEquationRunner.preset.globalPools[\n              `wavePerFrame${this.index}`\n            ];\n          for (let j = 0; j < this.samples; j++) {\n            const value1 = this.pointsData[0][j];\n            const value2 = this.pointsData[1][j];\n\n            varPool.sample.value = j / (this.samples - 1);\n            varPool.value1.value = value1;\n            varPool.value2.value = value2;\n            varPool.x.value = 0.5 + value1;\n            varPool.y.value = 0.5 + value2;\n            varPool.r.value = frameR;\n            varPool.g.value = frameG;\n            varPool.b.value = frameB;\n            varPool.a.value = frameA;\n\n            if (waveEqs.point_eqs) {\n              presetEquationRunner.preset.waves[this.index].point_eqs();\n            }\n\n            const x = (varPool.x.value * 2 - 1) * this.invAspectx;\n            const y = (varPool.y.value * -2 + 1) * this.invAspecty;\n            const r = varPool.r.value;\n            const g = varPool.g.value;\n            const b = varPool.b.value;\n            const a = varPool.a.value;\n\n            this.positions[j * 3 + 0] = x;\n            this.positions[j * 3 + 1] = y;\n            this.positions[j * 3 + 2] = 0;\n\n            this.colors[j * 4 + 0] = r;\n            this.colors[j * 4 + 1] = g;\n            this.colors[j * 4 + 2] = b;\n            this.colors[j * 4 + 3] = a * alphaMult;\n          }\n        }\n\n        // this needs to be after per point (check fishbrain - witchcraft)\n        if (!presetEquationRunner.preset.useWASM) {\n          const mdvsUserKeysWave =\n            presetEquationRunner.mdVSUserKeysWaves[this.index];\n          const mdVSNewFrameMapWave = Utils.pick(\n            mdVSWaveFrame,\n            mdvsUserKeysWave\n          );\n\n          // eslint-disable-next-line no-param-reassign\n          presetEquationRunner.mdVSFrameMapWaves[\n            this.index\n          ] = mdVSNewFrameMapWave;\n        } else {\n          mdVSWaveFrame.usedots = usedots;\n          mdVSWaveFrame.thick = baseVals.thick;\n          mdVSWaveFrame.additive = baseVals.additive;\n        }\n\n        this.mdVSWaveFrame = mdVSWaveFrame;\n\n        if (usedots === 0) {\n          WaveUtils.smoothWaveAndColor(\n            this.positions,\n            this.colors,\n            this.smoothedPositions,\n            this.smoothedColors,\n            this.samples\n          );\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  drawCustomWaveform(\n    blendProgress,\n    timeArrayL,\n    timeArrayR,\n    freqArrayL,\n    freqArrayR,\n    globalVars,\n    presetEquationRunner,\n    waveEqs\n  ) {\n    if (\n      waveEqs &&\n      this.generateWaveform(\n        timeArrayL,\n        timeArrayR,\n        freqArrayL,\n        freqArrayR,\n        globalVars,\n        presetEquationRunner,\n        waveEqs,\n        blendProgress\n      )\n    ) {\n      this.gl.useProgram(this.shaderProgram);\n\n      const waveUseDots = this.mdVSWaveFrame.usedots !== 0;\n      const waveThick = this.mdVSWaveFrame.thick !== 0;\n      const waveAdditive = this.mdVSWaveFrame.additive !== 0;\n\n      let positions;\n      let colors;\n      let numVerts;\n      if (!waveUseDots) {\n        positions = this.smoothedPositions;\n        colors = this.smoothedColors;\n        numVerts = this.samples * 2 - 1;\n      } else {\n        positions = this.positions;\n        colors = this.colors;\n        numVerts = this.samples;\n      }\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, positions, this.gl.STATIC_DRAW);\n\n      this.gl.vertexAttribPointer(\n        this.aPosLocation,\n        3,\n        this.gl.FLOAT,\n        false,\n        0,\n        0\n      );\n      this.gl.enableVertexAttribArray(this.aPosLocation);\n\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, colors, this.gl.STATIC_DRAW);\n\n      this.gl.vertexAttribPointer(\n        this.aColorLocation,\n        4,\n        this.gl.FLOAT,\n        false,\n        0,\n        0\n      );\n      this.gl.enableVertexAttribArray(this.aColorLocation);\n\n      let instances = 1;\n      if (waveUseDots) {\n        if (waveThick) {\n          this.gl.uniform1f(this.sizeLoc, 2 + (this.texsizeX >= 1024 ? 1 : 0));\n        } else {\n          this.gl.uniform1f(this.sizeLoc, 1 + (this.texsizeX >= 1024 ? 1 : 0));\n        }\n      } else {\n        this.gl.uniform1f(this.sizeLoc, 1);\n        if (waveThick) {\n          instances = 4;\n        }\n      }\n\n      if (waveAdditive) {\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE);\n      } else {\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n      }\n\n      const drawMode = waveUseDots ? this.gl.POINTS : this.gl.LINE_STRIP;\n\n      // TODO: use drawArraysInstanced\n      for (let i = 0; i < instances; i++) {\n        const offset = 2;\n        if (i === 0) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]);\n        } else if (i === 1) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [offset / this.texsizeX, 0]);\n        } else if (i === 2) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [0, offset / this.texsizeY]);\n        } else if (i === 3) {\n          this.gl.uniform2fv(this.thickOffsetLoc, [\n            offset / this.texsizeX,\n            offset / this.texsizeY,\n          ]);\n        }\n\n        this.gl.drawArrays(drawMode, 0, numVerts);\n      }\n    }\n  }\n}\n","export default class WaveUtils {\n  /* eslint-disable no-param-reassign */\n  static smoothWave(positions, positionsSmoothed, nVertsIn, zCoord = false) {\n    const c1 = -0.15;\n    const c2 = 1.15;\n    const c3 = 1.15;\n    const c4 = -0.15;\n    const invSum = 1.0 / (c1 + c2 + c3 + c4);\n\n    let j = 0;\n\n    let iBelow = 0;\n    let iAbove;\n    let iAbove2 = 1;\n    for (let i = 0; i < nVertsIn - 1; i++) {\n      iAbove = iAbove2;\n      iAbove2 = Math.min(nVertsIn - 1, i + 2);\n\n      for (let k = 0; k < 3; k++) {\n        positionsSmoothed[j * 3 + k] = positions[i * 3 + k];\n      }\n\n      if (zCoord) {\n        for (let k = 0; k < 3; k++) {\n          positionsSmoothed[(j + 1) * 3 + k] =\n            (c1 * positions[iBelow * 3 + k] +\n              c2 * positions[i * 3 + k] +\n              c3 * positions[iAbove * 3 + k] +\n              c4 * positions[iAbove2 * 3 + k]) *\n            invSum;\n        }\n      } else {\n        for (let k = 0; k < 2; k++) {\n          positionsSmoothed[(j + 1) * 3 + k] =\n            (c1 * positions[iBelow * 3 + k] +\n              c2 * positions[i * 3 + k] +\n              c3 * positions[iAbove * 3 + k] +\n              c4 * positions[iAbove2 * 3 + k]) *\n            invSum;\n        }\n        positionsSmoothed[(j + 1) * 3 + 2] = 0;\n      }\n\n      iBelow = i;\n      j += 2;\n    }\n\n    for (let k = 0; k < 3; k++) {\n      positionsSmoothed[j * 3 + k] = positions[(nVertsIn - 1) * 3 + k];\n    }\n  }\n\n  static smoothWaveAndColor(\n    positions,\n    colors,\n    positionsSmoothed,\n    colorsSmoothed,\n    nVertsIn,\n    zCoord = false\n  ) {\n    const c1 = -0.15;\n    const c2 = 1.15;\n    const c3 = 1.15;\n    const c4 = -0.15;\n    const invSum = 1.0 / (c1 + c2 + c3 + c4);\n\n    let j = 0;\n\n    let iBelow = 0;\n    let iAbove;\n    let iAbove2 = 1;\n    for (let i = 0; i < nVertsIn - 1; i++) {\n      iAbove = iAbove2;\n      iAbove2 = Math.min(nVertsIn - 1, i + 2);\n\n      for (let k = 0; k < 3; k++) {\n        positionsSmoothed[j * 3 + k] = positions[i * 3 + k];\n      }\n\n      if (zCoord) {\n        for (let k = 0; k < 3; k++) {\n          positionsSmoothed[(j + 1) * 3 + k] =\n            (c1 * positions[iBelow * 3 + k] +\n              c2 * positions[i * 3 + k] +\n              c3 * positions[iAbove * 3 + k] +\n              c4 * positions[iAbove2 * 3 + k]) *\n            invSum;\n        }\n      } else {\n        for (let k = 0; k < 2; k++) {\n          positionsSmoothed[(j + 1) * 3 + k] =\n            (c1 * positions[iBelow * 3 + k] +\n              c2 * positions[i * 3 + k] +\n              c3 * positions[iAbove * 3 + k] +\n              c4 * positions[iAbove2 * 3 + k]) *\n            invSum;\n        }\n        positionsSmoothed[(j + 1) * 3 + 2] = 0;\n      }\n\n      for (let k = 0; k < 4; k++) {\n        colorsSmoothed[j * 4 + k] = colors[i * 4 + k];\n        colorsSmoothed[(j + 1) * 4 + k] = colors[i * 4 + k];\n      }\n\n      iBelow = i;\n      j += 2;\n    }\n\n    for (let k = 0; k < 3; k++) {\n      positionsSmoothed[j * 3 + k] = positions[(nVertsIn - 1) * 3 + k];\n    }\n\n    for (let k = 0; k < 4; k++) {\n      colorsSmoothed[j * 4 + k] = colors[(nVertsIn - 1) * 4 + k];\n    }\n  }\n\n  /* eslint-enable no-param-reassign */\n}\n","export default class Utils {\n  static atan2(x, y) {\n    let a = Math.atan2(x, y);\n    if (a < 0) {\n      a += 2 * Math.PI;\n    }\n    return a;\n  }\n\n  static cloneVars(vars) {\n    return Object.assign({}, vars);\n  }\n\n  static range(start, end) {\n    if (end === undefined) {\n      return [...Array(start).keys()];\n    }\n\n    return Array.from({ length: end - start }, (_, i) => i + start);\n  }\n\n  static pick(obj, keys) {\n    const newObj = {};\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      newObj[key] = obj[key] || 0;\n    }\n    return newObj;\n  }\n\n  static omit(obj, keys) {\n    const newObj = Object.assign({}, obj);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      delete newObj[key];\n    }\n    return newObj;\n  }\n\n  static setWasm(wasmGlobals, obj, keys) {\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      // eslint-disable-next-line no-param-reassign\n      wasmGlobals[key].value = obj[key];\n    }\n  }\n\n  static pickWasm(wasmGlobals, keys) {\n    const newObj = {};\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      newObj[key] = wasmGlobals[key].value;\n    }\n    return newObj;\n  }\n}\n","import { loadModule } from \"eel-wasm\";\nimport ascLoader from \"@assemblyscript/loader\";\nimport AudioProcessor from \"./audio/audioProcessor\";\nimport Renderer from \"./rendering/renderer\";\nimport Utils from \"./utils\";\nimport loadPresetFunctionsBuffer from \"./assemblyscript/presetFunctions.ts\";\n\nexport default class Visualizer {\n  constructor(audioContext, canvas, opts) {\n    this.opts = opts;\n    this.audio = new AudioProcessor(audioContext);\n\n    const vizWidth = opts.width || 1200;\n    const vizHeight = opts.height || 900;\n    const reuseCanvas = opts.reuseCanvas || false;\n\n    this.internalCanvas = canvas;\n    if (!reuseCanvas) {\n        if (self.OffscreenCanvas) {\n          this.internalCanvas = new OffscreenCanvas(vizWidth, vizHeight);\n        } else {\n          this.internalCanvas = document.createElement(\"canvas\");\n          this.internalCanvas.width = vizWidth;\n          this.internalCanvas.height = vizHeight;\n        }\n    }\n\n    this.gl = this.internalCanvas.getContext(\"webgl2\", {\n      alpha: false,\n      antialias: false,\n      depth: false,\n      stencil: false,\n      premultipliedAlpha: false,\n    });\n\n    this.outputGl = canvas.getContext('2d');\n\n    this.baseValsDefaults = {\n      decay: 0.98,\n      gammaadj: 2,\n      echo_zoom: 2,\n      echo_alpha: 0,\n      echo_orient: 0,\n      red_blue: 0,\n      brighten: 0,\n      darken: 0,\n      wrap: 1,\n      darken_center: 0,\n      solarize: 0,\n      invert: 0,\n      bmotionvectorson: 1,\n      fshader: 0,\n      b1n: 0,\n      b2n: 0,\n      b3n: 0,\n      b1x: 1,\n      b2x: 1,\n      b3x: 1,\n      b1ed: 0.25,\n      wave_mode: 0,\n      additivewave: 0,\n      wave_dots: 0,\n      wave_thick: 0,\n      wave_a: 0.8,\n      wave_scale: 1,\n      wave_smoothing: 0.75,\n      wave_mystery: 0,\n      modwavealphabyvolume: 0,\n      modwavealphastart: 0.75,\n      modwavealphaend: 0.95,\n      wave_r: 1,\n      wave_g: 1,\n      wave_b: 1,\n      wave_x: 0.5,\n      wave_y: 0.5,\n      wave_brighten: 1,\n      mv_x: 12,\n      mv_y: 9,\n      mv_dx: 0,\n      mv_dy: 0,\n      mv_l: 0.9,\n      mv_r: 1,\n      mv_g: 1,\n      mv_b: 1,\n      mv_a: 1,\n      warpanimspeed: 1,\n      warpscale: 1,\n      zoomexp: 1,\n      zoom: 1,\n      rot: 0,\n      cx: 0.5,\n      cy: 0.5,\n      dx: 0,\n      dy: 0,\n      warp: 1,\n      sx: 1,\n      sy: 1,\n      ob_size: 0.01,\n      ob_r: 0,\n      ob_g: 0,\n      ob_b: 0,\n      ob_a: 0,\n      ib_size: 0.01,\n      ib_r: 0.25,\n      ib_g: 0.25,\n      ib_b: 0.25,\n      ib_a: 0,\n    };\n\n    this.shapeBaseValsDefaults = {\n      enabled: 0,\n      sides: 4,\n      additive: 0,\n      thickoutline: 0,\n      textured: 0,\n      num_inst: 1,\n      tex_zoom: 1,\n      tex_ang: 0,\n      x: 0.5,\n      y: 0.5,\n      rad: 0.1,\n      ang: 0,\n      r: 1,\n      g: 0,\n      b: 0,\n      a: 1,\n      r2: 0,\n      g2: 1,\n      b2: 0,\n      a2: 0,\n      border_r: 1,\n      border_g: 1,\n      border_b: 1,\n      border_a: 0.1,\n    };\n\n    this.waveBaseValsDefaults = {\n      enabled: 0,\n      samples: 512,\n      sep: 0,\n      scaling: 1,\n      smoothing: 0.5,\n      r: 1,\n      g: 1,\n      b: 1,\n      a: 1,\n      spectrum: 0,\n      usedots: 0,\n      thick: 0,\n      additive: 0,\n    };\n\n    this.qs = Utils.range(1, 33).map((x) => `q${x}`);\n    this.ts = Utils.range(1, 9).map((x) => `t${x}`);\n\n    this.globalPerFrameVars = [\n      \"old_wave_mode\",\n      // globals\n      \"frame\",\n      \"time\",\n      \"fps\",\n      \"bass\",\n      \"bass_att\",\n      \"mid\",\n      \"mid_att\",\n      \"treb\",\n      \"treb_att\",\n      \"meshx\",\n      \"meshy\",\n      \"aspectx\",\n      \"aspecty\",\n      \"pixelsx\",\n      \"pixelsy\",\n      \"rand_start\",\n      \"rand_preset\",\n    ];\n\n    this.globalPerPixelVars = [\n      // globals\n      \"frame\",\n      \"time\",\n      \"fps\",\n      \"bass\",\n      \"bass_att\",\n      \"mid\",\n      \"mid_att\",\n      \"treb\",\n      \"treb_att\",\n      \"meshx\",\n      \"meshy\",\n      \"aspectx\",\n      \"aspecty\",\n      \"pixelsx\",\n      \"pixelsy\",\n      \"rand_start\",\n      \"rand_preset\",\n      // for pixel eqs\n      \"x\",\n      \"y\",\n      \"rad\",\n      \"ang\",\n    ];\n\n    this.globalShapeVars = [\n      // globals\n      \"frame\",\n      \"time\",\n      \"fps\",\n      \"bass\",\n      \"bass_att\",\n      \"mid\",\n      \"mid_att\",\n      \"treb\",\n      \"treb_att\",\n      \"meshx\",\n      \"meshy\",\n      \"aspectx\",\n      \"aspecty\",\n      \"pixelsx\",\n      \"pixelsy\",\n      \"rand_start\",\n      \"rand_preset\",\n      // for shape eqs\n      \"instance\",\n    ];\n\n    this.shapeBaseVars = [\n      \"x\",\n      \"y\",\n      \"rad\",\n      \"ang\",\n      \"r\",\n      \"g\",\n      \"b\",\n      \"a\",\n      \"r2\",\n      \"g2\",\n      \"b2\",\n      \"a2\",\n      \"border_r\",\n      \"border_g\",\n      \"border_b\",\n      \"border_a\",\n      \"thickoutline\",\n      \"textured\",\n      \"tex_zoom\",\n      \"tex_ang\",\n      \"additive\",\n    ];\n\n    this.globalWaveVars = [\n      // globals\n      \"frame\",\n      \"time\",\n      \"fps\",\n      \"bass\",\n      \"bass_att\",\n      \"mid\",\n      \"mid_att\",\n      \"treb\",\n      \"treb_att\",\n      \"meshx\",\n      \"meshy\",\n      \"aspectx\",\n      \"aspecty\",\n      \"pixelsx\",\n      \"pixelsy\",\n      \"rand_start\",\n      \"rand_preset\",\n      // for wave eqs\n      \"x\",\n      \"y\",\n      \"sample\",\n      \"value1\",\n      \"value2\",\n    ];\n\n    this.renderer = new Renderer(this.gl, this.audio, opts);\n  }\n\n  loseGLContext() {\n    this.gl.getExtension(\"WEBGL_lose_context\").loseContext();\n    this.outputGl = null;\n  }\n\n  connectAudio(audioNode) {\n    this.audioNode = audioNode;\n    this.audio.connectAudio(audioNode);\n  }\n\n  disconnectAudio(audioNode) {\n    this.audio.disconnectAudio(audioNode);\n  }\n\n  // Override defaults, but only include variables in default map\n  static overrideDefaultVars(baseValsDefaults, baseVals) {\n    const combinedVals = {};\n\n    Object.keys(baseValsDefaults).forEach((key) => {\n      if (Object.prototype.hasOwnProperty.call(baseVals, key)) {\n        combinedVals[key] = baseVals[key];\n      } else {\n        combinedVals[key] = baseValsDefaults[key];\n      }\n    });\n\n    return combinedVals;\n  }\n\n  createQVars() {\n    const wasmVars = {};\n\n    this.qs.forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        0\n      );\n    });\n\n    return wasmVars;\n  }\n\n  createTVars() {\n    const wasmVars = {};\n\n    this.ts.forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        0\n      );\n    });\n\n    return wasmVars;\n  }\n\n  createPerFramePool(baseVals) {\n    const wasmVars = {};\n\n    Object.keys(this.baseValsDefaults).forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        baseVals[key]\n      );\n    });\n\n    this.globalPerFrameVars.forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        0\n      );\n    });\n\n    return wasmVars;\n  }\n\n  createPerPixelPool(baseVals) {\n    const wasmVars = {};\n\n    Object.keys(this.baseValsDefaults).forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        baseVals[key]\n      );\n    });\n\n    this.globalPerPixelVars.forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        0\n      );\n    });\n\n    return wasmVars;\n  }\n\n  createCustomShapePerFramePool(baseVals) {\n    const wasmVars = {};\n\n    Object.keys(this.shapeBaseValsDefaults).forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        baseVals[key]\n      );\n    });\n\n    this.globalShapeVars.forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        0\n      );\n    });\n\n    return wasmVars;\n  }\n\n  createCustomWavePerFramePool(baseVals) {\n    const wasmVars = {};\n\n    Object.keys(this.waveBaseValsDefaults).forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        baseVals[key]\n      );\n    });\n\n    this.globalWaveVars.forEach((key) => {\n      wasmVars[key] = new WebAssembly.Global(\n        { value: \"f64\", mutable: true },\n        0\n      );\n    });\n\n    return wasmVars;\n  }\n\n  static makeShapeResetPool(pool, variables, idx) {\n    return variables.reduce((acc, variable) => {\n      return { ...acc, [`${variable}_${idx}`]: pool[variable] };\n    }, {});\n  }\n\n  static base64ToArrayBuffer(base64) {\n    var binaryString = self.atob(base64);\n    var len = binaryString.length;\n    var bytes = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n  }\n\n  async loadPreset(presetMap, blendTime = 0) {\n    const preset = JSON.parse(JSON.stringify(presetMap));\n    preset.baseVals = Visualizer.overrideDefaultVars(\n      this.baseValsDefaults,\n      preset.baseVals\n    );\n    for (let i = 0; i < preset.shapes.length; i++) {\n      preset.shapes[i].baseVals = Visualizer.overrideDefaultVars(\n        this.shapeBaseValsDefaults,\n        preset.shapes[i].baseVals\n      );\n    }\n\n    for (let i = 0; i < preset.waves.length; i++) {\n      preset.waves[i].baseVals = Visualizer.overrideDefaultVars(\n        this.waveBaseValsDefaults,\n        preset.waves[i].baseVals\n      );\n    }\n\n    const forceJS = preset.useJS && !this.opts.onlyUseWASM;\n\n    if (\n      Object.prototype.hasOwnProperty.call(preset, \"init_eqs_eel\") &&\n      !forceJS\n    ) {\n      preset.useWASM = true;\n      await this.loadWASMPreset(preset, blendTime);\n    } else if (!this.opts.onlyUseWASM) {\n      if (Object.prototype.hasOwnProperty.call(preset, \"init_eqs_str\")) {\n        this.loadJSPreset(preset, blendTime);\n      } else {\n        console.warn(\n          \"Tried to load a JS preset that doesn't have converted strings\"\n        );\n      }\n    } else {\n      console.warn(\n        \"Tried to load a preset that doesn't support WASM with onlyUseWASM on\"\n      );\n    }\n  }\n\n  async loadWASMPreset(preset, blendTime) {\n    const qWasmVars = this.createQVars();\n    const tWasmVars = this.createTVars();\n\n    const wasmVarPools = {\n      perFrame: { ...qWasmVars, ...this.createPerFramePool(preset.baseVals) },\n      perVertex: {\n        ...qWasmVars,\n        ...this.createPerPixelPool(preset.baseVals),\n      },\n    };\n\n    const wasmFunctions = {\n      presetInit: { pool: \"perFrame\", code: preset.init_eqs_eel },\n      perFrame: { pool: \"perFrame\", code: preset.frame_eqs_eel },\n    };\n\n    if (preset.pixel_eqs_eel !== \"\") {\n      wasmFunctions.perPixel = {\n        pool: \"perVertex\",\n        code: preset.pixel_eqs_eel,\n      };\n    }\n\n    for (let i = 0; i < preset.shapes.length; i++) {\n      wasmVarPools[`shapePerFrame${i}`] = {\n        ...qWasmVars,\n        ...tWasmVars,\n        ...this.createCustomShapePerFramePool(preset.shapes[i].baseVals),\n      };\n\n      if (preset.shapes[i].baseVals.enabled !== 0) {\n        wasmFunctions[`shapes_${i}_init_eqs`] = {\n          pool: `shapePerFrame${i}`,\n          code: preset.shapes[i].init_eqs_eel,\n        };\n        wasmFunctions[`shapes_${i}_frame_eqs`] = {\n          pool: `shapePerFrame${i}`,\n          code: preset.shapes[i].frame_eqs_eel,\n        };\n      }\n    }\n\n    for (let i = 0; i < preset.waves.length; i++) {\n      if (preset.waves[i].baseVals.enabled !== 0) {\n        wasmVarPools[`wavePerFrame${i}`] = {\n          ...qWasmVars,\n          ...tWasmVars,\n          ...this.createCustomWavePerFramePool(preset.waves[i].baseVals),\n        };\n        wasmFunctions[`waves_${i}_init_eqs`] = {\n          pool: `wavePerFrame${i}`,\n          code: preset.waves[i].init_eqs_eel,\n        };\n        wasmFunctions[`waves_${i}_frame_eqs`] = {\n          pool: `wavePerFrame${i}`,\n          code: preset.waves[i].frame_eqs_eel,\n        };\n\n        if (\n          preset.waves[i].point_eqs_eel &&\n          preset.waves[i].point_eqs_eel !== \"\"\n        ) {\n          wasmFunctions[`waves_${i}_point_eqs`] = {\n            pool: `wavePerFrame${i}`,\n            code: preset.waves[i].point_eqs_eel,\n          };\n        }\n      }\n    }\n\n    const mod = await loadModule({\n      pools: wasmVarPools,\n      functions: wasmFunctions,\n      eelVersion: preset.version || 2,\n    });\n\n    // eel-wasm returns null if the function was empty\n    const handleEmptyFunction = (f) => {\n      return f ? f : () => {};\n    };\n\n    const presetFunctionsMod = await ascLoader.instantiate(\n      Visualizer.base64ToArrayBuffer(loadPresetFunctionsBuffer()),\n      {\n        pixelEqs: {\n          perPixelEqs: handleEmptyFunction(mod.exports.perPixel),\n        },\n        // For resetting pixel eq vars\n        pixelVarPool: {\n          warp: wasmVarPools.perVertex.warp,\n          zoom: wasmVarPools.perVertex.zoom,\n          zoomexp: wasmVarPools.perVertex.zoomexp,\n          cx: wasmVarPools.perVertex.cx,\n          cy: wasmVarPools.perVertex.cy,\n          sx: wasmVarPools.perVertex.sx,\n          sy: wasmVarPools.perVertex.sy,\n          dx: wasmVarPools.perVertex.dx,\n          dy: wasmVarPools.perVertex.dy,\n          rot: wasmVarPools.perVertex.rot,\n          x: wasmVarPools.perVertex.x,\n          y: wasmVarPools.perVertex.y,\n          ang: wasmVarPools.perVertex.ang,\n          rad: wasmVarPools.perVertex.rad,\n        },\n        // For resetting qs/ts\n        qVarPool: qWasmVars,\n        tVarPool: tWasmVars,\n        // For resetting shape vars\n        shapePool0: Visualizer.makeShapeResetPool(\n          wasmVarPools[\"shapePerFrame0\"],\n          this.shapeBaseVars,\n          0\n        ),\n        shapePool1: Visualizer.makeShapeResetPool(\n          wasmVarPools[\"shapePerFrame1\"],\n          this.shapeBaseVars,\n          1\n        ),\n        shapePool2: Visualizer.makeShapeResetPool(\n          wasmVarPools[\"shapePerFrame2\"],\n          this.shapeBaseVars,\n          2\n        ),\n        shapePool3: Visualizer.makeShapeResetPool(\n          wasmVarPools[\"shapePerFrame3\"],\n          this.shapeBaseVars,\n          3\n        ),\n        console: {\n          logi: (value) => {\n            // eslint-disable-next-line no-console\n            console.log(\"logi: \" + value);\n          },\n          logf: (value) => {\n            // eslint-disable-next-line no-console\n            console.log(\"logf: \" + value);\n          },\n        },\n        env: {\n          abort: () => {\n            // No idea why we need this.\n          },\n        },\n      }\n    );\n\n    preset.globalPools = wasmVarPools;\n    preset.init_eqs = handleEmptyFunction(mod.exports.presetInit);\n    preset.frame_eqs = handleEmptyFunction(mod.exports.perFrame);\n    preset.save_qs = presetFunctionsMod.exports.saveQs;\n    preset.restore_qs = presetFunctionsMod.exports.restoreQs;\n    preset.save_ts = presetFunctionsMod.exports.saveTs;\n    preset.restore_ts = presetFunctionsMod.exports.restoreTs;\n    if (mod.exports.perPixel) {\n      preset.pixel_eqs = mod.exports.perPixel;\n    }\n    preset.pixel_eqs_initialize_array = (meshWidth, meshHeight) => {\n      const arrPtr = presetFunctionsMod.exports.createFloat32Array(\n        (meshWidth + 1) * (meshHeight + 1) * 2\n      );\n      preset.pixel_eqs_array = arrPtr;\n    };\n    preset.pixel_eqs_get_array = () => {\n      return presetFunctionsMod.exports.__getFloat32ArrayView(\n        preset.pixel_eqs_array\n      );\n    };\n    preset.pixel_eqs_wasm = (...args) =>\n      presetFunctionsMod.exports.runPixelEquations(\n        preset.pixel_eqs_array,\n        ...args\n      );\n\n    for (let i = 0; i < preset.shapes.length; i++) {\n      if (preset.shapes[i].baseVals.enabled !== 0) {\n        preset.shapes[i].init_eqs = handleEmptyFunction(\n          mod.exports[`shapes_${i}_init_eqs`]\n        );\n        // Not wrapped because we check if null in customShapes\n        preset.shapes[i].frame_eqs = mod.exports[`shapes_${i}_frame_eqs`];\n\n        preset.shapes[i].frame_eqs_save = () =>\n          presetFunctionsMod.exports[`shape${i}_save`]();\n        preset.shapes[i].frame_eqs_restore = () =>\n          presetFunctionsMod.exports[`shape${i}_restore`]();\n      }\n    }\n\n    for (let i = 0; i < preset.waves.length; i++) {\n      if (preset.waves[i].baseVals.enabled !== 0) {\n        const wave = {\n          init_eqs: handleEmptyFunction(mod.exports[`waves_${i}_init_eqs`]),\n          frame_eqs: handleEmptyFunction(mod.exports[`waves_${i}_frame_eqs`]),\n        };\n\n        if (\n          preset.waves[i].point_eqs_eel &&\n          preset.waves[i].point_eqs_eel !== \"\"\n        ) {\n          // Not wrapped because we check if null in customWaves\n          wave.point_eqs = mod.exports[`waves_${i}_point_eqs`];\n        } else {\n          wave.point_eqs = \"\";\n        }\n\n        preset.waves[i] = Object.assign({}, preset.waves[i], wave);\n      }\n    }\n\n    this.renderer.loadPreset(preset, blendTime);\n  }\n\n  loadJSPreset(preset, blendTime) {\n    // If init_eqs is already a function, it means we've already prepared the preset to run\n    if (typeof preset.init_eqs !== \"function\") {\n      /* eslint-disable no-param-reassign, no-new-func */\n      preset.init_eqs = new Function(\"a\", `${preset.init_eqs_str} return a;`);\n      preset.frame_eqs = new Function(\"a\", `${preset.frame_eqs_str} return a;`);\n      if (preset.pixel_eqs_str && preset.pixel_eqs_str !== \"\") {\n        preset.pixel_eqs = new Function(\n          \"a\",\n          `${preset.pixel_eqs_str} return a;`\n        );\n      } else {\n        preset.pixel_eqs = \"\";\n      }\n\n      for (let i = 0; i < preset.shapes.length; i++) {\n        if (preset.shapes[i].baseVals.enabled !== 0) {\n          preset.shapes[i] = Object.assign({}, preset.shapes[i], {\n            init_eqs: new Function(\n              \"a\",\n              `${preset.shapes[i].init_eqs_str} return a;`\n            ),\n            frame_eqs: new Function(\n              \"a\",\n              `${preset.shapes[i].frame_eqs_str} return a;`\n            ),\n          });\n        }\n      }\n\n      for (let i = 0; i < preset.waves.length; i++) {\n        if (preset.waves[i].baseVals.enabled !== 0) {\n          const wave = {\n            init_eqs: new Function(\n              \"a\",\n              `${preset.waves[i].init_eqs_str} return a;`\n            ),\n            frame_eqs: new Function(\n              \"a\",\n              `${preset.waves[i].frame_eqs_str} return a;`\n            ),\n          };\n\n          if (\n            preset.waves[i].point_eqs_str &&\n            preset.waves[i].point_eqs_str !== \"\"\n          ) {\n            wave.point_eqs = new Function(\n              \"a\",\n              `${preset.waves[i].point_eqs_str} return a;`\n            );\n          } else {\n            wave.point_eqs = \"\";\n          }\n\n          preset.waves[i] = Object.assign({}, preset.waves[i], wave);\n        }\n      }\n      /* eslint-enable no-param-reassign, no-new-func */\n    }\n    this.renderer.loadPreset(preset, blendTime);\n  }\n\n  loadExtraImages(imageData) {\n    this.renderer.loadExtraImages(imageData);\n  }\n\n  setRendererSize(width, height, opts = {}) {\n    this.internalCanvas.width = width;\n    this.internalCanvas.height = height;\n    this.renderer.setRendererSize(width, height, opts);\n  }\n\n  setInternalMeshSize(width, height) {\n    this.renderer.setInternalMeshSize(width, height);\n  }\n\n  setOutputAA(useAA) {\n    this.renderer.setOutputAA(useAA);\n  }\n\n  setCanvas(canvas) {\n    this.outputGl = canvas.getContext('2d');\n  }\n\n  render(opts) {\n    const renderOutput = this.renderer.render(opts);\n\n    if (this.outputGl) {\n      this.outputGl.drawImage(this.internalCanvas, 0, 0);\n    }\n\n    return renderOutput;\n  }\n\n  launchSongTitleAnim(text) {\n    this.renderer.launchSongTitleAnim(text);\n  }\n\n  toDataURL() {\n    return this.renderer.toDataURL();\n  }\n\n  warpBufferToDataURL() {\n    return this.renderer.warpBufferToDataURL();\n  }\n}\n","\"use strict\";\n\n{\n  const defineMath = (name, assignment) => {\n    var configurable = typeof assignment === \"function\" ? true : false;\n    var writable = typeof assignment === \"function\" ? true : false;\n    var enumerable = typeof assignment === \"function\" ? true : false;\n\n    Object.defineProperty(Math, name, {\n      configurable: configurable,\n      enumerable: enumerable,\n      writable: writable,\n      value: assignment\n    });\n  };\n\n  defineMath(\"DEG_PER_RAD\", Math.PI / 180);\n  defineMath(\"RAD_PER_DEG\", 180 / Math.PI);\n\n  const f32A = new Float32Array(1);\n\n  defineMath(\"scale\", function scale(x, inLow, inHigh, outLow, outHigh) {\n    if (arguments.length === 0) {\n      return NaN;\n    }\n\n    if (Number.isNaN(x) ||\n        Number.isNaN(inLow) ||\n        Number.isNaN(inHigh) ||\n        Number.isNaN(outLow) ||\n        Number.isNaN(outHigh)) {\n      return NaN;\n    }\n\n    if (x === Infinity ||\n        x === -Infinity) {\n      return x;\n    }\n\n    return (x - inLow) * (outHigh - outLow) /\n      (inHigh - inLow) + outLow;\n  });\n\n  defineMath(\"fscale\", function fscale(x, inLow, inHigh, outLow, outHigh) {\n    f32A[0] = Math.scale(x, inLow, inHigh, outLow, outHigh);\n    return f32A[0];\n  });\n\n  defineMath(\"clamp\", function clamp(x, lower, upper) {\n    return Math.min(upper, Math.max(lower, x));\n  });\n\n  defineMath(\"radians\", function radians(degrees) {\n    return degrees * Math.DEG_PER_RAD;\n  });\n\n  defineMath(\"degrees\", function degrees(radians) {\n    return radians * Math.RAD_PER_DEG;\n  });\n}\n","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function () {\n    var o = function (k, v, o, l) { for (o = o || {}, l = k.length; l--; o[k[l]] = v)\n        ; return o; }, $V0 = [1, 18], $V1 = [1, 7], $V2 = [1, 19], $V3 = [1, 20], $V4 = [1, 14], $V5 = [1, 15], $V6 = [1, 16], $V7 = [1, 33], $V8 = [1, 31], $V9 = [1, 23], $Va = [1, 22], $Vb = [1, 24], $Vc = [1, 25], $Vd = [1, 26], $Ve = [1, 27], $Vf = [1, 28], $Vg = [1, 29], $Vh = [1, 30], $Vi = [5, 8, 15, 18, 20, 28, 29, 32, 33, 34, 35, 36, 37, 38], $Vj = [5, 15, 18], $Vk = [5, 12, 15, 17, 18, 24, 25, 28, 29, 30], $Vl = [1, 57], $Vm = [5, 8, 12, 15, 17, 18, 24, 25, 28, 29, 30], $Vn = [15, 18], $Vo = [5, 8, 15, 18, 28, 29, 38], $Vp = [5, 8, 15, 18, 28, 29, 32, 33, 38], $Vq = [5, 8, 15, 18, 28, 29, 32, 33, 34, 37, 38], $Vr = [5, 8, 15, 18, 28, 29, 32, 33, 34, 35, 36, 37, 38], $Vs = [5, 8, 15, 18], $Vt = [5, 8, 15, 18, 20, 22, 28, 29, 32, 33, 34, 35, 36, 37, 38];\n    var parser = { trace: function trace() { },\n        yy: {},\n        symbols_: { \"error\": 2, \"SCRIPT\": 3, \"expression\": 4, \"EOF\": 5, \"expressionsOptionalTrailingSemi\": 6, \"separator\": 7, \";\": 8, \"expressions\": 9, \"EXPRESSION_BLOCK\": 10, \"IDENTIFIER\": 11, \"IDENTIFIER_TOKEN\": 12, \"argument\": 13, \"arguments\": 14, \",\": 15, \"FUNCTION_CALL\": 16, \"(\": 17, \")\": 18, \"LOGICAL_EXPRESSION\": 19, \"LOGICAL_OPERATOR_TOKEN\": 20, \"ASSIGNMENT\": 21, \"ASSIGNMENT_OPERATOR_TOKEN\": 22, \"number\": 23, \"DIGITS_TOKEN\": 24, \".\": 25, \"NUMBER_LITERAL\": 26, \"UNARY_EXPRESSION\": 27, \"-\": 28, \"+\": 29, \"!\": 30, \"BINARY_EXPRESSION\": 31, \"*\": 32, \"/\": 33, \"%\": 34, \"&\": 35, \"|\": 36, \"^\": 37, \"COMPARISON_TOKEN\": 38, \"$accept\": 0, \"$end\": 1 },\n        terminals_: { 2: \"error\", 5: \"EOF\", 8: \";\", 12: \"IDENTIFIER_TOKEN\", 15: \",\", 17: \"(\", 18: \")\", 20: \"LOGICAL_OPERATOR_TOKEN\", 22: \"ASSIGNMENT_OPERATOR_TOKEN\", 24: \"DIGITS_TOKEN\", 25: \".\", 28: \"-\", 29: \"+\", 30: \"!\", 32: \"*\", 33: \"/\", 34: \"%\", 35: \"&\", 36: \"|\", 37: \"^\", 38: \"COMPARISON_TOKEN\" },\n        productions_: [0, [3, 2], [3, 2], [3, 1], [7, 1], [7, 2], [9, 2], [9, 3], [6, 1], [6, 2], [10, 1], [11, 1], [13, 1], [13, 1], [14, 1], [14, 3], [16, 3], [16, 4], [19, 3], [21, 3], [21, 3], [23, 1], [23, 2], [23, 3], [23, 2], [23, 1], [26, 1], [27, 2], [27, 2], [27, 2], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [4, 1], [4, 1], [4, 3], [4, 1], [4, 1], [4, 1], [4, 1], [4, 1], [4, 3]],\n        performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n            /* this == yyval */\n            var $0 = $$.length - 1;\n            switch (yystate) {\n                case 1:\n                    return { type: 'SCRIPT', body: [$$[$0 - 1]], loc: this._$ };\n                    break;\n                case 2:\n                    return { type: 'SCRIPT', body: $$[$0 - 1], loc: this._$ };\n                    break;\n                case 3:\n                    return { type: 'SCRIPT', body: [], loc: this._$ };\n                    break;\n                case 6:\n                    this.$ = [$$[$0 - 1]];\n                    break;\n                case 7:\n                    this.$ = $$[$0 - 2].concat([$$[$0 - 1]]);\n                    break;\n                case 8:\n                    this.$ = $$[$0];\n                    break;\n                case 9:\n                    this.$ = $$[$0 - 1].concat([$$[$0]]);\n                    break;\n                case 10:\n                    this.$ = { type: 'EXPRESSION_BLOCK', body: $$[$0], loc: this._$ };\n                    break;\n                case 11:\n                    this.$ = { type: 'IDENTIFIER', value: $$[$0].toLowerCase(), loc: this._$ };\n                    break;\n                case 14:\n                    this.$ = [$$[$0]];\n                    break;\n                case 15:\n                    this.$ = $$[$0 - 2].concat([$$[$0]]);\n                    break;\n                case 16:\n                    this.$ = { type: 'CALL_EXPRESSION', callee: $$[$0 - 2], arguments: [], loc: this._$ };\n                    break;\n                case 17:\n                    this.$ = { type: 'CALL_EXPRESSION', callee: $$[$0 - 3], arguments: $$[$0 - 1], loc: this._$ };\n                    break;\n                case 18:\n                    this.$ = { type: 'LOGICAL_EXPRESSION', left: $$[$0 - 2], right: $$[$0], operator: $$[$0 - 1], loc: this._$ };\n                    break;\n                case 19:\n                case 20:\n                    this.$ = { type: 'ASSIGNMENT_EXPRESSION', left: $$[$0 - 2], operator: $$[$0 - 1], right: $$[$0], loc: this._$ };\n                    break;\n                case 21:\n                    this.$ = Number($$[$0]);\n                    break;\n                case 22:\n                    this.$ = Number($$[$0 - 1]);\n                    break;\n                case 23:\n                    this.$ = Number($$[$0 - 2] + $$[$0 - 1] + $$[$0]);\n                    break;\n                case 24:\n                    this.$ = Number('0' + $$[$0 - 1] + $$[$0]);\n                    break;\n                case 25:\n                    this.$ = 0;\n                    break;\n                case 26:\n                    this.$ = { type: 'NUMBER_LITERAL', value: $$[$0], loc: this._$ };\n                    break;\n                case 27:\n                case 28:\n                case 29:\n                    this.$ = { type: 'UNARY_EXPRESSION', value: $$[$0], operator: $$[$0 - 1], loc: this._$ };\n                    break;\n                case 30:\n                case 31:\n                case 32:\n                case 33:\n                case 34:\n                case 35:\n                case 36:\n                case 37:\n                case 38:\n                    this.$ = { type: 'BINARY_EXPRESSION', left: $$[$0 - 2], right: $$[$0], operator: $$[$0 - 1], loc: this._$ };\n                    break;\n                case 41:\n                case 47:\n                    this.$ = $$[$0 - 1];\n                    break;\n            }\n        },\n        table: [{ 3: 1, 4: 2, 5: [1, 4], 6: 3, 9: 13, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 1: [3] }, { 5: [1, 21], 7: 32, 8: $V7, 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }, { 5: [1, 34] }, { 1: [2, 3] }, o($Vi, [2, 39]), o($Vi, [2, 40]), { 4: 35, 6: 37, 9: 13, 10: 36, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, o($Vi, [2, 42]), o($Vi, [2, 43]), o($Vi, [2, 44], { 22: [1, 38] }), o($Vi, [2, 45], { 17: [1, 40], 22: [1, 39] }), o($Vi, [2, 46]), o($Vj, [2, 8], { 31: 5, 27: 6, 26: 8, 21: 9, 16: 10, 11: 11, 19: 12, 23: 17, 4: 41, 12: $V0, 17: $V1, 24: $V2, 25: $V3, 28: $V4, 29: $V5, 30: $V6 }), { 4: 42, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 43, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 44, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, o($Vi, [2, 26]), o([5, 8, 15, 17, 18, 20, 22, 28, 29, 32, 33, 34, 35, 36, 37, 38], [2, 11]), o($Vi, [2, 21], { 25: [1, 45] }), o($Vi, [2, 25], { 24: [1, 46] }), { 1: [2, 1] }, { 4: 47, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 48, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 49, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 50, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 51, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 52, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 53, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 54, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 55, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 56, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, o($Vk, [2, 6], { 8: $Vl }), o($Vm, [2, 4]), { 1: [2, 2] }, { 7: 32, 8: $V7, 18: [1, 58], 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }, { 18: [1, 59] }, o($Vn, [2, 10]), { 4: 60, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 61, 11: 11, 12: $V0, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, { 4: 65, 6: 37, 9: 13, 10: 66, 11: 11, 12: $V0, 13: 64, 14: 63, 16: 10, 17: $V1, 18: [1, 62], 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, o($Vj, [2, 9], { 7: 67, 8: $V7, 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }), o($Vo, [2, 27], { 20: $V8, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vo, [2, 28], { 20: $V8, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vo, [2, 29], { 20: $V8, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vi, [2, 22], { 24: [1, 68] }), o($Vi, [2, 24]), o($Vo, [2, 30], { 20: $V8, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vo, [2, 31], { 20: $V8, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vp, [2, 32], { 20: $V8, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vp, [2, 33], { 20: $V8, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg }), o($Vq, [2, 34], { 20: $V8, 35: $Ve, 36: $Vf }), o($Vr, [2, 35], { 20: $V8 }), o($Vr, [2, 36], { 20: $V8 }), o($Vq, [2, 37], { 20: $V8, 35: $Ve, 36: $Vf }), o($Vs, [2, 38], { 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }), o($Vi, [2, 18]), o($Vm, [2, 5]), o($Vi, [2, 41]), o($Vi, [2, 47]), o($Vs, [2, 20], { 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }), o($Vs, [2, 19], { 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }), o($Vt, [2, 16]), { 15: [1, 70], 18: [1, 69] }, o($Vn, [2, 14]), o($Vn, [2, 12], { 7: 32, 8: $V7, 20: $V8, 28: $V9, 29: $Va, 32: $Vb, 33: $Vc, 34: $Vd, 35: $Ve, 36: $Vf, 37: $Vg, 38: $Vh }), o($Vn, [2, 13]), o($Vk, [2, 7], { 8: $Vl }), o($Vi, [2, 23]), o($Vt, [2, 17]), { 4: 65, 6: 37, 9: 13, 10: 66, 11: 11, 12: $V0, 13: 71, 16: 10, 17: $V1, 19: 12, 21: 9, 23: 17, 24: $V2, 25: $V3, 26: 8, 27: 6, 28: $V4, 29: $V5, 30: $V6, 31: 5 }, o($Vn, [2, 15])],\n        defaultActions: { 4: [2, 3], 21: [2, 1], 34: [2, 2] },\n        parseError: function parseError(str, hash) {\n            if (hash.recoverable) {\n                this.trace(str);\n            }\n            else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n            }\n        },\n        parse: function parse(input) {\n            var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n            var args = lstack.slice.call(arguments, 1);\n            var lexer = Object.create(this.lexer);\n            var sharedState = { yy: {} };\n            for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                    sharedState.yy[k] = this.yy[k];\n                }\n            }\n            lexer.setInput(input, sharedState.yy);\n            sharedState.yy.lexer = lexer;\n            sharedState.yy.parser = this;\n            if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n            }\n            var yyloc = lexer.yylloc;\n            lstack.push(yyloc);\n            var ranges = lexer.options && lexer.options.ranges;\n            if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n            }\n            else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n            }\n            function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n            }\n            _token_stack: var lex = function () {\n                var token;\n                token = lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                    token = self.symbols_[token] || token;\n                }\n                return token;\n            };\n            var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n            while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                    action = this.defaultActions[state];\n                }\n                else {\n                    if (symbol === null || typeof symbol == 'undefined') {\n                        symbol = lex();\n                    }\n                    action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                    var errStr = '';\n                    expected = [];\n                    for (p in table[state]) {\n                        if (this.terminals_[p] && p > TERROR) {\n                            expected.push('\\'' + this.terminals_[p] + '\\'');\n                        }\n                    }\n                    if (lexer.showPosition) {\n                        errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                    }\n                    else {\n                        errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                    }\n                    this.parseError(errStr, {\n                        text: lexer.match,\n                        token: this.terminals_[symbol] || symbol,\n                        line: lexer.yylineno,\n                        loc: yyloc,\n                        expected: expected\n                    });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                    throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                    case 1:\n                        stack.push(symbol);\n                        vstack.push(lexer.yytext);\n                        lstack.push(lexer.yylloc);\n                        stack.push(action[1]);\n                        symbol = null;\n                        if (!preErrorSymbol) {\n                            yyleng = lexer.yyleng;\n                            yytext = lexer.yytext;\n                            yylineno = lexer.yylineno;\n                            yyloc = lexer.yylloc;\n                            if (recovering > 0) {\n                                recovering--;\n                            }\n                        }\n                        else {\n                            symbol = preErrorSymbol;\n                            preErrorSymbol = null;\n                        }\n                        break;\n                    case 2:\n                        len = this.productions_[action[1]][1];\n                        yyval.$ = vstack[vstack.length - len];\n                        yyval._$ = {\n                            first_line: lstack[lstack.length - (len || 1)].first_line,\n                            last_line: lstack[lstack.length - 1].last_line,\n                            first_column: lstack[lstack.length - (len || 1)].first_column,\n                            last_column: lstack[lstack.length - 1].last_column\n                        };\n                        if (ranges) {\n                            yyval._$.range = [\n                                lstack[lstack.length - (len || 1)].range[0],\n                                lstack[lstack.length - 1].range[1]\n                            ];\n                        }\n                        r = this.performAction.apply(yyval, [\n                            yytext,\n                            yyleng,\n                            yylineno,\n                            sharedState.yy,\n                            action[1],\n                            vstack,\n                            lstack\n                        ].concat(args));\n                        if (typeof r !== 'undefined') {\n                            return r;\n                        }\n                        if (len) {\n                            stack = stack.slice(0, -1 * len * 2);\n                            vstack = vstack.slice(0, -1 * len);\n                            lstack = lstack.slice(0, -1 * len);\n                        }\n                        stack.push(this.productions_[action[1]][0]);\n                        vstack.push(yyval.$);\n                        lstack.push(yyval._$);\n                        newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                        stack.push(newState);\n                        break;\n                    case 3:\n                        return true;\n                }\n            }\n            return true;\n        } };\n    /* generated by jison-lex 0.3.4 */\n    var lexer = (function () {\n        var lexer = ({\n            EOF: 1,\n            parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                    this.yy.parser.parseError(str, hash);\n                }\n                else {\n                    throw new Error(str);\n                }\n            },\n            // resets the lexer, sets new input\n            setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                    first_line: 1,\n                    first_column: 0,\n                    last_line: 1,\n                    last_column: 0\n                };\n                if (this.options.ranges) {\n                    this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n            },\n            // consumes and returns one char from the input\n            input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                    this.yylineno++;\n                    this.yylloc.last_line++;\n                }\n                else {\n                    this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                    this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n            },\n            // unshifts one char (or a string) into the input\n            unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                    this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.yylineno + 1,\n                    first_column: this.yylloc.first_column,\n                    last_column: lines ?\n                        (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                            + oldLines[oldLines.length - lines.length].length - lines[0].length :\n                        this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n            },\n            // When called from action, caches matched text and appends it on next action\n            more: function () {\n                this._more = true;\n                return this;\n            },\n            // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n            reject: function () {\n                if (this.options.backtrack_lexer) {\n                    this._backtrack = true;\n                }\n                else {\n                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                        text: \"\",\n                        token: null,\n                        line: this.yylineno\n                    });\n                }\n                return this;\n            },\n            // retain first n characters of the match\n            less: function (n) {\n                this.unput(this.match.slice(n));\n            },\n            // displays already matched input, i.e. for error messages\n            pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n            },\n            // displays upcoming input, i.e. for error messages\n            upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                    next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n            },\n            // displays the character position where the lexing error occurred, i.e. for error messages\n            showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n            },\n            // test the lexed token: return FALSE when not a match, otherwise return token\n            test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                    // save context\n                    backup = {\n                        yylineno: this.yylineno,\n                        yylloc: {\n                            first_line: this.yylloc.first_line,\n                            last_line: this.last_line,\n                            first_column: this.yylloc.first_column,\n                            last_column: this.yylloc.last_column\n                        },\n                        yytext: this.yytext,\n                        match: this.match,\n                        matches: this.matches,\n                        matched: this.matched,\n                        yyleng: this.yyleng,\n                        offset: this.offset,\n                        _more: this._more,\n                        _input: this._input,\n                        yy: this.yy,\n                        conditionStack: this.conditionStack.slice(0),\n                        done: this.done\n                    };\n                    if (this.options.ranges) {\n                        backup.yylloc.range = this.yylloc.range.slice(0);\n                    }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                    this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                    first_line: this.yylloc.last_line,\n                    last_line: this.yylineno + 1,\n                    first_column: this.yylloc.last_column,\n                    last_column: lines ?\n                        lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                        this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                    this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                    this.done = false;\n                }\n                if (token) {\n                    return token;\n                }\n                else if (this._backtrack) {\n                    // recover context\n                    for (var k in backup) {\n                        this[k] = backup[k];\n                    }\n                    return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n            },\n            // return next match in input\n            next: function () {\n                if (this.done) {\n                    return this.EOF;\n                }\n                if (!this._input) {\n                    this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                    this.yytext = '';\n                    this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                    tempMatch = this._input.match(this.rules[rules[i]]);\n                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                        match = tempMatch;\n                        index = i;\n                        if (this.options.backtrack_lexer) {\n                            token = this.test_match(tempMatch, rules[i]);\n                            if (token !== false) {\n                                return token;\n                            }\n                            else if (this._backtrack) {\n                                match = false;\n                                continue; // rule action called reject() implying a rule MISmatch.\n                            }\n                            else {\n                                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                                return false;\n                            }\n                        }\n                        else if (!this.options.flex) {\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    token = this.test_match(match, rules[index]);\n                    if (token !== false) {\n                        return token;\n                    }\n                    // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                    return false;\n                }\n                if (this._input === \"\") {\n                    return this.EOF;\n                }\n                else {\n                    return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                        text: \"\",\n                        token: null,\n                        line: this.yylineno\n                    });\n                }\n            },\n            // return next match that has a token\n            lex: function lex() {\n                var r = this.next();\n                if (r) {\n                    return r;\n                }\n                else {\n                    return this.lex();\n                }\n            },\n            // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n            begin: function begin(condition) {\n                this.conditionStack.push(condition);\n            },\n            // pop the previously active lexer condition state off the condition stack\n            popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                    return this.conditionStack.pop();\n                }\n                else {\n                    return this.conditionStack[0];\n                }\n            },\n            // produce the lexer rule set which is active for the currently active lexer condition state\n            _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                }\n                else {\n                    return this.conditions[\"INITIAL\"].rules;\n                }\n            },\n            // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n            topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                    return this.conditionStack[n];\n                }\n                else {\n                    return \"INITIAL\";\n                }\n            },\n            // alias for begin(condition)\n            pushState: function pushState(condition) {\n                this.begin(condition);\n            },\n            // return the number of states currently on the stack\n            stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n            },\n            options: {},\n            performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                    case 0: /* skip whitespace */\n                        break;\n                    case 1:\n                        return 24;\n                        break;\n                    case 2:\n                        return 38;\n                        break;\n                    case 3:\n                        return 22;\n                        break;\n                    case 4:\n                        return 20;\n                        break;\n                    case 5:\n                        return 12;\n                        break;\n                    case 6:\n                        return 5;\n                        break;\n                    case 7:\n                        return yy_.yytext[0];\n                        break;\n                }\n            },\n            rules: [/^(?:\\s+)/, /^(?:[0-9]+)/, /^(?:(==|!=|<=|>=|<|>))/, /^(?:[+\\-*/%]?=)/, /^(?:(\\&\\&)|\\|\\|)/, /^(?:[a-zA-Z_][a-zA-Z0-9._]*)/, /^(?:$)/, /^(?:.)/],\n            conditions: { \"INITIAL\": { \"rules\": [0, 1, 2, 3, 4, 5, 6, 7], \"inclusive\": true } }\n        });\n        return lexer;\n    })();\n    parser.lexer = lexer;\n    function Parser() {\n        this.yy = {};\n    }\n    Parser.prototype = parser;\n    parser.Parser = Parser;\n    return new Parser;\n})();\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\n    exports.parser = parser;\n    exports.Parser = parser.Parser;\n    exports.parse = function () { return parser.parse.apply(parser, arguments); };\n    exports.main = () => { };\n    if (typeof module !== 'undefined' && require.main === module) {\n        exports.main(process.argv.slice(1));\n    }\n}\n//# sourceMappingURL=parser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CHILDREN = {\n    ASSIGNMENT_EXPRESSION: [\n        { type: \"NODE\", key: \"right\" },\n    ],\n    SCRIPT: [{ type: \"ARRAY\", key: \"body\" }],\n    EXPRESSION_BLOCK: [{ type: \"ARRAY\", key: \"body\" }],\n    UNARY_EXPRESSION: [{ type: \"NODE\", key: \"value\" }],\n    NUMBER_LITERAL: [],\n    IDENTIFIER: [],\n    CALL_EXPRESSION: [\n        { type: \"ARRAY\", key: \"arguments\" },\n        { type: \"NODE\", key: \"callee\" },\n    ],\n    BINARY_EXPRESSION: [\n        { type: \"NODE\", key: \"left\" },\n        { type: \"NODE\", key: \"right\" },\n    ],\n    LOGICAL_EXPRESSION: [\n        { type: \"NODE\", key: \"left\" },\n        { type: \"NODE\", key: \"right\" },\n    ],\n};\nfunction mapAst(ast, cb) {\n    const children = CHILDREN[ast.type];\n    let newAst = ast;\n    if (children == null) {\n        throw new Error(`Unknown children definition for ${ast.type}`);\n    }\n    children.forEach(child => {\n        if (child.type === \"NODE\") {\n            const orignalChild = ast[child.key];\n            const newChild = mapAst(orignalChild, cb);\n            if (newChild !== orignalChild) {\n                newAst = Object.assign(Object.assign({}, newAst), { [child.key]: newChild });\n            }\n        }\n        else if (child.type === \"ARRAY\") {\n            const orignalChildren = ast[child.key];\n            const newChildren = orignalChildren.map(originalChild => mapAst(originalChild, cb));\n            const childrenHaveChanged = orignalChildren.some((child, i) => child !== newChildren[i]);\n            if (childrenHaveChanged) {\n                newAst = Object.assign(Object.assign({}, newAst), { [child.key]: newChildren });\n            }\n        }\n    });\n    return cb(newAst);\n}\nexports.mapAst = mapAst;\n//# sourceMappingURL=astUtils.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst parser_1 = require(\"./parser\");\nconst emitter_1 = require(\"./emitter\");\nconst encoding_1 = require(\"./encoding\");\nconst shims_1 = __importDefault(require(\"./shims\"));\nconst Utils = __importStar(require(\"./utils\"));\nconst wasmFunctions_1 = require(\"./wasmFunctions\");\nconst constants_1 = require(\"./constants\");\nfunction compileModule({ pools, functions: funcs, eelVersion = 2, preParsed = false, }) {\n    if (Object.keys(pools).includes(\"shims\")) {\n        throw new Error('You may not name a pool \"shims\". \"shims\" is reserved for injected JavaScript functions.');\n    }\n    // Collect all the globals that we expect to get as imports.\n    const importedVars = [];\n    Object.entries(pools).forEach(([poolName, pool]) => {\n        pool.forEach(variableName => {\n            importedVars.push([poolName, variableName]);\n        });\n    });\n    // Ensure all the imported globals get the first ids.\n    const varResolver = new Utils.ScopedIdMap();\n    importedVars.forEach(([poolName, variableName]) => {\n        varResolver.get(poolName, variableName);\n    });\n    const functionImports = Object.entries(shims_1.default).map(([name, func]) => {\n        return {\n            args: new Array(func.length).fill(null).map(_ => encoding_1.VAL_TYPE.f64),\n            // Shims implicitly always return a number\n            returns: [encoding_1.VAL_TYPE.f64],\n            name,\n        };\n    });\n    const localFuncOrder = [];\n    const moduleFuncs = [];\n    Object.entries(funcs).forEach(([name, { pool, code }]) => {\n        if (pools[pool] == null) {\n            const poolsList = Object.keys(pools);\n            if (poolsList.length === 0) {\n                throw new Error(`The function \"${name}\" was declared as using a variable ` +\n                    `pool named \"${pool}\" but no pools were defined.`);\n            }\n            throw new Error(`The function \"${name}\" was declared as using a variable ` +\n                `pool named \"${pool}\" which is not among the variable ` +\n                `pools defined. The defined variable pools are: ` +\n                `${Utils.formatList(poolsList)}.`);\n        }\n        const ast = preParsed ? code : parser_1.parse(code);\n        if (typeof ast === \"string\") {\n            // TODO: Change the API so this can be enforced by types\n            throw new Error(\"Got passed unparsed code without setting the preParsed flag\");\n        }\n        if (ast.type !== \"SCRIPT\") {\n            throw new Error(\"Invalid AST\");\n        }\n        if (ast.body.length === 0) {\n            return;\n        }\n        const localVariables = [];\n        const context = {\n            resolveVar: name => {\n                // The `reg00`-`reg99` variables are special in that they are shared between all pools.\n                if (/^reg\\d\\d$/.test(name)) {\n                    return varResolver.get(null, name);\n                }\n                return varResolver.get(pool, name);\n            },\n            resolveLocal: type => {\n                // TODO: We could provide a way for the emitter to release a local\n                // variable so that we can reuse it, much in the same way a traditional\n                // compiler does in register allocation.\n                localVariables.push(type);\n                return localVariables.length - 1;\n            },\n            resolveFunc: name => {\n                // If this is a shim, return the shim index.\n                const shimdex = functionImports.findIndex(func => func.name === name);\n                if (shimdex !== -1) {\n                    const call = encoding_1.op.call(shimdex);\n                    if (name === \"rand\" && eelVersion === 1) {\n                        return [...call, encoding_1.op.f64_floor];\n                    }\n                    return call;\n                }\n                // If it's not a shim and it's not a defined function, return null.\n                // The emitter will generate a nice error.\n                if (wasmFunctions_1.localFuncMap[name] == null) {\n                    return null;\n                }\n                let index = localFuncOrder.indexOf(name);\n                if (index === -1) {\n                    localFuncOrder.push(name);\n                    index = localFuncOrder.length - 1;\n                }\n                return encoding_1.op.call(index + functionImports.length);\n            },\n            rawSource: code,\n        };\n        const binary = emitter_1.emit(ast, context);\n        moduleFuncs.push({\n            binary,\n            exportName: name,\n            args: [],\n            returns: [],\n            localVariables,\n        });\n    });\n    const localFuncs = localFuncOrder.map(name => {\n        const func = wasmFunctions_1.localFuncMap[name];\n        // This check is technicaly redundant since we check inside resolveLocalFunc\n        // in the compiler context. It's here just to catch potential compiler bugs.\n        if (func == null) {\n            throw new Error(`Undefined local function \"${name}\"`);\n        }\n        return func;\n    });\n    // Given a function definition, return a hashable string representation of its signature.\n    const getSignatureKey = (func) => {\n        return [...func.args, \"|\", ...func.returns].join(\"-\");\n    };\n    // https://webassembly.github.io/spec/core/binary/modules.html#type-section\n    const types = [];\n    const typeIndexByKey = new Map();\n    [...functionImports, ...localFuncs, ...moduleFuncs].forEach(func => {\n        const key = getSignatureKey(func);\n        if (typeIndexByKey.has(key)) {\n            return;\n        }\n        types.push([\n            encoding_1.FUNCTION_TYPE,\n            ...encoding_1.encodeFlatVector(func.args),\n            ...encoding_1.encodeFlatVector(func.returns),\n        ]);\n        typeIndexByKey.set(key, types.length - 1);\n    });\n    function getTypeIndex(func) {\n        const key = getSignatureKey(func);\n        const typeIndex = typeIndexByKey.get(key);\n        if (typeIndex == null) {\n            throw new Error(`Failed to get a type index for key ${key}`);\n        }\n        return typeIndex;\n    }\n    // https://webassembly.github.io/spec/core/binary/modules.html#import-section\n    const imports = [\n        ...importedVars.map(([namespace, name]) => {\n            return [\n                ...encoding_1.encodeString(namespace),\n                ...encoding_1.encodeString(name),\n                ...[encoding_1.GLOBAL_TYPE, encoding_1.VAL_TYPE.f64, encoding_1.MUTABILITY.var],\n            ];\n        }),\n        ...functionImports.map((func, i) => {\n            const typeIndex = getTypeIndex(func);\n            return [\n                ...encoding_1.encodeString(\"shims\"),\n                ...encoding_1.encodeString(func.name),\n                ...[encoding_1.TYPE_IDX, ...encoding_1.unsignedLEB128(typeIndex)],\n            ];\n        }),\n    ];\n    // https://webassembly.github.io/spec/core/binary/modules.html#function-section\n    //\n    // > Functions are referenced through function indices, starting with the smallest\n    // > index not referencing a function import.\n    const functions = [...localFuncs, ...moduleFuncs].map(func => {\n        const typeIndex = getTypeIndex(func);\n        return encoding_1.unsignedLEB128(typeIndex);\n    });\n    const memories = [\n        // Only one memory\n        [\n            0x01,\n            ...encoding_1.unsignedLEB128(constants_1.WASM_MEMORY_SIZE),\n            ...encoding_1.unsignedLEB128(constants_1.WASM_MEMORY_SIZE),\n        ],\n    ];\n    // https://webassembly.github.io/spec/core/binary/modules.html#global-section\n    const globalCount = varResolver.size() - importedVars.length;\n    const globals = Utils.times(globalCount, () => {\n        return [\n            encoding_1.VAL_TYPE.f64,\n            encoding_1.MUTABILITY.var,\n            ...encoding_1.op.f64_const(0),\n            encoding_1.op.end,\n        ];\n    });\n    // https://webassembly.github.io/spec/core/binary/modules.html#binary-exportsec\n    const xports = [...moduleFuncs].map((func, i) => {\n        const funcIndex = i + functionImports.length + localFuncs.length;\n        return [\n            ...encoding_1.encodeString(func.exportName),\n            encoding_1.EXPORT_TYPE.FUNC,\n            ...encoding_1.unsignedLEB128(funcIndex),\n        ];\n    });\n    /* Uncomment this to expose memory\n    xports.push([\n      ...encodeString(\"memory\"),\n      EXPORT_TYPE.MEMORY,\n      ...unsignedLEB128(0),\n    ]);\n    */\n    // https://webassembly.github.io/spec/core/binary/modules.html#code-section\n    const codes = [...localFuncs, ...moduleFuncs].map(func => {\n        var _a;\n        // TODO: We could collapose consecutive types here, or even move to a two\n        // pass approach where ids are resolved after the emitter is run.\n        const localTypes = ((_a = func.localVariables) !== null && _a !== void 0 ? _a : []).map(type => {\n            return [...encoding_1.unsignedLEB128(1), type];\n        });\n        // It's a bit odd that every other section is an array of arrays and this\n        // one is an array of vectors. The spec says this is so that when navigating\n        // the binary functions can be skipped efficiently.\n        return encoding_1.encodeFlatVector([\n            ...encoding_1.encodeNestedVector(localTypes),\n            ...func.binary,\n            encoding_1.op.end,\n        ]);\n    });\n    return new Uint8Array([\n        // Magic module header\n        ...encoding_1.MAGIC,\n        // Version number\n        ...encoding_1.WASM_VERSION,\n        ...encoding_1.encodeSection(encoding_1.SECTION.TYPE, types),\n        ...encoding_1.encodeSection(encoding_1.SECTION.IMPORT, imports),\n        ...encoding_1.encodeSection(encoding_1.SECTION.FUNC, functions),\n        ...encoding_1.encodeSection(encoding_1.SECTION.MEMORY, memories),\n        ...encoding_1.encodeSection(encoding_1.SECTION.GLOBAL, globals),\n        ...encoding_1.encodeSection(encoding_1.SECTION.EXPORT, xports),\n        ...encoding_1.encodeSection(encoding_1.SECTION.CODE, codes),\n    ]);\n}\nexports.compileModule = compileModule;\n//# sourceMappingURL=compiler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://webassembly.github.io/spec/core/exec/runtime.html#page-size\nconst WASM_PAGE_SIZE = 65536;\nconst BYTES_PER_F64 = 8;\nconst BUFFER_COUNT = 2;\n// https://github.com/WACUP/vis_milk2/blob/de9625a89e724afe23ed273b96b8e48496095b6c/ns-eel2/ns-eel.h#L136\nexports.MAX_LOOP_COUNT = 1048576;\n// The number of items allowed in each buffer (megabuf/gmegabuf).\n// https://github.com/WACUP/vis_milk2/blob/de9625a89e724afe23ed273b96b8e48496095b6c/ns-eel2/ns-eel.h#L145\nexports.BUFFER_SIZE = 65536 * 128;\nexports.WASM_MEMORY_SIZE = Math.ceil((exports.BUFFER_SIZE * BYTES_PER_F64 * BUFFER_COUNT) / WASM_PAGE_SIZE);\n//# sourceMappingURL=constants.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst encoding_1 = require(\"./encoding\");\nconst shims_1 = __importDefault(require(\"./shims\"));\nconst errorUtils_1 = require(\"./errorUtils\");\nconst wasmFunctions_1 = require(\"./wasmFunctions\");\nconst utils_1 = require(\"./utils\");\nconst constants_1 = require(\"./constants\");\nfunction emit(ast, context) {\n    var _a, _b, _c;\n    switch (ast.type) {\n        case \"SCRIPT\": {\n            const body = ast.body.map((statement, i) => {\n                return [...emit(statement, context), encoding_1.op.drop];\n            });\n            return utils_1.flatten(body);\n        }\n        case \"EXPRESSION_BLOCK\": {\n            return emitExpressionBlock(ast.body, context);\n        }\n        case \"BINARY_EXPRESSION\": {\n            const left = emit(ast.left, context);\n            const right = emit(ast.right, context);\n            const operatorToOps = {\n                \"+\": [encoding_1.op.f64_add],\n                \"-\": [encoding_1.op.f64_sub],\n                \"*\": [encoding_1.op.f64_mul],\n                \"/\": context.resolveFunc(\"div\"),\n                \"%\": context.resolveFunc(\"mod\"),\n                \"|\": context.resolveFunc(\"bitwiseOr\"),\n                \"&\": context.resolveFunc(\"bitwiseAnd\"),\n                \"^\": context.resolveFunc(\"pow\"),\n                // Comparison operators\n                \"==\": [encoding_1.op.f64_sub, ...encoding_1.IS_ZEROISH, encoding_1.op.f64_convert_i32_s],\n                \"!=\": [encoding_1.op.f64_sub, ...encoding_1.IS_NOT_ZEROISH, encoding_1.op.f64_convert_i32_s],\n                \"<\": [encoding_1.op.f64_lt, encoding_1.op.f64_convert_i32_s],\n                \">\": [encoding_1.op.f64_gt, encoding_1.op.f64_convert_i32_s],\n                \"<=\": [encoding_1.op.f64_le, encoding_1.op.f64_convert_i32_s],\n                \">=\": [encoding_1.op.f64_ge, encoding_1.op.f64_convert_i32_s],\n            };\n            const code = operatorToOps[ast.operator];\n            if (code == null) {\n                throw errorUtils_1.createCompilerError(`Unknown binary expression operator ${ast.operator}`, ast.loc, context.rawSource);\n            }\n            return [...left, ...right, ...code];\n        }\n        case \"CALL_EXPRESSION\": {\n            const functionName = ast.callee.value;\n            // Destructure this so that TypeScript knows it won't get mutated.\n            const argList = ast.arguments;\n            const assertArity = (arity) => {\n                if (argList.length < arity) {\n                    throw errorUtils_1.createUserError(`Too few arguments passed to \\`${functionName}()\\`. Expected ${arity} but only got ${argList.length}.`, ast.loc, context.rawSource);\n                }\n                if (argList.length > arity) {\n                    throw errorUtils_1.createUserError(`Too many arguments passed to \\`${functionName}()\\`. Expected ${arity} but got ${argList.length}.`, argList[arity].loc, context.rawSource);\n                }\n            };\n            // Some functions have special behavior\n            switch (functionName) {\n                case \"exec2\":\n                    assertArity(2);\n                    return emitExpressionBlock(ast.arguments, context);\n                case \"exec3\":\n                    assertArity(3);\n                    return emitExpressionBlock(ast.arguments, context);\n                case \"if\":\n                    assertArity(3);\n                    const [test, consiquent, alternate] = ast.arguments;\n                    return emitConditional(test, consiquent, alternate, context);\n                case \"while\":\n                    assertArity(1);\n                    return emitWhile(ast.arguments[0], context);\n                case \"loop\":\n                    assertArity(2);\n                    return emitLoop(ast.arguments[0], ast.arguments[1], context);\n                case \"megabuf\":\n                case \"gmegabuf\":\n                    assertArity(1);\n                    const index = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n                    return [\n                        ...emit(ast.arguments[0], context),\n                        ...((_a = context.resolveFunc(\"_getBufferIndex\")) !== null && _a !== void 0 ? _a : []),\n                        ...encoding_1.op.local_tee(index),\n                        ...encoding_1.op.i32_const(-1),\n                        encoding_1.op.i32_ne,\n                        // STACK: [in range]\n                        ...encoding_1.op.if(encoding_1.BLOCK.f64),\n                        ...encoding_1.op.local_get(index),\n                        ...encoding_1.op.f64_load(3, emitAddMemoryOffset(functionName)),\n                        encoding_1.op.else,\n                        ...encoding_1.op.f64_const(0),\n                        encoding_1.op.end,\n                    ];\n                case \"assign\":\n                    assertArity(2);\n                    const variableIdentifier = ast.arguments[0];\n                    if (variableIdentifier.type != \"IDENTIFIER\") {\n                        throw errorUtils_1.createUserError(\"Expected the first argument of `assign()` to be an identifier.\", variableIdentifier.loc, context.rawSource);\n                    }\n                    const resolvedName = context.resolveVar(variableIdentifier.value);\n                    return [\n                        ...emit(ast.arguments[1], context),\n                        ...encoding_1.op.global_set(resolvedName),\n                        ...encoding_1.op.global_get(resolvedName),\n                    ];\n            }\n            // Function calls which can be linlined\n            const args = utils_1.flatten(ast.arguments.map(node => emit(node, context)));\n            // This is just a continuation of the above switch statement, but it's for functions which all parse their args the same.\n            switch (functionName) {\n                case \"abs\":\n                    assertArity(1);\n                    return [...args, encoding_1.op.f64_abs];\n                case \"sqrt\":\n                    assertArity(1);\n                    return [...args, encoding_1.op.f64_abs, encoding_1.op.f64_sqrt];\n                case \"int\":\n                    assertArity(1);\n                    return [...args, encoding_1.op.f64_floor];\n                case \"min\":\n                    assertArity(2);\n                    return [...args, encoding_1.op.f64_min];\n                case \"max\":\n                    assertArity(2);\n                    return [...args, encoding_1.op.f64_max];\n                case \"above\":\n                    assertArity(2);\n                    return [...args, encoding_1.op.f64_gt, encoding_1.op.f64_convert_i32_s];\n                case \"below\":\n                    assertArity(2);\n                    return [...args, encoding_1.op.f64_lt, encoding_1.op.f64_convert_i32_s];\n                case \"equal\":\n                    assertArity(2);\n                    return [...args, encoding_1.op.f64_sub, ...encoding_1.IS_ZEROISH, encoding_1.op.f64_convert_i32_s];\n                case \"bnot\":\n                    assertArity(1);\n                    return [...args, ...encoding_1.IS_ZEROISH, encoding_1.op.f64_convert_i32_s];\n                case \"floor\":\n                    assertArity(1);\n                    return [...args, encoding_1.op.f64_floor];\n                case \"ceil\":\n                    assertArity(1);\n                    return [...args, encoding_1.op.f64_ceil];\n            }\n            const invocation = context.resolveFunc(functionName);\n            if (invocation == null ||\n                // Ensure this isn't a private function. This is a bit awkward becuase\n                // Eel does implement some _ functions but while they are _intended_ to be\n                // private, they accidentally expose them. We should find a cleaner way\n                // to defining user accessible functions vs utility functions used by\n                // the compiler.\n                functionName.startsWith(\"_\")) {\n                throw errorUtils_1.createUserError(`\"${functionName}\" is not defined.`, ast.callee.loc, context.rawSource);\n            }\n            if (shims_1.default[functionName] != null) {\n                assertArity(shims_1.default[functionName].length);\n            }\n            else if (wasmFunctions_1.localFuncMap[functionName] != null) {\n                assertArity(wasmFunctions_1.localFuncMap[functionName].args.length);\n            }\n            else {\n                throw errorUtils_1.createCompilerError(`Missing arity information for the function \\`${functionName}()\\``, ast.callee.loc, context.rawSource);\n            }\n            return [...args, ...invocation];\n        }\n        case \"ASSIGNMENT_EXPRESSION\": {\n            const { left } = ast;\n            const rightCode = emit(ast.right, context);\n            const mutationCode = getAssignmentOperatorMutation(ast, context);\n            if (left.type === \"IDENTIFIER\") {\n                const resolvedName = context.resolveVar(left.value);\n                // TODO: In lots of cases we don't care about the return value. In those\n                // cases we should try to find a way to omit the `get/drop` combo.\n                // Peephole optimization seems to be the conventional way to do this.\n                // https://en.wikipedia.org/wiki/Peephole_optimization\n                const get = encoding_1.op.global_get(resolvedName);\n                const set = encoding_1.op.global_set(resolvedName);\n                // `=` is a special case in that it does not need the original value.\n                if (mutationCode === null) {\n                    return [...rightCode, ...set, ...get];\n                }\n                return [...get, ...rightCode, ...mutationCode, ...set, ...get];\n            }\n            if (left.type !== \"CALL_EXPRESSION\") {\n                throw errorUtils_1.createCompilerError(\n                // @ts-ignore This is a guard in case the parser has an error\n                `Unexpected left hand side type for assignment: ${left.type}`, ast.loc, context.rawSource);\n            }\n            // Special assignment case for `megabuf(n) = e` and `gmegabuf(n) = e`.\n            const localIndex = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n            if (left.arguments.length !== 1) {\n                throw errorUtils_1.createUserError(`Expected 1 argument when assinging to a buffer but got ${left.arguments.length}.`, left.arguments.length === 0 ? left.loc : left.arguments[1].loc, context.rawSource);\n            }\n            const bufferName = left.callee.value;\n            if (bufferName !== \"gmegabuf\" && bufferName !== \"megabuf\") {\n                throw errorUtils_1.createUserError(\"The only function calls which may be assigned to are `gmegabuf()` and `megabuf()`.\", left.callee.loc, context.rawSource);\n            }\n            const addOffset = emitAddMemoryOffset(bufferName);\n            if (mutationCode === null) {\n                // TODO: Move this to wasmFunctions once we know how to call functions\n                // from within functions (need to get the offset).\n                const unnormalizedIndex = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n                const rightValue = context.resolveLocal(encoding_1.VAL_TYPE.f64);\n                return [\n                    // Emit the right hand side unconditionally to ensure it always runs.\n                    ...rightCode,\n                    ...encoding_1.op.local_set(rightValue),\n                    ...emit(left.arguments[0], context),\n                    ...((_b = context.resolveFunc(\"_getBufferIndex\")) !== null && _b !== void 0 ? _b : []),\n                    ...encoding_1.op.local_tee(unnormalizedIndex),\n                    ...encoding_1.op.i32_const(0),\n                    encoding_1.op.i32_lt_s,\n                    // STACK: [is the index out of range?]\n                    ...encoding_1.op.if(encoding_1.BLOCK.f64),\n                    ...encoding_1.op.f64_const(0),\n                    encoding_1.op.else,\n                    ...encoding_1.op.local_get(unnormalizedIndex),\n                    ...encoding_1.op.local_tee(localIndex),\n                    // STACK: [buffer index]\n                    ...encoding_1.op.local_get(rightValue),\n                    // STACK: [buffer index, right]\n                    ...encoding_1.op.f64_store(3, addOffset),\n                    // STACK: []\n                    ...encoding_1.op.local_get(rightValue),\n                    // STACK: [Right/Buffer value]\n                    encoding_1.op.end,\n                ];\n            }\n            // TODO: Move this to wasmFunctions once we know how to call functions\n            // from within functions (need to get the offset).\n            const index = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n            const inBounds = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n            const rightValue = context.resolveLocal(encoding_1.VAL_TYPE.f64);\n            const result = context.resolveLocal(encoding_1.VAL_TYPE.f64);\n            return [\n                ...rightCode,\n                ...encoding_1.op.local_set(rightValue),\n                ...emit(left.arguments[0], context),\n                ...((_c = context.resolveFunc(\"_getBufferIndex\")) !== null && _c !== void 0 ? _c : []),\n                ...encoding_1.op.local_tee(index),\n                // STACK: [index]\n                ...encoding_1.op.i32_const(-1),\n                encoding_1.op.i32_ne,\n                ...encoding_1.op.local_tee(inBounds),\n                ...encoding_1.op.if(encoding_1.BLOCK.f64),\n                ...encoding_1.op.local_get(index),\n                ...encoding_1.op.f64_load(3, addOffset),\n                encoding_1.op.else,\n                ...encoding_1.op.f64_const(0),\n                encoding_1.op.end,\n                // STACK: [current value from memory || 0]\n                // Apply the mutation\n                ...encoding_1.op.local_get(rightValue),\n                ...mutationCode,\n                ...encoding_1.op.local_tee(result),\n                // STACK: [new value]\n                ...encoding_1.op.local_get(inBounds),\n                ...encoding_1.op.if(encoding_1.BLOCK.void),\n                ...encoding_1.op.local_get(index),\n                ...encoding_1.op.local_get(result),\n                ...encoding_1.op.f64_store(3, addOffset),\n                encoding_1.op.end,\n            ];\n        }\n        case \"LOGICAL_EXPRESSION\": {\n            const left = emit(ast.left, context);\n            const right = emit(ast.right, context);\n            const behaviorMap = {\n                \"&&\": {\n                    comparison: encoding_1.IS_ZEROISH,\n                    shortCircutValue: 0,\n                },\n                \"||\": {\n                    comparison: encoding_1.IS_NOT_ZEROISH,\n                    shortCircutValue: 1,\n                },\n            };\n            const behavior = behaviorMap[ast.operator];\n            if (behavior == null) {\n                throw errorUtils_1.createCompilerError(`Unknown logical expression operator ${ast.operator}`, ast.loc, context.rawSource);\n            }\n            const { comparison, shortCircutValue } = behavior;\n            return [\n                ...left,\n                ...comparison,\n                ...encoding_1.op.if(encoding_1.BLOCK.f64),\n                ...encoding_1.op.f64_const(shortCircutValue),\n                encoding_1.op.else,\n                ...right,\n                ...encoding_1.IS_NOT_ZEROISH,\n                encoding_1.op.f64_convert_i32_s,\n                encoding_1.op.end,\n            ];\n        }\n        case \"UNARY_EXPRESSION\": {\n            const value = emit(ast.value, context);\n            const operatorToCode = {\n                \"-\": [encoding_1.op.f64_neg],\n                \"+\": [],\n                \"!\": [...encoding_1.IS_ZEROISH, encoding_1.op.f64_convert_i32_s],\n            };\n            const code = operatorToCode[ast.operator];\n            if (code == null) {\n                throw errorUtils_1.createCompilerError(`Unknown logical unary operator ${ast.operator}`, ast.loc, context.rawSource);\n            }\n            return [...value, ...code];\n        }\n        case \"IDENTIFIER\":\n            const variableName = ast.value;\n            // TODO: It's a bit odd that not every IDENTIFIER node gets emitted. In\n            // function calls and assignments we just peek at the name and never emit\n            // it.\n            return encoding_1.op.global_get(context.resolveVar(variableName));\n        case \"NUMBER_LITERAL\":\n            return encoding_1.op.f64_const(ast.value);\n        default:\n            throw errorUtils_1.createCompilerError(\n            // @ts-ignore This runtime check is here because the caller may not be type-checked\n            `Unknown AST node type ${ast.type}`, \n            // @ts-ignore This runtime check is here because the caller may not be type-checked\n            ast.loc, context.rawSource);\n    }\n}\nexports.emit = emit;\nfunction emitExpressionBlock(body, context) {\n    const statements = body.map((statement, i) => {\n        return emit(statement, context);\n    });\n    return utils_1.flatten(utils_1.arrayJoin(statements, [encoding_1.op.drop]));\n}\nfunction emitWhile(expression, context) {\n    const body = emit(expression, context);\n    const iterationCount = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n    return [\n        ...encoding_1.op.i32_const(0),\n        ...encoding_1.op.local_set(iterationCount),\n        ...encoding_1.op.loop(encoding_1.BLOCK.void),\n        // Increment and check loop count\n        ...encoding_1.op.local_get(iterationCount),\n        ...encoding_1.op.i32_const(1),\n        encoding_1.op.i32_add,\n        ...encoding_1.op.local_tee(iterationCount),\n        // STACK: [iteration count]\n        ...encoding_1.op.i32_const(constants_1.MAX_LOOP_COUNT),\n        encoding_1.op.i32_lt_u,\n        // STACK: [loop in range]\n        ...body,\n        ...encoding_1.IS_NOT_ZEROISH,\n        // STACK: [loop in range, body is truthy]\n        encoding_1.op.i32_and,\n        // STACK: [can continue]\n        ...encoding_1.op.br_if(0),\n        encoding_1.op.end,\n        ...encoding_1.op.f64_const(0),\n    ];\n}\nfunction emitLoop(count, expression, context) {\n    const body = emit(expression, context);\n    const localIndex = context.resolveLocal(encoding_1.VAL_TYPE.i32);\n    return [\n        ...encoding_1.op.block(encoding_1.BLOCK.void),\n        // Assign the count to a variable\n        ...emit(count, context),\n        encoding_1.op.i32_trunc_f64_s,\n        ...encoding_1.op.local_tee(localIndex),\n        ...encoding_1.op.i32_const(0),\n        encoding_1.op.i32_le_s,\n        ...encoding_1.op.br_if(1),\n        ...encoding_1.op.loop(encoding_1.BLOCK.void),\n        // Run the body\n        ...body,\n        encoding_1.op.drop,\n        // Decrement the count\n        ...encoding_1.op.local_get(localIndex),\n        ...encoding_1.op.i32_const(1),\n        encoding_1.op.i32_sub,\n        ...encoding_1.op.local_tee(localIndex),\n        ...encoding_1.op.i32_const(0),\n        encoding_1.op.i32_ne,\n        ...encoding_1.op.br_if(0),\n        encoding_1.op.end,\n        encoding_1.op.end,\n        ...encoding_1.op.f64_const(0),\n    ];\n}\nfunction emitConditional(test, consiquent, alternate, context) {\n    // TODO: In some cases https://webassembly.studio/ compiles these to use `select`.\n    // Is that an optimization that we might want as well?\n    return [\n        ...emit(test, context),\n        ...encoding_1.IS_NOT_ZEROISH,\n        ...encoding_1.op.if(encoding_1.BLOCK.f64),\n        ...emit(consiquent, context),\n        encoding_1.op.else,\n        ...emit(alternate, context),\n        encoding_1.op.end,\n    ];\n}\n// There are two sections of memory. This function emits code to add the correct\n// offset to an i32 index already on the stack.\nfunction emitAddMemoryOffset(name) {\n    switch (name) {\n        case \"gmegabuf\":\n            return constants_1.BUFFER_SIZE * 8;\n        case \"megabuf\":\n            return 0;\n    }\n}\nfunction getAssignmentOperatorMutation(ast, context) {\n    const operatorToCode = {\n        \"+=\": [encoding_1.op.f64_add],\n        \"-=\": [encoding_1.op.f64_sub],\n        \"*=\": [encoding_1.op.f64_mul],\n        \"/=\": [encoding_1.op.f64_div],\n        \"%=\": context.resolveFunc(\"mod\"),\n        \"=\": null,\n    };\n    const operatorCode = operatorToCode[ast.operator];\n    if (operatorCode === undefined) {\n        throw errorUtils_1.createCompilerError(`Unknown assignment operator \"${ast.operator}\"`, ast.loc, context.rawSource);\n    }\n    return operatorCode;\n}\n//# sourceMappingURL=emitter.js.map","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ieee754 = __importStar(require(\"./ieee754\"));\nconst utils_1 = require(\"./utils\");\nexports.MAGIC = [0x00, 0x61, 0x73, 0x6d];\nexports.WASM_VERSION = [0x01, 0x00, 0x00, 0x00];\nexports.EPSILON = 0.00001;\n// An intial attempt to construct a Wasm binary by hand.\n/*\n0\tcustom section\n1\ttype section\n2\timport section\n3\tfunction section\n4\ttable section\n5\tmemory section\n6\tglobal section\n7\texport section\n8\tstart section\n9\telement section\n10\tcode section\n11\tdata section\n*/\n// https://webassembly.github.io/spec/core/binary/modules.html#sections\nexports.SECTION = {\n    TYPE: 1,\n    IMPORT: 2,\n    FUNC: 3,\n    MEMORY: 5,\n    GLOBAL: 6,\n    EXPORT: 7,\n    CODE: 10,\n};\nexports.EXPORT_TYPE = {\n    FUNC: 0x00,\n    TABLE: 0x01,\n    MEMORY: 0x02,\n    GLOBAL: 0x03,\n};\nexports.op = {\n    /*\n     * Control Instructions\n     * https://webassembly.github.io/spec/core/binary/instructions.html#control-instructions\n     */\n    // unreachable: 0x00,\n    // nop: 0x01,\n    block: (blockType) => [0x02, blockType],\n    loop: (blockType) => [0x03, blockType],\n    if: (retType) => [0x04, retType],\n    else: 0x05,\n    end: 0x0b,\n    // br: (i: number) => [0x0c, ...signedLEB128(i)],\n    br_if: (i) => [0x0d, ...unsignedLEB128(i)],\n    // br_table: 0x0d,\n    // return: 0x0f,\n    call: (i) => [0x10, ...unsignedLEB128(i)],\n    // call_indirect: 0x11,\n    /*\n     * Parametric Instructions\n     * https://webassembly.github.io/spec/core/binary/instructions.html#parametric-instructions\n     */\n    drop: 0x1a,\n    select: 0x1b,\n    /*\n     * Variable Instructions\n     * https://webassembly.github.io/spec/core/binary/instructions.html#variable-instructions\n     */\n    local_get: (i) => [0x20, ...unsignedLEB128(i)],\n    local_set: (i) => [0x21, ...unsignedLEB128(i)],\n    local_tee: (i) => [0x22, ...unsignedLEB128(i)],\n    global_get: (i) => [0x23, ...unsignedLEB128(i)],\n    global_set: (i) => [0x24, ...unsignedLEB128(i)],\n    /*\n     * Memory Instructions\n     * https://webassembly.github.io/spec/core/binary/instructions.html#memory-instructions\n     */\n    f64_load: (align, offset) => [\n        0x2b,\n        ...unsignedLEB128(align),\n        ...unsignedLEB128(offset),\n    ],\n    f64_store: (align, offset) => [\n        0x39,\n        ...unsignedLEB128(align),\n        ...unsignedLEB128(offset),\n    ],\n    /*\n     * Numeric Instructions\n     * https://webassembly.github.io/spec/core/binary/instructions.html#numeric-instructions\n     */\n    i32_const: (i) => [0x41, ...signedLEB128(i)],\n    // i64_const: 0x42,\n    // f32_const: 0x43,\n    f64_const: (i) => [0x44, ...encodef64(i)],\n    i32_eqz: 0x45,\n    // i32_eq: 0x46,\n    i32_ne: 0x47,\n    i32_lt_s: 0x48,\n    i32_lt_u: 0x49,\n    i32_gt_s: 0x4a,\n    // i32_gt_u: 0x4b,\n    i32_le_s: 0x4c,\n    i32_le_u: 0x4d,\n    i32_ge_s: 0x4e,\n    // i32_ge_u: 0x4f,\n    // [0x50...0x5a] i64\n    // [0x5b...0x60] f32\n    f64_eq: 0x61,\n    f64_ne: 0x62,\n    f64_lt: 0x63,\n    f64_gt: 0x64,\n    f64_le: 0x65,\n    f64_ge: 0x66,\n    // i32_clz: 0x67,\n    // i32_ctz: 0x68,\n    // i32_popcnt: 0x69,\n    i32_add: 0x6a,\n    i32_sub: 0x6b,\n    i32_mul: 0x6c,\n    // i32_div_s: 0x6d,\n    // i32_div_u: 0x6e,\n    i32_rem_s: 0x6f,\n    // i32_rem_u: 0x70,\n    i32_and: 0x71,\n    i32_or: 0x72,\n    // [0x73...0x78] More i32\n    // [0x79...0x8a] More i64\n    i64_rem_s: 0x81,\n    i64_and: 0x83,\n    i64_or: 0x84,\n    // [0x8b...0x98] More f32\n    f64_abs: 0x99,\n    f64_neg: 0x9a,\n    f64_ceil: 0x9b,\n    f64_floor: 0x9c,\n    // f64_trunc: 0x9d,\n    // f64_nearest: 0x9e,\n    f64_sqrt: 0x9f,\n    f64_add: 0xa0,\n    f64_sub: 0xa1,\n    f64_mul: 0xa2,\n    f64_div: 0xa3,\n    f64_min: 0xa4,\n    f64_max: 0xa5,\n    // f64_copysign: 0xa6,\n    i32_trunc_f64_s: 0xaa,\n    i32_trunc_f64_u: 0xab,\n    i64_trunc_s_f64: 0xb0,\n    f64_convert_i64_s: 0xb9,\n    f64_convert_i32_s: 0xb7,\n};\n// https://webassembly.github.io/spec/core/binary/instructions.html#binary-blocktype\nexports.VAL_TYPE = {\n    i32: 0x7f,\n    i64: 0x7e,\n    f32: 0x7d,\n    f64: 0x7c,\n};\nexports.MUTABILITY = {\n    const: 0x00,\n    var: 0x01,\n};\nexports.BLOCK = {\n    void: 0x40,\n    i32: 0x7f,\n    i64: 0x7e,\n    f32: 0x7d,\n    f64: 0x7c,\n};\n// http://webassembly.github.io/spec/core/binary/types.html#function-types\nexports.FUNCTION_TYPE = 0x60;\n// I think these might actually be specific to importdesc\nexports.MEMORY_IDX = 0x02;\nexports.GLOBAL_TYPE = 0x03;\nexports.TYPE_IDX = 0x00;\n// Takes an f64 on the stack and leaves an int32 boolean representing if it's\n// within epsilon of zero.\nexports.IS_ZEROISH = [\n    exports.op.f64_abs,\n    ...exports.op.f64_const(exports.EPSILON),\n    exports.op.f64_lt,\n];\nexports.IS_NOT_ZEROISH = [\n    exports.op.f64_abs,\n    ...exports.op.f64_const(exports.EPSILON),\n    exports.op.f64_gt,\n];\n// f64\nfunction encodef64(num) {\n    const arr = new Uint8Array(8);\n    ieee754.write(arr, num);\n    return arr;\n}\nexports.encodef64 = encodef64;\nexports.encodeString = (str) => [str.length].concat(str.split(\"\").map(s => s.charCodeAt(0)));\nfunction unsignedLEB128(n) {\n    const buffer = [];\n    do {\n        let byte = n & 0x7f;\n        n >>>= 7;\n        if (n !== 0) {\n            byte |= 0x80;\n        }\n        buffer.push(byte);\n    } while (n !== 0);\n    return buffer;\n}\nexports.unsignedLEB128 = unsignedLEB128;\n// https://github.com/shmishtopher/wasm-LEB128/blob/2f1039636e758293e571f996e8012c4d69f4b58f/lib/index.js#L6\nfunction signedLEB128(value) {\n    let bytes = [];\n    let byte = 0x00;\n    let size = Math.ceil(Math.log2(Math.abs(value)));\n    let negative = value < 0;\n    let more = true;\n    while (more) {\n        byte = value & 127;\n        value = value >> 7;\n        if (negative) {\n            value = value | -(1 << (size - 7));\n        }\n        if ((value == 0 && (byte & 0x40) == 0) ||\n            (value == -1 && (byte & 0x40) == 0x40)) {\n            more = false;\n        }\n        else {\n            byte = byte | 128;\n        }\n        bytes.push(byte);\n    }\n    return bytes;\n}\nexports.signedLEB128 = signedLEB128;\n// https://webassembly.github.io/spec/core/binary/conventions.html#binary-vec\n// Vectors are encoded with their length followed by their element sequence\nexports.encodeFlatVector = (data) => unsignedLEB128(data.length).concat(data);\nexports.encodeNestedVector = (data) => unsignedLEB128(data.length).concat(utils_1.flatten(data));\n// subSections is an array of arrays\nfunction encodeSection(type, subSections) {\n    // Sections are all optional, so if we get an empty vector of subSections, we\n    // can omit the whole section.\n    if (subSections.length === 0) {\n        return [];\n    }\n    // The size of this vector is not needed for decoding, but can be\n    // used to skip sections when navigating through a binary.\n    // TODO: Remove this assertion once we are more confident in our output.\n    const vec = exports.encodeFlatVector(exports.encodeNestedVector(subSections));\n    vec.unshift(type);\n    return vec;\n}\nexports.encodeSection = encodeSection;\n//# sourceMappingURL=encoding.js.map","// This module is in charge of selecting either the pre-built module or the one\n// that builds it a runtime with jison.\nlet parserImpl = require(\"../build/parser\");\n/*\nlet parserImpl = null;\n// Always use the dynamic one, while we figure out why the built one doens't work.\nif (process.env.NODE_ENV === \"production\") {\n  parserImpl = require(\"../build/parser\");\n} else {\n  parserImpl = require(\"../tools/buildParser\");\n}\n*/\nmodule.exports = { parse: parserImpl.parse };\n//# sourceMappingURL=envParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_1 = require(\"./utils\");\n/* Build up a string showing a formatted source location in context with line numbers.\n *\n *   2 | z = sqr(y, 10);\n * > 3 | x = wat();\n *     |     ^^^\n *   4 | y = 100;\n */\nfunction printLoc(loc, rawSource, contextLines = 1) {\n    const firstIndex = Math.max(loc.first_line - 1 - contextLines, 0);\n    const lastIndex = loc.last_line + contextLines;\n    const sourceLines = rawSource.split(\"\\n\").slice(firstIndex, lastIndex);\n    const annotatedLines = sourceLines.map((line, i) => {\n        const lineNumber = i + firstIndex + 1;\n        const inRange = lineNumber >= loc.first_line && lineNumber <= loc.last_line;\n        const gutter = inRange ? \">\" : \" \";\n        return `${gutter} ${lineNumber} | ${line}`;\n    });\n    if (loc.first_line === loc.last_line) {\n        const padding = utils_1.repeat(loc.first_column, \" \");\n        const underline = utils_1.repeat(loc.last_column - loc.first_column, \"^\");\n        const insertIndex = loc.first_line - firstIndex;\n        annotatedLines.splice(insertIndex, 0, `    | ${padding}${underline}`);\n    }\n    return annotatedLines.join(\"\\n\");\n}\nexports.printLoc = printLoc;\nclass CompilerError extends Error {\n    constructor(message, loc, rawSource) {\n        super(message);\n        // TODO: Create an error message that encourages users to open an issue at\n        // https://github.com/captbaritone/eel-wasm/issues is they see this, and gives\n        // Them an easy way to attach the right context.\n        this.sourceContext = printLoc(loc, rawSource);\n        this.loc = loc;\n    }\n}\nclass UserError extends CompilerError {\n}\nfunction createUserError(message, loc, rawSource) {\n    return new UserError(message, loc, rawSource);\n}\nexports.createUserError = createUserError;\nfunction createCompilerError(message, loc, rawSource) {\n    return new CompilerError(message, loc, rawSource);\n}\nexports.createCompilerError = createCompilerError;\n//# sourceMappingURL=errorUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copied from https://github.com/feross/ieee754/blob/master/index.js\nfunction write(buffer, value) {\n    // Originally these four were arguments, but we only ever use it like this.\n    const offset = 0;\n    const isLE = true;\n    let mLen = 52;\n    const nBytes = 8;\n    var e, m, c;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n    var i = isLE ? 0 : nBytes - 1;\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n    value = Math.abs(value);\n    if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n    }\n    else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n        if (value * (c = Math.pow(2, -e)) < 1) {\n            e--;\n            c *= 2;\n        }\n        if (e + eBias >= 1) {\n            value += rt / c;\n        }\n        else {\n            value += rt * Math.pow(2, 1 - eBias);\n        }\n        if (value * c >= 2) {\n            e++;\n            c /= 2;\n        }\n        if (e + eBias >= eMax) {\n            m = 0;\n            e = eMax;\n        }\n        else if (e + eBias >= 1) {\n            m = (value * c - 1) * Math.pow(2, mLen);\n            e = e + eBias;\n        }\n        else {\n            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n            e = 0;\n        }\n    }\n    for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) { }\n    e = (e << mLen) | m;\n    eLen += mLen;\n    for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) { }\n    buffer[offset + i - d] |= s * 128;\n}\nexports.write = write;\n//# sourceMappingURL=ieee754.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst parser_1 = require(\"./parser\");\nexports.parse = parser_1.parse;\nconst compiler_1 = require(\"./compiler\");\nexports.compileModule = compiler_1.compileModule;\nconst shims_1 = __importDefault(require(\"./shims\"));\nexports.shims = shims_1.default;\nconst loader_1 = require(\"./loader\");\nexports.loadModule = loader_1.loadModule;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shims_1 = __importDefault(require(\"./shims\"));\nconst compiler_1 = require(\"./compiler\");\nasync function loadModule({ pools, functions, eelVersion = 2, }) {\n    let compilerPools = {};\n    Object.entries(pools).forEach(([key, globals]) => {\n        compilerPools[key] = new Set(Object.keys(globals));\n    });\n    const buffer = compiler_1.compileModule({\n        pools: compilerPools,\n        functions,\n        eelVersion,\n    });\n    const mod = await WebAssembly.compile(buffer);\n    var importObject = Object.assign(Object.assign({}, pools), { shims: shims_1.default });\n    return await WebAssembly.instantiate(mod, importObject);\n}\nexports.loadModule = loadModule;\n//# sourceMappingURL=loader.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst preProcessor_1 = require(\"./preProcessor\");\nconst envParser_1 = require(\"./envParser\");\nconst astUtils_1 = require(\"./astUtils\");\nconst errorUtils_1 = require(\"./errorUtils\");\nfunction mapLoc(loc, mapper) {\n    const first = preProcessor_1.getLoc(mapper, loc.first_column);\n    const last = preProcessor_1.getLoc(mapper, loc.last_column);\n    return {\n        first_column: first.column,\n        last_column: last.column,\n        first_line: first.line,\n        last_line: last.line,\n    };\n}\nfunction parse(code) {\n    const [processedCode, mapper] = preProcessor_1.preProcess(code);\n    try {\n        const ast = envParser_1.parse(processedCode);\n        return astUtils_1.mapAst(ast, (node) => {\n            if (node.loc.first_line !== 1 || node.loc.last_line != 1) {\n                throw errorUtils_1.createCompilerError(\"Unexpected multiline\", node.loc, code);\n            }\n            return Object.assign(Object.assign({}, node), { loc: mapLoc(node.loc, mapper) });\n        });\n    }\n    catch (e) {\n        if (e.hash == null) {\n            throw e;\n        }\n        throw errorUtils_1.createUserError(`Parse Error: ${e.message.split(\"\\n\")[3]}`, mapLoc(e.hash.loc, mapper), code);\n    }\n}\nexports.parse = parse;\n//# sourceMappingURL=parser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getLoc(mapper, destCol) {\n    let previousAnchor = { destCol: 1, srcCol: 1, srcLine: 1 };\n    // Find the last anchor with a destCol > destCol.\n    // Reversed: Find the first anchor with a destCol <= destCol\n    // TODO: Use binary search\n    mapper.forEach(anchor => {\n        if (anchor.destCol > destCol) {\n            return;\n        }\n        previousAnchor = anchor;\n    });\n    const remainingColumns = destCol - previousAnchor.destCol;\n    return {\n        column: previousAnchor.srcCol + remainingColumns,\n        line: previousAnchor.srcLine,\n    };\n}\nexports.getLoc = getLoc;\n// Started with this function: https://github.com/WACUP/vis_milk2/blob/cc2e85aed44373d0b6b2115c0806ec035856860a/vis_milk2/state.cpp#L1532-L1557\nfunction preProcess(src) {\n    const mapper = [];\n    let srcLine = 1;\n    let dest = \"\";\n    let lineStart = 0;\n    let inlineComment = false;\n    let blockComment = false;\n    let emitAnchor = false;\n    for (let i = 0; i < src.length; i++) {\n        const char = src[i];\n        if (emitAnchor) {\n            const destCol = dest.length + 1;\n            const srcCol = i - lineStart + 1;\n            mapper.push({ destCol, srcCol, srcLine });\n            emitAnchor = false;\n        }\n        if (char === \"\\n\") {\n            inlineComment = false;\n            srcLine++;\n            lineStart = i + 1;\n            emitAnchor = true;\n        }\n        else if (char === \"\\r\" && src[i + 1] === \"\\n\") {\n            i++;\n            inlineComment = false;\n            srcLine++;\n            lineStart = i + 1;\n            emitAnchor = true;\n        }\n        else if (blockComment && char === \"*\" && src[i + 1] === \"/\") {\n            // TODO: What if we are not currently in a block comment?\n            blockComment = false;\n            i++;\n            emitAnchor = true;\n        }\n        else if ((char === \"\\\\\" && src[i + 1] === \"\\\\\") ||\n            (char === \"/\" && src[i + 1] === \"/\")) {\n            inlineComment = true;\n            i++;\n        }\n        else if (char === \"/\" && src[i + 1] === \"*\") {\n            blockComment = true;\n            i++;\n        }\n        else if (!inlineComment && !blockComment) {\n            dest += char;\n        }\n    }\n    return [dest, mapper];\n}\nexports.preProcess = preProcess;\n//# sourceMappingURL=preProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EPSILON = 0.00001;\nconst shims = {\n    // TODO: Reimplement some of these functions natively in Wasm?\n    sin: Math.sin,\n    cos: Math.cos,\n    tan: Math.tan,\n    asin: Math.asin,\n    acos: Math.acos,\n    atan: Math.atan,\n    atan2: Math.atan2,\n    rand: a => Math.random() * a,\n    pow: Math.pow,\n    log: Math.log,\n    log10: Math.log10,\n    exp: Math.exp,\n    sigmoid: function (x, y) {\n        const t = 1 + Math.exp(-x * y);\n        return Math.abs(t) > EPSILON ? 1.0 / t : 0;\n    },\n};\nexports.default = shims;\n//# sourceMappingURL=shims.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayJoin(arr, joiner) {\n    const newArr = [];\n    for (let i = 0; i < arr.length; i++) {\n        newArr.push(arr[i]);\n        const last = i === arr.length - 1;\n        if (!last) {\n            newArr.push(joiner);\n        }\n    }\n    return newArr;\n}\nexports.arrayJoin = arrayJoin;\nfunction flatten(arr) {\n    return [].concat.apply([], arr);\n}\nexports.flatten = flatten;\nfunction times(n, cb) {\n    return new Array(n).fill(null).map((_, i) => cb(i));\n}\nexports.times = times;\nfunction repeat(n, char) {\n    return new Array(n).fill(char).join(\"\");\n}\nexports.repeat = repeat;\n// Maintain an ordered list of indexes for namespace/key pairs.\n// In Wasm binary variables are referenced by their index. In our emitter we\n// want to emit variables indexes as we encounter their names. This data\n// structure lets us issue variable indexes on demmand and then iterate through\n// them post facto.\n//\n// `null` may be passed for the namespace argument in order to get a global\n// variable that exists in all namespaces.\nclass ScopedIdMap {\n    constructor() {\n        this._map = new Map();\n    }\n    // Get the index of a given namespace/key pair\n    get(namespace, key) {\n        const jointKey = namespace == null ? key : `${namespace}::${key}`;\n        if (!this._map.has(jointKey)) {\n            this._map.set(jointKey, this._map.size);\n        }\n        // @ts-ignore We know the key is here.\n        return this._map.get(jointKey);\n    }\n    size() {\n        return this._map.size;\n    }\n}\nexports.ScopedIdMap = ScopedIdMap;\nfunction formatList(list) {\n    if (list.length === 0) {\n        throw new Error(\"Cannot format an empty list\");\n    }\n    if (list.length === 1) {\n        return list[0];\n    }\n    const quoted = list.map(name => `\"${name}\"`);\n    const last = quoted.pop();\n    return quoted.join(\", \") + ` and ${last}`;\n}\nexports.formatList = formatList;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst encoding_1 = require(\"./encoding\");\nconst constants_1 = require(\"./constants\");\nexports.localFuncMap = {\n    sqr: {\n        args: [encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        binary: [...encoding_1.op.local_get(0), ...encoding_1.op.local_get(0), encoding_1.op.f64_mul],\n    },\n    bor: {\n        args: [encoding_1.VAL_TYPE.f64, encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        binary: [\n            ...encoding_1.op.local_get(0),\n            ...encoding_1.IS_NOT_ZEROISH,\n            ...encoding_1.op.local_get(1),\n            ...encoding_1.IS_NOT_ZEROISH,\n            encoding_1.op.i32_or,\n            ...encoding_1.op.i32_const(0),\n            encoding_1.op.i32_ne,\n            encoding_1.op.f64_convert_i32_s,\n        ],\n    },\n    band: {\n        args: [encoding_1.VAL_TYPE.f64, encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        binary: [\n            ...encoding_1.op.local_get(0),\n            ...encoding_1.IS_NOT_ZEROISH,\n            ...encoding_1.op.local_get(1),\n            ...encoding_1.IS_NOT_ZEROISH,\n            encoding_1.op.i32_and,\n            ...encoding_1.op.i32_const(0),\n            encoding_1.op.i32_ne,\n            encoding_1.op.f64_convert_i32_s,\n        ],\n    },\n    sign: {\n        args: [encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        binary: [\n            ...encoding_1.op.f64_const(0),\n            ...encoding_1.op.local_get(0),\n            encoding_1.op.f64_lt,\n            ...encoding_1.op.local_get(0),\n            ...encoding_1.op.f64_const(0),\n            encoding_1.op.f64_lt,\n            encoding_1.op.i32_sub,\n            encoding_1.op.f64_convert_i32_s,\n        ],\n    },\n    mod: {\n        args: [encoding_1.VAL_TYPE.f64, encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        localVariables: [encoding_1.VAL_TYPE.i32],\n        // TODO: Simplify all this type coersion\n        binary: [\n            ...encoding_1.op.local_get(1),\n            encoding_1.op.i32_trunc_f64_s,\n            ...encoding_1.op.local_tee(2),\n            ...encoding_1.op.i32_const(0),\n            encoding_1.op.i32_ne,\n            ...encoding_1.op.if(encoding_1.BLOCK.f64),\n            ...encoding_1.op.local_get(0),\n            encoding_1.op.i32_trunc_f64_s,\n            ...encoding_1.op.local_get(2),\n            encoding_1.op.i32_rem_s,\n            encoding_1.op.f64_convert_i32_s,\n            encoding_1.op.else,\n            ...encoding_1.op.f64_const(0),\n            encoding_1.op.end,\n        ],\n    },\n    bitwiseOr: {\n        args: [encoding_1.VAL_TYPE.f64, encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        binary: [\n            ...encoding_1.op.local_get(0),\n            encoding_1.op.i64_trunc_s_f64,\n            ...encoding_1.op.local_get(1),\n            encoding_1.op.i64_trunc_s_f64,\n            encoding_1.op.i64_or,\n            encoding_1.op.f64_convert_i64_s,\n        ],\n    },\n    bitwiseAnd: {\n        args: [encoding_1.VAL_TYPE.f64, encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        binary: [\n            ...encoding_1.op.local_get(0),\n            encoding_1.op.i64_trunc_s_f64,\n            ...encoding_1.op.local_get(1),\n            encoding_1.op.i64_trunc_s_f64,\n            encoding_1.op.i64_and,\n            encoding_1.op.f64_convert_i64_s,\n        ],\n    },\n    div: {\n        args: [encoding_1.VAL_TYPE.f64, encoding_1.VAL_TYPE.f64],\n        returns: [encoding_1.VAL_TYPE.f64],\n        localVariables: [encoding_1.VAL_TYPE.i32],\n        binary: [\n            ...encoding_1.op.local_get(1),\n            ...encoding_1.op.f64_const(0),\n            encoding_1.op.f64_ne,\n            ...encoding_1.op.if(encoding_1.BLOCK.f64),\n            ...encoding_1.op.local_get(0),\n            ...encoding_1.op.local_get(1),\n            encoding_1.op.f64_div,\n            encoding_1.op.else,\n            ...encoding_1.op.f64_const(0),\n            encoding_1.op.end,\n        ],\n    },\n    // Takes a float buffer index and converts it to an int. Values out of range\n    // are returned as `-1`.\n    //\n    // NOTE: There's actually a subtle bug that exists in Milkdrop's Eel\n    // implementation, which we reproduce here.\n    //\n    // Wasm's `trunc()` rounds towards zero. This means that for index `-1` we\n    // will return zero, since: `roundTowardZero(-1 + EPSILON) == 0`\n    //\n    // A subsequent check handles negative indexes, so negative indexes > than\n    // `-1` are not affected.\n    _getBufferIndex: {\n        args: [encoding_1.VAL_TYPE.f64 /* 0: $index */],\n        returns: [encoding_1.VAL_TYPE.i32 /* $noramlizedIndex */],\n        localVariables: [\n            encoding_1.VAL_TYPE.f64,\n            encoding_1.VAL_TYPE.i32,\n        ],\n        binary: [\n            ...encoding_1.op.f64_const(encoding_1.EPSILON),\n            ...encoding_1.op.local_get(0),\n            encoding_1.op.f64_add,\n            // STACK: [$i + EPSILON]\n            ...encoding_1.op.local_tee(1),\n            encoding_1.op.i32_trunc_f64_s,\n            // TODO We could probably make this a tee and get rid of the next get if we swap the final condition\n            ...encoding_1.op.local_set(2),\n            // STACK: []\n            ...encoding_1.op.i32_const(-1),\n            ...encoding_1.op.local_get(2),\n            // STACK: [-1, $truncated]\n            ...encoding_1.op.i32_const(8),\n            encoding_1.op.i32_mul,\n            // STACK: [-1, $truncated * 8]\n            ...encoding_1.op.local_get(2),\n            ...encoding_1.op.i32_const(0),\n            // STACK: [-1, $truncated * 8, $truncated, 0]\n            encoding_1.op.i32_lt_s,\n            // STACK: [-1, $truncated * 8, <is index less than 0>]\n            ...encoding_1.op.local_get(2),\n            ...encoding_1.op.i32_const(constants_1.BUFFER_SIZE - 1),\n            encoding_1.op.i32_gt_s,\n            // STACK: [-1, $truncated * 8, <is index less than 0>, <is index more than MAX>]\n            encoding_1.op.i32_or,\n            // STACK: [-1, $truncated * 8, <is index out of range>]\n            encoding_1.op.select,\n        ],\n    },\n};\n//# sourceMappingURL=wasmFunctions.js.map","// Runtime header offsets\nconst ID_OFFSET = -8;\nconst SIZE_OFFSET = -4;\n\n// Runtime ids\nconst ARRAYBUFFER_ID = 0;\nconst STRING_ID = 1;\n// const ARRAYBUFFERVIEW_ID = 2;\n\n// Runtime type information\nconst ARRAYBUFFERVIEW = 1 << 0;\nconst ARRAY = 1 << 1;\nconst STATICARRAY = 1 << 2;\n// const SET = 1 << 3;\n// const MAP = 1 << 4;\nconst VAL_ALIGN_OFFSET = 6;\n// const VAL_ALIGN = 1 << VAL_ALIGN_OFFSET;\nconst VAL_SIGNED = 1 << 11;\nconst VAL_FLOAT = 1 << 12;\n// const VAL_NULLABLE = 1 << 13;\nconst VAL_MANAGED = 1 << 14;\n// const KEY_ALIGN_OFFSET = 15;\n// const KEY_ALIGN = 1 << KEY_ALIGN_OFFSET;\n// const KEY_SIGNED = 1 << 20;\n// const KEY_FLOAT = 1 << 21;\n// const KEY_NULLABLE = 1 << 22;\n// const KEY_MANAGED = 1 << 23;\n\n// Array(BufferView) layout\nconst ARRAYBUFFERVIEW_BUFFER_OFFSET = 0;\nconst ARRAYBUFFERVIEW_DATASTART_OFFSET = 4;\nconst ARRAYBUFFERVIEW_DATALENGTH_OFFSET = 8;\nconst ARRAYBUFFERVIEW_SIZE = 12;\nconst ARRAY_LENGTH_OFFSET = 12;\nconst ARRAY_SIZE = 16;\n\nconst BIGINT = typeof BigUint64Array !== \"undefined\";\nconst THIS = Symbol();\n\nconst STRING_DECODE_THRESHOLD = 32;\nconst decoder = new TextDecoder(\"utf-16le\");\n\n/** Gets a string from an U32 and an U16 view on a memory. */\nfunction getStringImpl(buffer, ptr) {\n  const len = new Uint32Array(buffer)[ptr + SIZE_OFFSET >>> 2] >>> 1;\n  const arr = new Uint16Array(buffer, ptr, len);\n  if (len <= STRING_DECODE_THRESHOLD) {\n    return String.fromCharCode.apply(String, arr);\n  }\n  return decoder.decode(arr);\n}\n\n/** Prepares the base module prior to instantiation. */\nfunction preInstantiate(imports) {\n  const extendedExports = {};\n\n  function getString(memory, ptr) {\n    if (!memory) return \"<yet unknown>\";\n    return getStringImpl(memory.buffer, ptr);\n  }\n\n  // add common imports used by stdlib for convenience\n  const env = (imports.env = imports.env || {});\n  env.abort = env.abort || function abort(msg, file, line, colm) {\n    const memory = extendedExports.memory || env.memory; // prefer exported, otherwise try imported\n    throw Error(`abort: ${getString(memory, msg)} at ${getString(memory, file)}:${line}:${colm}`);\n  };\n  env.trace = env.trace || function trace(msg, n, ...args) {\n    const memory = extendedExports.memory || env.memory;\n    console.log(`trace: ${getString(memory, msg)}${n ? \" \" : \"\"}${args.slice(0, n).join(\", \")}`);\n  };\n  env.seed = env.seed || Date.now;\n  imports.Math = imports.Math || Math;\n  imports.Date = imports.Date || Date;\n\n  return extendedExports;\n}\n\n/** Prepares the final module once instantiation is complete. */\nfunction postInstantiate(extendedExports, instance) {\n  const exports = instance.exports;\n  const memory = exports.memory;\n  const table = exports.table;\n  const __new = exports[\"__new\"];\n  const __retain = exports[\"__retain\"];\n  const __rtti_base = exports[\"__rtti_base\"] || ~0; // oob if not present\n\n  /** Gets the runtime type info for the given id. */\n  function getInfo(id) {\n    const U32 = new Uint32Array(memory.buffer);\n    const count = U32[__rtti_base >>> 2];\n    if ((id >>>= 0) >= count) throw Error(`invalid id: ${id}`);\n    return U32[(__rtti_base + 4 >>> 2) + id * 2];\n  }\n\n  /** Gets and validate runtime type info for the given id for array like objects */\n  function getArrayInfo(id) {\n    const info = getInfo(id);\n    if (!(info & (ARRAYBUFFERVIEW | ARRAY | STATICARRAY))) throw Error(`not an array: ${id}, flags=${info}`);\n    return info;\n  }\n\n  /** Gets the runtime base id for the given id. */\n  function getBase(id) {\n    const U32 = new Uint32Array(memory.buffer);\n    const count = U32[__rtti_base >>> 2];\n    if ((id >>>= 0) >= count) throw Error(`invalid id: ${id}`);\n    return U32[(__rtti_base + 4 >>> 2) + id * 2 + 1];\n  }\n\n  /** Gets the runtime alignment of a collection's values. */\n  function getValueAlign(info) {\n    return 31 - Math.clz32((info >>> VAL_ALIGN_OFFSET) & 31); // -1 if none\n  }\n\n  /** Gets the runtime alignment of a collection's keys. */\n  // function getKeyAlign(info) {\n  //   return 31 - Math.clz32((info >>> KEY_ALIGN_OFFSET) & 31); // -1 if none\n  // }\n\n  /** Allocates a new string in the module's memory and returns its retained pointer. */\n  function __newString(str) {\n    if (str == null) return 0;\n    const length = str.length;\n    const ptr = __new(length << 1, STRING_ID);\n    const U16 = new Uint16Array(memory.buffer);\n    for (var i = 0, p = ptr >>> 1; i < length; ++i) U16[p + i] = str.charCodeAt(i);\n    return ptr;\n  }\n\n  extendedExports.__newString = __newString;\n\n  /** Reads a string from the module's memory by its pointer. */\n  function __getString(ptr) {\n    if (!ptr) return null;\n    const buffer = memory.buffer;\n    const id = new Uint32Array(buffer)[ptr + ID_OFFSET >>> 2];\n    if (id !== STRING_ID) throw Error(`not a string: ${ptr}`);\n    return getStringImpl(buffer, ptr);\n  }\n\n  extendedExports.__getString = __getString;\n\n  /** Gets the view matching the specified alignment, signedness and floatness. */\n  function getView(alignLog2, signed, float) {\n    const buffer = memory.buffer;\n    if (float) {\n      switch (alignLog2) {\n        case 2: return new Float32Array(buffer);\n        case 3: return new Float64Array(buffer);\n      }\n    } else {\n      switch (alignLog2) {\n        case 0: return new (signed ? Int8Array : Uint8Array)(buffer);\n        case 1: return new (signed ? Int16Array : Uint16Array)(buffer);\n        case 2: return new (signed ? Int32Array : Uint32Array)(buffer);\n        case 3: return new (signed ? BigInt64Array : BigUint64Array)(buffer);\n      }\n    }\n    throw Error(`unsupported align: ${alignLog2}`);\n  }\n\n  /** Allocates a new array in the module's memory and returns its retained pointer. */\n  function __newArray(id, values) {\n    const info = getArrayInfo(id);\n    const align = getValueAlign(info);\n    const length = values.length;\n    const buf = __new(length << align, info & STATICARRAY ? id : ARRAYBUFFER_ID);\n    let result;\n    if (info & STATICARRAY) {\n      result = buf;\n    } else {\n      const arr = __new(info & ARRAY ? ARRAY_SIZE : ARRAYBUFFERVIEW_SIZE, id);\n      const U32 = new Uint32Array(memory.buffer);\n      U32[arr + ARRAYBUFFERVIEW_BUFFER_OFFSET >>> 2] = __retain(buf);\n      U32[arr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2] = buf;\n      U32[arr + ARRAYBUFFERVIEW_DATALENGTH_OFFSET >>> 2] = length << align;\n      if (info & ARRAY) U32[arr + ARRAY_LENGTH_OFFSET >>> 2] = length;\n      result = arr;\n    }\n    const view = getView(align, info & VAL_SIGNED, info & VAL_FLOAT);\n    if (info & VAL_MANAGED) {\n      for (let i = 0; i < length; ++i) view[(buf >>> align) + i] = __retain(values[i]);\n    } else {\n      view.set(values, buf >>> align);\n    }\n    return result;\n  }\n\n  extendedExports.__newArray = __newArray;\n\n  /** Gets a live view on an array's values in the module's memory. Infers the array type from RTTI. */\n  function __getArrayView(arr) {\n    const U32 = new Uint32Array(memory.buffer);\n    const id = U32[arr + ID_OFFSET >>> 2];\n    const info = getArrayInfo(id);\n    const align = getValueAlign(info);\n    let buf = info & STATICARRAY\n      ? arr\n      : U32[arr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2];\n    const length = info & ARRAY\n      ? U32[arr + ARRAY_LENGTH_OFFSET >>> 2]\n      : U32[buf + SIZE_OFFSET >>> 2] >>> align;\n    return getView(align, info & VAL_SIGNED, info & VAL_FLOAT).subarray(buf >>>= align, buf + length);\n  }\n\n  extendedExports.__getArrayView = __getArrayView;\n\n  /** Copies an array's values from the module's memory. Infers the array type from RTTI. */\n  function __getArray(arr) {\n    const input = __getArrayView(arr);\n    const len = input.length;\n    const out = new Array(len);\n    for (let i = 0; i < len; i++) out[i] = input[i];\n    return out;\n  }\n\n  extendedExports.__getArray = __getArray;\n\n  /** Copies an ArrayBuffer's value from the module's memory. */\n  function __getArrayBuffer(ptr) {\n    const buffer = memory.buffer;\n    const length = new Uint32Array(buffer)[ptr + SIZE_OFFSET >>> 2];\n    return buffer.slice(ptr, ptr + length);\n  }\n\n  extendedExports.__getArrayBuffer = __getArrayBuffer;\n\n  /** Copies a typed array's values from the module's memory. */\n  function getTypedArray(Type, alignLog2, ptr) {\n    return new Type(getTypedArrayView(Type, alignLog2, ptr));\n  }\n\n  /** Gets a live view on a typed array's values in the module's memory. */\n  function getTypedArrayView(Type, alignLog2, ptr) {\n    const buffer = memory.buffer;\n    const U32 = new Uint32Array(buffer);\n    const bufPtr = U32[ptr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2];\n    return new Type(buffer, bufPtr, U32[bufPtr + SIZE_OFFSET >>> 2] >>> alignLog2);\n  }\n\n  /** Attach a set of get TypedArray and View functions to the exports. */\n  function attachTypedArrayFunctions(ctor, name, align) {\n    extendedExports[`__get${name}`] = getTypedArray.bind(null, ctor, align);\n    extendedExports[`__get${name}View`] = getTypedArrayView.bind(null, ctor, align);\n  }\n\n  [\n    Int8Array,\n    Uint8Array,\n    Uint8ClampedArray,\n    Int16Array,\n    Uint16Array,\n    Int32Array,\n    Uint32Array,\n    Float32Array,\n    Float64Array\n  ].forEach(ctor => {\n    attachTypedArrayFunctions(ctor, ctor.name, 31 - Math.clz32(ctor.BYTES_PER_ELEMENT));\n  });\n\n  if (BIGINT) {\n    [BigUint64Array, BigInt64Array].forEach(ctor => {\n      attachTypedArrayFunctions(ctor, ctor.name.slice(3), 3);\n    });\n  }\n\n  /** Tests whether an object is an instance of the class represented by the specified base id. */\n  function __instanceof(ptr, baseId) {\n    const U32 = new Uint32Array(memory.buffer);\n    let id = U32[ptr + ID_OFFSET >>> 2];\n    if (id <= U32[__rtti_base >>> 2]) {\n      do {\n        if (id == baseId) return true;\n        id = getBase(id);\n      } while (id);\n    }\n    return false;\n  }\n\n  extendedExports.__instanceof = __instanceof;\n\n  // Pull basic exports to extendedExports so code in preInstantiate can use them\n  extendedExports.memory = extendedExports.memory || memory;\n  extendedExports.table  = extendedExports.table  || table;\n\n  // Demangle exports and provide the usual utility on the prototype\n  return demangle(exports, extendedExports);\n}\n\nfunction isResponse(src) {\n  return typeof Response !== \"undefined\" && src instanceof Response;\n}\n\nfunction isModule(src) {\n  return src instanceof WebAssembly.Module;\n}\n\n/** Asynchronously instantiates an AssemblyScript module from anything that can be instantiated. */\nexport async function instantiate(source, imports = {}) {\n  if (isResponse(source = await source)) return instantiateStreaming(source, imports);\n  const module = isModule(source) ? source : await WebAssembly.compile(source);\n  const extended = preInstantiate(imports);\n  const instance = await WebAssembly.instantiate(module, imports);\n  const exports = postInstantiate(extended, instance);\n  return { module, instance, exports };\n}\n\n/** Synchronously instantiates an AssemblyScript module from a WebAssembly.Module or binary buffer. */\nexport function instantiateSync(source, imports = {}) {\n  const module = isModule(source) ? source : new WebAssembly.Module(source);\n  const extended = preInstantiate(imports);\n  const instance = new WebAssembly.Instance(module, imports);\n  const exports = postInstantiate(extended, instance);\n  return { module, instance, exports };\n}\n\n/** Asynchronously instantiates an AssemblyScript module from a response, i.e. as obtained by `fetch`. */\nexport async function instantiateStreaming(source, imports = {}) {\n  if (!WebAssembly.instantiateStreaming) {\n    return instantiate(\n      isResponse(source = await source)\n        ? source.arrayBuffer()\n        : source,\n      imports\n    );\n  }\n  const extended = preInstantiate(imports);\n  const result = await WebAssembly.instantiateStreaming(source, imports);\n  const exports = postInstantiate(extended, result.instance);\n  return { ...result, exports };\n}\n\n/** Demangles an AssemblyScript module's exports to a friendly object structure. */\nexport function demangle(exports, extendedExports = {}) {\n  const setArgumentsLength = exports[\"__argumentsLength\"]\n    ? length => { exports[\"__argumentsLength\"].value = length; }\n    : exports[\"__setArgumentsLength\"] || exports[\"__setargc\"] || (() => { /* nop */ });\n  for (let internalName in exports) {\n    if (!Object.prototype.hasOwnProperty.call(exports, internalName)) continue;\n    const elem = exports[internalName];\n    let parts = internalName.split(\".\");\n    let curr = extendedExports;\n    while (parts.length > 1) {\n      let part = parts.shift();\n      if (!Object.prototype.hasOwnProperty.call(curr, part)) curr[part] = {};\n      curr = curr[part];\n    }\n    let name = parts[0];\n    let hash = name.indexOf(\"#\");\n    if (hash >= 0) {\n      const className = name.substring(0, hash);\n      const classElem = curr[className];\n      if (typeof classElem === \"undefined\" || !classElem.prototype) {\n        const ctor = function(...args) {\n          return ctor.wrap(ctor.prototype.constructor(0, ...args));\n        };\n        ctor.prototype = {\n          valueOf() { return this[THIS]; }\n        };\n        ctor.wrap = function(thisValue) {\n          return Object.create(ctor.prototype, { [THIS]: { value: thisValue, writable: false } });\n        };\n        if (classElem) Object.getOwnPropertyNames(classElem).forEach(name =>\n          Object.defineProperty(ctor, name, Object.getOwnPropertyDescriptor(classElem, name))\n        );\n        curr[className] = ctor;\n      }\n      name = name.substring(hash + 1);\n      curr = curr[className].prototype;\n      if (/^(get|set):/.test(name)) {\n        if (!Object.prototype.hasOwnProperty.call(curr, name = name.substring(4))) {\n          let getter = exports[internalName.replace(\"set:\", \"get:\")];\n          let setter = exports[internalName.replace(\"get:\", \"set:\")];\n          Object.defineProperty(curr, name, {\n            get() { return getter(this[THIS]); },\n            set(value) { setter(this[THIS], value); },\n            enumerable: true\n          });\n        }\n      } else {\n        if (name === 'constructor') {\n          (curr[name] = (...args) => {\n            setArgumentsLength(args.length);\n            return elem(...args);\n          }).original = elem;\n        } else { // instance method\n          (curr[name] = function(...args) { // !\n            setArgumentsLength(args.length);\n            return elem(this[THIS], ...args);\n          }).original = elem;\n        }\n      }\n    } else {\n      if (/^(get|set):/.test(name)) {\n        if (!Object.prototype.hasOwnProperty.call(curr, name = name.substring(4))) {\n          Object.defineProperty(curr, name, {\n            get: exports[internalName.replace(\"set:\", \"get:\")],\n            set: exports[internalName.replace(\"get:\", \"set:\")],\n            enumerable: true\n          });\n        }\n      } else if (typeof elem === \"function\" && elem !== setArgumentsLength) {\n        (curr[name] = (...args) => {\n          setArgumentsLength(args.length);\n          return elem(...args);\n        }).original = elem;\n      } else {\n        curr[name] = elem;\n      }\n    }\n  }\n  return extendedExports;\n}\n\nexport default {\n  instantiate,\n  instantiateSync,\n  instantiateStreaming,\n  demangle\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n",""],"names":["AudioLevels","constructor","audio","sampleRate","audioContext","bucketHz","fftSize","bassLow","Math","clamp","round","numSamps","bassHigh","midHigh","trebHigh","starts","stops","val","Float32Array","imm","att","avg","longAvg","fill","bass","bass_att","mid","mid_att","treb","treb_att","isFiniteNumber","num","Number","isFinite","isNaN","adjustRateToFPS","rate","baseFPS","FPS","updateAudioLevels","fps","frame","freqArray","length","effectiveFPS","i","j","FFT","AudioProcessor","context","fft","audible","createDelay","analyser","createAnalyser","smoothingTimeConstant","connect","analyserL","analyserR","splitter","createChannelSplitter","timeByteArray","Uint8Array","timeByteArrayL","timeByteArrayR","timeArray","Int8Array","timeByteArraySignedL","timeByteArraySignedR","tempTimeArrayL","tempTimeArrayR","timeArrayL","timeArrayR","sampleAudio","getByteTimeDomainData","processAudio","updateAudio","set","lastIdx","timeToFrequencyDomain","freqArrayL","freqArrayR","connectAudio","audionode","disconnectAudio","disconnect","samplesIn","samplesOut","equalize","arguments","undefined","NFREQ","initEqualizeTable","initBitRevTable","initCosSinTable","equalizeArr","invHalfNFREQ","log","bitrevtable","Uint16Array","temp","m","dftsize","tabsize","cossintable","theta","PI","cos","sin","waveDataIn","real","imag","idx","t","wpr","wpi","wr","wi","hdftsize","tempr","tempi","wtemp","spectralDataOut","sqrt","define","pmap","baseVals","gammaadj","wave_g","mv_x","warpscale","brighten","mv_y","wave_scale","echo_alpha","additivewave","sx","sy","warp","red_blue","wave_mode","wave_brighten","wrap","zoomexp","fshader","wave_r","echo_zoom","wave_smoothing","warpanimspeed","wave_dots","wave_x","wave_y","zoom","solarize","modwavealphabyvolume","dx","cx","dy","darken_center","cy","invert","bmotionvectorson","rot","modwavealphaend","wave_mystery","decay","wave_a","wave_b","rating","modwavealphastart","darken","echo_orient","ib_r","ib_g","ib_b","ib_a","ib_size","ob_r","ob_g","ob_b","ob_a","ob_size","mv_dx","mv_dy","mv_a","mv_r","mv_g","mv_b","mv_l","init_eqs","frame_eqs","rkeys","pixel_eqs","rad","waves","a","enabled","b","g","scaling","samples","additive","usedots","spectrum","r","smoothing","thick","sep","point_eqs","shapes","r2","tex_ang","thickoutline","textured","g2","tex_zoom","border_a","border_b","b2","a2","border_g","x","y","ang","sides","border_r","comp","Utils","PresetEquationRunner","preset","globalVars","opts","texsizeX","texsizeY","mesh_width","mesh_height","aspectx","aspecty","invAspectx","invAspecty","qs","range","map","ts","regs","initializeEquations","runVertEQs","mdVSQInit","mdVSRegs","mdVSFrame","mdVSUserKeys","mdVSFrameMap","mdVSShapes","mdVSUserKeysShapes","mdVSFrameMapShapes","mdVSWaves","mdVSUserKeysWaves","mdVSFrameMapWaves","mdVSQAfterFrame","gmegabuf","Array","mdVSBase","time","meshx","meshy","pixelsx","pixelsy","mdVS","Object","assign","megabuf","rand_start","random","rand_preset","nonUserKeys","concat","keys","mdVSAfterInit","cloneVars","pick","initUserVars","omit","mdVSTWaveInits","wave","mdVSWave","nonUserWaveKeys","push","mdVSTShapeInits","shape","mdVSShape","nonUserShapeKeys","updatePreset","updateGlobals","runFrameEquations","runPixelEquations","mdVSVertex","runShapeFrameEquations","shapeIdx","runWaveFrameEquations","waveIdx","runWavePointEquations","mdVSWaveFrame","PresetEquationRunnerWASM","globalKeys","frameKeys","waveFrameKeys","waveFrameInputKeys","getQVars","pool","pickWasm","globalPools","getTVars","setWasm","perFrame","save_qs","ImageTextures","gl","anisoExt","getExtension","samplers","this_","createImageBitmap","dataURItoBlob","then","image","clouds2Image","clouds2","createTexture","bindTexture","emptyImage","empty","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","ia","charCodeAt","blob","Blob","type","texture","data","width","height","TEXTURE_2D","pixelStorei","UNPACK_ALIGNMENT","texImage2D","RGBA","UNSIGNED_BYTE","generateMipmap","texParameteri","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","TEXTURE_MAG_FILTER","LINEAR","max","getParameter","MAX_TEXTURE_MAX_ANISOTROPY_EXT","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","loadExtraImages","imageData","forEach","imageName","getTexture","sampler","tex","Visualizer","Butterchurn","createVisualizer","canvas","Noise","noiseTexLQ","noiseTexLQLite","noiseTexMQ","noiseTexHQ","noiseTexVolLQ","noiseTexVolHQ","nTexArrLQ","createNoiseTex","nTexArrLQLite","nTexArrMQ","nTexArrHQ","nTexArrVolLQ","createNoiseVolTex","nTexArrVolHQ","bindTexture3D","noiseTexPointLQ","createSampler","samplerParameteri","NEAREST_MIPMAP_NEAREST","NEAREST","depth","TEXTURE_3D","texImage3D","TEXTURE_WRAP_R","fCubicInterpolate","y0","y1","y2","y3","t2","t3","a0","a1","a3","dwCubicInterpolate","ret","f","noiseSize","nsize","texArr","texRange","halfTexRange","floor","wordsPerSlice","wordsPerLine","z","baseX","baseY","result","offset","baseZ","EPSILON","self","sqr","abs","log10","LOG10E","sign","rand","xf","randint","bnot","pow","div","mod","bitor","bitand","sigmoid","exp","bor","band","equal","above","below","ifcond","memcpy","dst","src","len","destOffset","srcOffset","copyLen","copyWithin","BlendPattern","vertInfoA","vertInfoC","createBlendPattern","resizeMatrixValues","oldMat","oldWidth","oldHeight","newWidth","newHeight","newMat","nVert","nx","ny","val00","val01","val10","val11","oldMeshWidth","oldMeshHeight","genPlasma","x0","x1","dt","midx","midy","t00","t01","t10","t11","mixType","vx","vy","invBand","fy","fx","minc","maxc","mult","dir","ShaderUtils","MotionVectors","maxX","maxY","positions","positionVertexBuf","createBuffer","floatPrecision","getFragmentFloatPrecision","createShader","shaderProgram","createProgram","vertShader","VERTEX_SHADER","shaderSource","trim","compileShader","fragShader","FRAGMENT_SHADER","attachShader","linkProgram","aPosLoc","getAttribLocation","colorLoc","getUniformLocation","getMotionDir","warpUVs","gridX1","fx2","fy2","generateMotionVectors","mvOn","mvA","nX","nY","dx2","dy2","lenMult","minLen","numVecVerts","fx2arr","dxi","dyi","fdist","vx1","vy1","vx2","vy2","color","drawMotionVectors","useProgram","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","uniform4fv","lineWidth","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","drawArrays","LINES","blankPreset","BasicWaveform","CustomWaveform","CustomShape","Border","DarkenCenter","WarpShader","CompShader","OutputShader","ResampleShader","BlurShader","TitleText","Renderer","frameNum","presetTime","lastTime","performance","now","timeHist","timeHistMax","blending","blendStartTime","blendProgress","blendDuration","meshWidth","meshHeight","pixelRatio","devicePixelRatio","textureRatio","outputFXAA","blurRatios","audioLevels","prevFrameBuffer","createFramebuffer","targetFrameBuffer","prevTexture","targetTexture","compFrameBuffer","compTexture","bindFrameBufferTexture","params","noise","warpShader","compShader","outputShader","prevWarpShader","prevCompShader","numBlurPasses","blurShader1","blurShader2","blurShader3","blurTexture1","blurVerticalTexture","blurTexture2","blurTexture3","basicWaveform","customWaveforms","customShapes","prevCustomWaveforms","prevCustomShapes","darkenCenter","innerBorder","outerBorder","motionVectors","titleText","blendPattern","resampleShader","supertext","startTime","warpColor","clearColor","prevPreset","presetEquationRunner","prevPresetEquationRunner","useWASM","regVars","createCanvas","OffscreenCanvas","document","createElement","getHighestBlur","test","loadPreset","blendTime","old_wave_mode","value","pixel_eqs_initialize_array","tmpWarpShader","tmpCompShader","warpText","compText","updateShader","setRendererSize","oldTexsizeX","oldTexsizeY","targetTextureNew","bindFrambufferAndSetViewport","renderQuadTexture","renderToScreen","setInternalMeshSize","setOutputAA","useAA","calcTimeAndFPS","elapsedTime","elapsed","newTime","newHistTime","shift","newFPS","damping","gridX","gridZ","gridZ1","warpTimeV","warpScaleInv","warpf0","warpf1","warpf2","warpf3","texelOffsetX","texelOffsetY","offsetColor","zoomExp","iz","ix","atan2","zoom2V","zoom2Inv","u","v","u2","v2","cosRot","sinRot","mix2","varPool","perVertex","pixel_eqs_wasm","pixel_eqs_get_array","newWarpUVs","mixFrameEquations","mdVSFramePrev","mix","snapPoint","mixedFrame","wave_thick","b1n","b2n","b3n","b1x","b2x","b3x","b1ed","getBlurValues","blurMin1","blurMin2","blurMin3","blurMax1","blurMax2","blurMax3","fMinDist","min","blurMins","blurMaxs","fb","bindFramebuffer","FRAMEBUFFER","viewport","CLAMP_TO_EDGE","framebufferTexture2D","COLOR_ATTACHMENT0","render","prevGlobalVars","mdVSFrameMixed","prevMDVSFrame","swapTexture","swapFrameBuffer","clear","COLOR_BUFFER_BIT","enable","BLEND","blendEquation","FUNC_ADD","renderBlurTexture","drawCustomShape","waveform","drawCustomWaveform","drawBasicWaveform","drawDarkenCenter","outerColor","drawBorder","innerColor","progress","duration","renderTitle","launchSongTitleAnim","text","generateTitleTexture","toDataURL","readPixels","from","slice","getContext","createImageData","putImageData","deleteTexture","deleteFramebuffer","warpBufferToDataURL","BlurVertical","BlurHorizontal","blurLevel","blurHorizontalFrameBuffer","blurVerticalFrameBuffer","blurHorizontalTexture","setupFrameBufferTextures","blurHorizontal","blurVertical","getTextureSize","sizeRatio","sizeX","sizeY","srcBlurRatios","dstBlurRatios","srcTexsizeHorizontal","dstTexsizeHorizontal","srcTexsizeVertical","dstTexsizeVertical","horizontalTexsizes","verticalTexsizes","texsize","w","w1H","w2H","w3H","w4H","d1H","d2H","d3H","d4H","ws","ds","wDiv","vertexBuf","positionLocation","textureLoc","texsizeLocation","scaleLoc","biasLoc","wsLoc","dsLocation","wdivLoc","getScaleAndBias","scale","bias","tempMin","tempMax","srcTexsize","activeTexture","TEXTURE0","uniform1i","uniform1f","TRIANGLE_STRIP","w1V","w2V","d1V","d2V","wds","ed1Loc","ed2Loc","ed3Loc","wdsLocation","compWidth","compHeight","buildPositions","indexBuf","compColorVertexBuf","mainSampler","mainSamplerFW","mainSamplerFC","mainSamplerPW","mainSamplerPC","widthHalf","heightHalf","gridY","gridY1","segmentWidth","segmentHeight","vertices","iy","indices","c","d","shaderText","fragShaderText","fragShaderHeaderText","shaderParts","getShaderParts","replace","userTextures","getUserSamplers","compColorLocation","textureFWLoc","textureFCLoc","texturePWLoc","texturePCLoc","blurTexture1Loc","blurTexture2Loc","blurTexture3Loc","noiseLQLoc","noiseMQLoc","noiseHQLoc","noiseLQLiteLoc","noisePointLQLoc","noiseVolLQLoc","noiseVolHQLoc","timeLoc","gammaAdjLoc","echoZoomLoc","echoAlphaLoc","echoOrientationLoc","invertLoc","brightenLoc","darkenLoc","solarizeLoc","texsizeLoc","texsizeNoiseLQLoc","texsizeNoiseMQLoc","texsizeNoiseHQLoc","texsizeNoiseLQLiteLoc","texsizeNoiseVolLQLoc","texsizeNoiseVolHQLoc","resolutionLoc","aspectLoc","bassLoc","midLoc","trebLoc","volLoc","bassAttLoc","midAttLoc","trebAttLoc","volAttLoc","frameLoc","fpsLoc","blur1MinLoc","blur1MaxLoc","blur2MinLoc","blur2MaxLoc","blur3MinLoc","blur3MaxLoc","scale1Loc","scale2Loc","scale3Loc","bias1Loc","bias2Loc","bias3Loc","randPresetLoc","randFrameLoc","fShaderLoc","qaLoc","qbLoc","qcLoc","qdLoc","qeLoc","qfLoc","qgLoc","qhLoc","slowRoamCosLoc","roamCosLoc","slowRoamSinLoc","roamSinLoc","userTexture","bindBlurVals","scale1","bias1","scale2","bias2","scale3","bias3","generateHueBase","hueBase","maxshade","k","generateCompColors","compColor","col","alpha","alpha00","alpha01","alpha10","alpha11","mdVSQs","compColors","ELEMENT_ARRAY_BUFFER","wrapping","bindSampler","TEXTURE1","TEXTURE2","TEXTURE3","TEXTURE4","TEXTURE5","TEXTURE6","TEXTURE7","TEXTURE8","TEXTURE9","TEXTURE10","TEXTURE11","TEXTURE12","TEXTURE13","TEXTURE14","TEXTURE15","uniform2fv","q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15","q16","q17","q18","q19","q20","q21","q22","q23","q24","q25","q26","q27","q28","q29","q30","q31","q32","disable","drawElements","TRIANGLES","UNSIGNED_SHORT","useFXAA","createFXAAShader","deleteProgram","lineMatcher","samplerMatcher","sbIndex","indexOf","beforeShaderBody","substring","afterShaderBody","firstCurly","lastCurly","lastIndexOf","shaderBody","getShaderPrecisionFormat","HIGH_FLOAT","precision","MEDIUM_FLOAT","lineMatches","match","samplerMatches","warpUvVertexBuf","warpColorVertexBuf","warpUvLocation","warpColorLocation","decayLoc","index","maxSides","colors","uvs","borderPositions","colorVertexBuf","uvVertexBuf","borderPositionVertexBuf","createBorderShader","aPosLocation","aColorLocation","aUvLocation","texturedLoc","borderShaderProgram","aBorderPosLoc","uBorderColorLoc","thickOffsetLoc","shapeEqs","setupShapeBuffers","frame_eqs_str","numInst","num_inst","instance","mdVSShapeFrame","borderR","borderG","borderB","borderA","borderColor","texZoom","texAng","hasBorder","isTextured","isBorderThick","isAdditive","quarterPi","p","pTwoPi","angSum","texAngSum","drawCustomShapeInstance","mdVSUserKeysShape","mdVSNewFrameMapShape","restore_qs","save_ts","frame_eqs_save","frame_eqs_restore","restore_ts","DYNAMIC_DRAW","bufferSubData","ONE","TRIANGLE_FAN","instances","LINE_STRIP","addTriangle","point1","point2","point3","generateBorder","borderSize","prevBorderSize","prevBorderWidth","borderWidth","prevBorderWidthWidth","prevBorderWidthHeight","borderWidthWidth","borderWidthHeight","point4","generatePositions","halfSize","textTexture","context2D","willReadFrequently","clearRect","fontSize","font","textLength","measureText","percentToKeep","fillStyle","fillText","getImageData","buffer","UNPACK_FLIP_Y_WEBGL","uvLocation","textColorLoc","generateUvs","flip","vertClip","rampedProgress","progressUvs","WaveUtils","numAudioSamples","positions2","oldPositions","oldPositions2","smoothedPositions","smoothedPositions2","processWaveform","smooth","smooth2","generateWaveform","vol","waveL","waveR","newWaveMode","oldWaveMode","wavePosX","wavePosY","numVert","oldNumVert","its","it","waveMode","fWaveParam2","alphaDiff","numVertInv","sampleOffset","rad2","w1","w2","ioff","edgex","edgey","bClip","ang2","perpDx","perpDy","sample","oldAlpha","fIdx","nIdx","halfNumVert","smoothedNumVert","smoothWave","drawMode","POINTS","maxSamples","pointsData","smoothedColors","sizeLoc","waveEqs","alphaMult","prototype","hasOwnProperty","call","frameR","frameG","frameB","frameA","waveScale","useSpectrum","pointsLeft","pointsRight","j0","j1","mix1","left","right","value1","value2","mdvsUserKeysWave","mdVSNewFrameMapWave","smoothWaveAndColor","waveUseDots","waveThick","waveAdditive","numVerts","positionsSmoothed","nVertsIn","zCoord","c1","c2","c3","c4","invSum","iBelow","iAbove","iAbove2","colorsSmoothed","vars","start","end","_","obj","newObj","key","wasmGlobals","loadModule","ascLoader","loadPresetFunctionsBuffer","vizWidth","vizHeight","reuseCanvas","internalCanvas","antialias","stencil","premultipliedAlpha","outputGl","baseValsDefaults","shapeBaseValsDefaults","waveBaseValsDefaults","globalPerFrameVars","globalPerPixelVars","globalShapeVars","shapeBaseVars","globalWaveVars","renderer","loseGLContext","loseContext","audioNode","overrideDefaultVars","combinedVals","createQVars","wasmVars","WebAssembly","Global","mutable","createTVars","createPerFramePool","createPerPixelPool","createCustomShapePerFramePool","createCustomWavePerFramePool","makeShapeResetPool","variables","reduce","acc","variable","base64ToArrayBuffer","base64","binaryString","bytes","presetMap","JSON","parse","stringify","forceJS","useJS","onlyUseWASM","loadWASMPreset","loadJSPreset","console","warn","qWasmVars","tWasmVars","wasmVarPools","wasmFunctions","presetInit","code","init_eqs_eel","frame_eqs_eel","pixel_eqs_eel","perPixel","point_eqs_eel","pools","functions","eelVersion","version","handleEmptyFunction","presetFunctionsMod","instantiate","pixelEqs","perPixelEqs","exports","pixelVarPool","qVarPool","tVarPool","shapePool0","shapePool1","shapePool2","shapePool3","logi","logf","env","abort","saveQs","restoreQs","saveTs","restoreTs","arrPtr","createFloat32Array","pixel_eqs_array","__getFloat32ArrayView","_len","args","_key","Function","init_eqs_str","pixel_eqs_str","point_eqs_str","setCanvas","renderOutput","drawImage"],"sourceRoot":""}